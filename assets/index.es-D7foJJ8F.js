const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "./index-BfRf43q7.js",
      "./index-6nMvIxqd.js",
      "./index-C4xb4hbR.css",
    ])
) => i.map((i) => d[i]);
import {
  m as Pi,
  n as oo,
  o as Ba,
  q as w5,
  k as _c,
  g as _5,
  t as d0,
  J as Hu,
  _ as A5,
} from "./index-6nMvIxqd.js";
import {
  i as x5,
  b as E5,
  a as I5,
  c as S5,
  d as M5,
  e as P5,
  f as R5,
  g as C5,
  h as N5,
  j as O5,
  k as ye,
  r as T5,
  l as Y1,
  m as q5,
  n as co,
  o as D5,
  p as aa,
  s as sf,
  x as X1,
  q as B5,
  t as Z1,
  u as Hc,
} from "./json-B8QJHigZ.js";
import { r as eg } from "./___vite-browser-external_commonjs-proxy-BO56SoU-.js";
import { r as af } from "./inherits_browser-BICa84dG.js";
var l0 = function (r, e, t) {
    if (t || arguments.length === 2)
      for (var i = 0, s = e.length, a; i < s; i++)
        (a || !(i in e)) &&
          (a || (a = Array.prototype.slice.call(e, 0, i)), (a[i] = e[i]));
    return r.concat(a || Array.prototype.slice.call(e));
  },
  F5 = (function () {
    function r(e, t, i) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.type = "browser");
    }
    return r;
  })(),
  L5 = (function () {
    function r(e) {
      (this.version = e),
        (this.type = "node"),
        (this.name = "node"),
        (this.os = process.platform);
    }
    return r;
  })(),
  k5 = (function () {
    function r(e, t, i, s) {
      (this.name = e),
        (this.version = t),
        (this.os = i),
        (this.bot = s),
        (this.type = "bot-device");
    }
    return r;
  })(),
  z5 = (function () {
    function r() {
      (this.type = "bot"),
        (this.bot = !0),
        (this.name = "bot"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  $5 = (function () {
    function r() {
      (this.type = "react-native"),
        (this.name = "react-native"),
        (this.version = null),
        (this.os = null);
    }
    return r;
  })(),
  U5 =
    /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
  j5 =
    /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
  p0 = 3,
  K5 = [
    ["aol", /AOLShield\/([0-9\._]+)/],
    ["edge", /Edge\/([0-9\._]+)/],
    ["edge-ios", /EdgiOS\/([0-9\._]+)/],
    ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["silk", /\bSilk\/([0-9._-]+)\b/],
    ["miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["edge-chromium", /EdgA?\/([0-9\.]+)/],
    [
      "chromium-webview",
      /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,
    ],
    ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["fxios", /FxiOS\/([0-9\.]+)/],
    ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    [
      "pie",
      /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/,
    ],
    ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["ie", /MSIE\s(7\.0)/],
    ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["android", /Android\s([0-9\.]+)/],
    ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["safari", /Version\/([0-9\._]+).*Safari/],
    ["facebook", /FB[AS]V\/([0-9\.]+)/],
    ["instagram", /Instagram\s([0-9\.]+)/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ["curl", /^curl\/([0-9\.]+)$/],
    ["searchbot", U5],
  ],
  g0 = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/],
  ];
function H5(r) {
  return typeof document > "u" &&
    typeof navigator < "u" &&
    navigator.product === "ReactNative"
    ? new $5()
    : typeof navigator < "u"
    ? G5(navigator.userAgent)
    : W5();
}
function V5(r) {
  return (
    r !== "" &&
    K5.reduce(function (e, t) {
      var i = t[0],
        s = t[1];
      if (e) return e;
      var a = s.exec(r);
      return !!a && [i, a];
    }, !1)
  );
}
function G5(r) {
  var e = V5(r);
  if (!e) return null;
  var t = e[0],
    i = e[1];
  if (t === "searchbot") return new z5();
  var s = i[1] && i[1].split(".").join("_").split("_").slice(0, 3);
  s
    ? s.length < p0 && (s = l0(l0([], s, !0), Q5(p0 - s.length), !0))
    : (s = []);
  var a = s.join("."),
    f = J5(r),
    g = j5.exec(r);
  return g && g[1] ? new k5(t, a, f, g[1]) : new F5(t, a, f);
}
function J5(r) {
  for (var e = 0, t = g0.length; e < t; e++) {
    var i = g0[e],
      s = i[0],
      a = i[1],
      f = a.exec(r);
    if (f) return s;
  }
  return null;
}
function W5() {
  var r = typeof process < "u" && process.version;
  return r ? new L5(process.version.slice(1)) : null;
}
function Q5(r) {
  for (var e = [], t = 0; t < r; t++) e.push("0");
  return e;
}
function tg(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function qc(r, e) {
  e || (e = r.reduce((s, a) => s + a.length, 0));
  const t = tg(e);
  let i = 0;
  for (const s of r) t.set(s, i), (i += s.length);
  return t;
}
const v0 = {
  ...x5,
  ...E5,
  ...I5,
  ...S5,
  ...M5,
  ...P5,
  ...R5,
  ...C5,
  ...N5,
  ...O5,
};
function rg(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const b0 = rg(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  Ih = rg(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = tg(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  ig = {
    utf8: b0,
    "utf-8": b0,
    hex: v0.base16,
    latin1: Ih,
    ascii: Ih,
    binary: Ih,
    ...v0,
  };
function mr(r, e = "utf8") {
  const t = ig[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
function yr(r, e = "utf8") {
  const t = ig[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r.buffer, r.byteOffset, r.byteLength).toString(
        "utf8"
      )
    : t.encoder.encode(r).substring(1);
}
const Y5 =
    /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,
  X5 =
    /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,
  Z5 = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function e4(r, e) {
  if (
    r === "__proto__" ||
    (r === "constructor" && e && typeof e == "object" && "prototype" in e)
  ) {
    t4(r);
    return;
  }
  return e;
}
function t4(r) {
  console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`);
}
function Ac(r, e = {}) {
  if (typeof r != "string") return r;
  const t = r.trim();
  if (r[0] === '"' && r.endsWith('"') && !r.includes("\\"))
    return t.slice(1, -1);
  if (t.length <= 9) {
    const i = t.toLowerCase();
    if (i === "true") return !0;
    if (i === "false") return !1;
    if (i === "undefined") return;
    if (i === "null") return null;
    if (i === "nan") return Number.NaN;
    if (i === "infinity") return Number.POSITIVE_INFINITY;
    if (i === "-infinity") return Number.NEGATIVE_INFINITY;
  }
  if (!Z5.test(r)) {
    if (e.strict) throw new SyntaxError("[destr] Invalid JSON");
    return r;
  }
  try {
    if (Y5.test(r) || X5.test(r)) {
      if (e.strict) throw new Error("[destr] Possible prototype pollution");
      return JSON.parse(r, e4);
    }
    return JSON.parse(r);
  } catch (i) {
    if (e.strict) throw i;
    return r;
  }
}
function r4(r) {
  return !r || typeof r.then != "function" ? Promise.resolve(r) : r;
}
function br(r, ...e) {
  try {
    return r4(r(...e));
  } catch (t) {
    return Promise.reject(t);
  }
}
function i4(r) {
  const e = typeof r;
  return r === null || (e !== "object" && e !== "function");
}
function n4(r) {
  const e = Object.getPrototypeOf(r);
  return !e || e.isPrototypeOf(Object);
}
function Dc(r) {
  if (i4(r)) return String(r);
  if (n4(r) || Array.isArray(r)) return JSON.stringify(r);
  if (typeof r.toJSON == "function") return Dc(r.toJSON());
  throw new Error("[unstorage] Cannot stringify value!");
}
const Ru = "base64:";
function s4(r) {
  return typeof r == "string" ? r : Ru + c4(r);
}
function a4(r) {
  return typeof r != "string" || !r.startsWith(Ru) ? r : o4(r.slice(Ru.length));
}
function o4(r) {
  return globalThis.Buffer
    ? Buffer.from(r, "base64")
    : Uint8Array.from(globalThis.atob(r), (e) => e.codePointAt(0));
}
function c4(r) {
  return globalThis.Buffer
    ? Buffer.from(r).toString("base64")
    : globalThis.btoa(String.fromCodePoint(...r));
}
function Yr(r) {
  var e;
  return (
    (r &&
      ((e = r.split("?")[0]) == null
        ? void 0
        : e
            .replace(/[/\\]/g, ":")
            .replace(/:+/g, ":")
            .replace(/^:|:$/g, ""))) ||
    ""
  );
}
function f4(...r) {
  return Yr(r.join(":"));
}
function xc(r) {
  return (r = Yr(r)), r ? r + ":" : "";
}
const h4 = "memory",
  u4 = () => {
    const r = new Map();
    return {
      name: h4,
      getInstance: () => r,
      hasItem(e) {
        return r.has(e);
      },
      getItem(e) {
        return r.get(e) ?? null;
      },
      getItemRaw(e) {
        return r.get(e) ?? null;
      },
      setItem(e, t) {
        r.set(e, t);
      },
      setItemRaw(e, t) {
        r.set(e, t);
      },
      removeItem(e) {
        r.delete(e);
      },
      getKeys() {
        return [...r.keys()];
      },
      clear() {
        r.clear();
      },
      dispose() {
        r.clear();
      },
    };
  };
function d4(r = {}) {
  const e = {
      mounts: { "": r.driver || u4() },
      mountpoints: [""],
      watching: !1,
      watchListeners: [],
      unwatch: {},
    },
    t = (h) => {
      for (const y of e.mountpoints)
        if (h.startsWith(y))
          return {
            base: y,
            relativeKey: h.slice(y.length),
            driver: e.mounts[y],
          };
      return { base: "", relativeKey: h, driver: e.mounts[""] };
    },
    i = (h, y) =>
      e.mountpoints
        .filter((A) => A.startsWith(h) || (y && h.startsWith(A)))
        .map((A) => ({
          relativeBase: h.length > A.length ? h.slice(A.length) : void 0,
          mountpoint: A,
          driver: e.mounts[A],
        })),
    s = (h, y) => {
      if (e.watching) {
        y = Yr(y);
        for (const A of e.watchListeners) A(h, y);
      }
    },
    a = async () => {
      if (!e.watching) {
        e.watching = !0;
        for (const h in e.mounts) e.unwatch[h] = await m0(e.mounts[h], s, h);
      }
    },
    f = async () => {
      if (e.watching) {
        for (const h in e.unwatch) await e.unwatch[h]();
        (e.unwatch = {}), (e.watching = !1);
      }
    },
    g = (h, y, A) => {
      const P = new Map(),
        R = (C) => {
          let q = P.get(C.base);
          return (
            q ||
              ((q = { driver: C.driver, base: C.base, items: [] }),
              P.set(C.base, q)),
            q
          );
        };
      for (const C of h) {
        const q = typeof C == "string",
          L = Yr(q ? C : C.key),
          j = q ? void 0 : C.value,
          H = q || !C.options ? y : { ...y, ...C.options },
          Y = t(L);
        R(Y).items.push({
          key: L,
          value: j,
          relativeKey: Y.relativeKey,
          options: H,
        });
      }
      return Promise.all([...P.values()].map((C) => A(C))).then((C) =>
        C.flat()
      );
    },
    v = {
      hasItem(h, y = {}) {
        h = Yr(h);
        const { relativeKey: A, driver: P } = t(h);
        return br(P.hasItem, A, y);
      },
      getItem(h, y = {}) {
        h = Yr(h);
        const { relativeKey: A, driver: P } = t(h);
        return br(P.getItem, A, y).then((R) => Ac(R));
      },
      getItems(h, y = {}) {
        return g(h, y, (A) =>
          A.driver.getItems
            ? br(
                A.driver.getItems,
                A.items.map((P) => ({
                  key: P.relativeKey,
                  options: P.options,
                })),
                y
              ).then((P) =>
                P.map((R) => ({ key: f4(A.base, R.key), value: Ac(R.value) }))
              )
            : Promise.all(
                A.items.map((P) =>
                  br(A.driver.getItem, P.relativeKey, P.options).then((R) => ({
                    key: P.key,
                    value: Ac(R),
                  }))
                )
              )
        );
      },
      getItemRaw(h, y = {}) {
        h = Yr(h);
        const { relativeKey: A, driver: P } = t(h);
        return P.getItemRaw
          ? br(P.getItemRaw, A, y)
          : br(P.getItem, A, y).then((R) => a4(R));
      },
      async setItem(h, y, A = {}) {
        if (y === void 0) return v.removeItem(h);
        h = Yr(h);
        const { relativeKey: P, driver: R } = t(h);
        R.setItem &&
          (await br(R.setItem, P, Dc(y), A), R.watch || s("update", h));
      },
      async setItems(h, y) {
        await g(h, y, async (A) => {
          if (A.driver.setItems)
            return br(
              A.driver.setItems,
              A.items.map((P) => ({
                key: P.relativeKey,
                value: Dc(P.value),
                options: P.options,
              })),
              y
            );
          A.driver.setItem &&
            (await Promise.all(
              A.items.map((P) =>
                br(A.driver.setItem, P.relativeKey, Dc(P.value), P.options)
              )
            ));
        });
      },
      async setItemRaw(h, y, A = {}) {
        if (y === void 0) return v.removeItem(h, A);
        h = Yr(h);
        const { relativeKey: P, driver: R } = t(h);
        if (R.setItemRaw) await br(R.setItemRaw, P, y, A);
        else if (R.setItem) await br(R.setItem, P, s4(y), A);
        else return;
        R.watch || s("update", h);
      },
      async removeItem(h, y = {}) {
        typeof y == "boolean" && (y = { removeMeta: y }), (h = Yr(h));
        const { relativeKey: A, driver: P } = t(h);
        P.removeItem &&
          (await br(P.removeItem, A, y),
          (y.removeMeta || y.removeMata) &&
            (await br(P.removeItem, A + "$", y)),
          P.watch || s("remove", h));
      },
      async getMeta(h, y = {}) {
        typeof y == "boolean" && (y = { nativeOnly: y }), (h = Yr(h));
        const { relativeKey: A, driver: P } = t(h),
          R = Object.create(null);
        if (
          (P.getMeta && Object.assign(R, await br(P.getMeta, A, y)),
          !y.nativeOnly)
        ) {
          const C = await br(P.getItem, A + "$", y).then((q) => Ac(q));
          C &&
            typeof C == "object" &&
            (typeof C.atime == "string" && (C.atime = new Date(C.atime)),
            typeof C.mtime == "string" && (C.mtime = new Date(C.mtime)),
            Object.assign(R, C));
        }
        return R;
      },
      setMeta(h, y, A = {}) {
        return this.setItem(h + "$", y, A);
      },
      removeMeta(h, y = {}) {
        return this.removeItem(h + "$", y);
      },
      async getKeys(h, y = {}) {
        h = xc(h);
        const A = i(h, !0);
        let P = [];
        const R = [];
        for (const C of A) {
          const q = await br(C.driver.getKeys, C.relativeBase, y);
          for (const L of q) {
            const j = C.mountpoint + Yr(L);
            P.some((H) => j.startsWith(H)) || R.push(j);
          }
          P = [C.mountpoint, ...P.filter((L) => !L.startsWith(C.mountpoint))];
        }
        return h
          ? R.filter((C) => C.startsWith(h) && C[C.length - 1] !== "$")
          : R.filter((C) => C[C.length - 1] !== "$");
      },
      async clear(h, y = {}) {
        (h = xc(h)),
          await Promise.all(
            i(h, !1).map(async (A) => {
              if (A.driver.clear) return br(A.driver.clear, A.relativeBase, y);
              if (A.driver.removeItem) {
                const P = await A.driver.getKeys(A.relativeBase || "", y);
                return Promise.all(P.map((R) => A.driver.removeItem(R, y)));
              }
            })
          );
      },
      async dispose() {
        await Promise.all(Object.values(e.mounts).map((h) => y0(h)));
      },
      async watch(h) {
        return (
          await a(),
          e.watchListeners.push(h),
          async () => {
            (e.watchListeners = e.watchListeners.filter((y) => y !== h)),
              e.watchListeners.length === 0 && (await f());
          }
        );
      },
      async unwatch() {
        (e.watchListeners = []), await f();
      },
      mount(h, y) {
        if (((h = xc(h)), h && e.mounts[h]))
          throw new Error(`already mounted at ${h}`);
        return (
          h &&
            (e.mountpoints.push(h),
            e.mountpoints.sort((A, P) => P.length - A.length)),
          (e.mounts[h] = y),
          e.watching &&
            Promise.resolve(m0(y, s, h))
              .then((A) => {
                e.unwatch[h] = A;
              })
              .catch(console.error),
          v
        );
      },
      async unmount(h, y = !0) {
        var A, P;
        (h = xc(h)),
          !(!h || !e.mounts[h]) &&
            (e.watching &&
              h in e.unwatch &&
              ((P = (A = e.unwatch)[h]) == null || P.call(A),
              delete e.unwatch[h]),
            y && (await y0(e.mounts[h])),
            (e.mountpoints = e.mountpoints.filter((R) => R !== h)),
            delete e.mounts[h]);
      },
      getMount(h = "") {
        h = Yr(h) + ":";
        const y = t(h);
        return { driver: y.driver, base: y.base };
      },
      getMounts(h = "", y = {}) {
        return (
          (h = Yr(h)),
          i(h, y.parents).map((P) => ({ driver: P.driver, base: P.mountpoint }))
        );
      },
      keys: (h, y = {}) => v.getKeys(h, y),
      get: (h, y = {}) => v.getItem(h, y),
      set: (h, y, A = {}) => v.setItem(h, y, A),
      has: (h, y = {}) => v.hasItem(h, y),
      del: (h, y = {}) => v.removeItem(h, y),
      remove: (h, y = {}) => v.removeItem(h, y),
    };
  return v;
}
function m0(r, e, t) {
  return r.watch ? r.watch((i, s) => e(i, t + s)) : () => {};
}
async function y0(r) {
  typeof r.dispose == "function" && (await br(r.dispose));
}
function Rs(r) {
  return new Promise((e, t) => {
    (r.oncomplete = r.onsuccess = () => e(r.result)),
      (r.onabort = r.onerror = () => t(r.error));
  });
}
function ng(r, e) {
  const t = indexedDB.open(r);
  t.onupgradeneeded = () => t.result.createObjectStore(e);
  const i = Rs(t);
  return (s, a) => i.then((f) => a(f.transaction(e, s).objectStore(e)));
}
let Sh;
function fo() {
  return Sh || (Sh = ng("keyval-store", "keyval")), Sh;
}
function w0(r, e = fo()) {
  return e("readonly", (t) => Rs(t.get(r)));
}
function l4(r, e, t = fo()) {
  return t("readwrite", (i) => (i.put(e, r), Rs(i.transaction)));
}
function p4(r, e = fo()) {
  return e("readwrite", (t) => (t.delete(r), Rs(t.transaction)));
}
function g4(r = fo()) {
  return r("readwrite", (e) => (e.clear(), Rs(e.transaction)));
}
function v4(r, e) {
  return (
    (r.openCursor().onsuccess = function () {
      this.result && (e(this.result), this.result.continue());
    }),
    Rs(r.transaction)
  );
}
function b4(r = fo()) {
  return r("readonly", (e) => {
    if (e.getAllKeys) return Rs(e.getAllKeys());
    const t = [];
    return v4(e, (i) => t.push(i.key)).then(() => t);
  });
}
const m4 = (r) =>
    JSON.stringify(r, (e, t) =>
      typeof t == "bigint" ? t.toString() + "n" : t
    ),
  y4 = (r) => {
    const e =
        /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,
      t = r.replace(e, '$1"$2n"$3');
    return JSON.parse(t, (i, s) =>
      typeof s == "string" && s.match(/^\d+n$/)
        ? BigInt(s.substring(0, s.length - 1))
        : s
    );
  };
function Ss(r) {
  if (typeof r != "string")
    throw new Error(`Cannot safe json parse value of type ${typeof r}`);
  try {
    return y4(r);
  } catch {
    return r;
  }
}
function Ln(r) {
  return typeof r == "string" ? r : m4(r) || "";
}
const w4 = "idb-keyval";
var _4 = (r = {}) => {
  const e = r.base && r.base.length > 0 ? `${r.base}:` : "",
    t = (s) => e + s;
  let i;
  return (
    r.dbName && r.storeName && (i = ng(r.dbName, r.storeName)),
    {
      name: w4,
      options: r,
      async hasItem(s) {
        return !(typeof (await w0(t(s), i)) > "u");
      },
      async getItem(s) {
        return (await w0(t(s), i)) ?? null;
      },
      setItem(s, a) {
        return l4(t(s), a, i);
      },
      removeItem(s) {
        return p4(t(s), i);
      },
      getKeys() {
        return b4(i);
      },
      clear() {
        return g4(i);
      },
    }
  );
};
const A4 = "WALLET_CONNECT_V2_INDEXED_DB",
  x4 = "keyvaluestorage";
let E4 = class {
  constructor() {
    this.indexedDb = d4({ driver: _4({ dbName: A4, storeName: x4 }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(
      (e) => [e.key, e.value]
    );
  }
  async getItem(e) {
    const t = await this.indexedDb.getItem(e);
    if (t !== null) return t;
  }
  async setItem(e, t) {
    await this.indexedDb.setItem(e, Ln(t));
  }
  async removeItem(e) {
    await this.indexedDb.removeItem(e);
  }
};
var Mh =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof global < "u"
      ? global
      : typeof self < "u"
      ? self
      : {},
  Bc = { exports: {} };
(function () {
  let r;
  function e() {}
  (r = e),
    (r.prototype.getItem = function (t) {
      return this.hasOwnProperty(t) ? String(this[t]) : null;
    }),
    (r.prototype.setItem = function (t, i) {
      this[t] = String(i);
    }),
    (r.prototype.removeItem = function (t) {
      delete this[t];
    }),
    (r.prototype.clear = function () {
      const t = this;
      Object.keys(t).forEach(function (i) {
        (t[i] = void 0), delete t[i];
      });
    }),
    (r.prototype.key = function (t) {
      return (t = t || 0), Object.keys(this)[t];
    }),
    r.prototype.__defineGetter__("length", function () {
      return Object.keys(this).length;
    }),
    typeof Mh < "u" && Mh.localStorage
      ? (Bc.exports = Mh.localStorage)
      : typeof window < "u" && window.localStorage
      ? (Bc.exports = window.localStorage)
      : (Bc.exports = new e());
})();
function I4(r) {
  var e;
  return [r[0], Ss((e = r[1]) != null ? e : "")];
}
let S4 = class {
  constructor() {
    this.localStorage = Bc.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map(I4);
  }
  async getItem(e) {
    const t = this.localStorage.getItem(e);
    if (t !== null) return Ss(t);
  }
  async setItem(e, t) {
    this.localStorage.setItem(e, Ln(t));
  }
  async removeItem(e) {
    this.localStorage.removeItem(e);
  }
};
const M4 = "wc_storage_version",
  _0 = 1,
  P4 = async (r, e, t) => {
    const i = M4,
      s = await e.getItem(i);
    if (s && s >= _0) {
      t(e);
      return;
    }
    const a = await r.getKeys();
    if (!a.length) {
      t(e);
      return;
    }
    const f = [];
    for (; a.length; ) {
      const g = a.shift();
      if (!g) continue;
      const v = g.toLowerCase();
      if (
        v.includes("wc@") ||
        v.includes("walletconnect") ||
        v.includes("wc_") ||
        v.includes("wallet_connect")
      ) {
        const h = await r.getItem(g);
        await e.setItem(g, h), f.push(g);
      }
    }
    await e.setItem(i, _0), t(e), R4(r, f);
  },
  R4 = async (r, e) => {
    e.length &&
      e.forEach(async (t) => {
        await r.removeItem(t);
      });
  };
let C4 = class {
  constructor() {
    (this.initialized = !1),
      (this.setInitialized = (t) => {
        (this.storage = t), (this.initialized = !0);
      });
    const e = new S4();
    this.storage = e;
    try {
      const t = new E4();
      P4(e, t, this.setInitialized);
    } catch {
      this.initialized = !0;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(e) {
    return await this.initialize(), this.storage.getItem(e);
  }
  async setItem(e, t) {
    return await this.initialize(), this.storage.setItem(e, t);
  }
  async removeItem(e) {
    return await this.initialize(), this.storage.removeItem(e);
  }
  async initialize() {
    this.initialized ||
      (await new Promise((e) => {
        const t = setInterval(() => {
          this.initialized && (clearInterval(t), e());
        }, 20);
      }));
  }
};
class Cs {}
let N4 = class extends Cs {
  constructor(e) {
    super();
  }
};
const A0 = ye.FIVE_SECONDS,
  fa = { pulse: "heartbeat_pulse" };
let O4 = class sg extends N4 {
  constructor(e) {
    super(e),
      (this.events = new Pi.EventEmitter()),
      (this.interval = A0),
      (this.interval = (e == null ? void 0 : e.interval) || A0);
  }
  static async init(e) {
    const t = new sg(e);
    return await t.init(), t;
  }
  async init() {
    await this.initialize();
  }
  stop() {
    clearInterval(this.intervalRef);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async initialize() {
    this.intervalRef = setInterval(
      () => this.pulse(),
      ye.toMiliseconds(this.interval)
    );
  }
  pulse() {
    this.events.emit(fa.pulse);
  }
};
const T4 = { level: "info" },
  ho = "custom_context",
  Vu = 1e3 * 1024;
let q4 = class {
    constructor(e) {
      (this.nodeValue = e),
        (this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length),
        (this.next = null);
    }
    get value() {
      return this.nodeValue;
    }
    get size() {
      return this.sizeInBytes;
    }
  },
  x0 = class {
    constructor(e) {
      (this.head = null),
        (this.tail = null),
        (this.lengthInNodes = 0),
        (this.maxSizeInBytes = e),
        (this.sizeInBytes = 0);
    }
    append(e) {
      const t = new q4(e);
      if (t.size > this.maxSizeInBytes)
        throw new Error(
          `[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`
        );
      for (; this.size + t.size > this.maxSizeInBytes; ) this.shift();
      this.head
        ? (this.tail && (this.tail.next = t), (this.tail = t))
        : ((this.head = t), (this.tail = t)),
        this.lengthInNodes++,
        (this.sizeInBytes += t.size);
    }
    shift() {
      if (!this.head) return;
      const e = this.head;
      (this.head = this.head.next),
        this.head || (this.tail = null),
        this.lengthInNodes--,
        (this.sizeInBytes -= e.size);
    }
    toArray() {
      const e = [];
      let t = this.head;
      for (; t !== null; ) e.push(t.value), (t = t.next);
      return e;
    }
    get length() {
      return this.lengthInNodes;
    }
    get size() {
      return this.sizeInBytes;
    }
    toOrderedArray() {
      return Array.from(this);
    }
    [Symbol.iterator]() {
      let e = this.head;
      return {
        next: () => {
          if (!e) return { done: !0, value: null };
          const t = e.value;
          return (e = e.next), { done: !1, value: t };
        },
      };
    }
  },
  ag = class {
    constructor(e, t = Vu) {
      (this.level = e ?? "error"),
        (this.levelValue = Ba.levels.values[this.level]),
        (this.MAX_LOG_SIZE_IN_BYTES = t),
        (this.logs = new x0(this.MAX_LOG_SIZE_IN_BYTES));
    }
    forwardToConsole(e, t) {
      t === Ba.levels.values.error
        ? console.error(e)
        : t === Ba.levels.values.warn
        ? console.warn(e)
        : t === Ba.levels.values.debug
        ? console.debug(e)
        : t === Ba.levels.values.trace
        ? console.trace(e)
        : console.log(e);
    }
    appendToLogs(e) {
      this.logs.append(Ln({ timestamp: new Date().toISOString(), log: e }));
      const t = typeof e == "string" ? JSON.parse(e).level : e.level;
      t >= this.levelValue && this.forwardToConsole(e, t);
    }
    getLogs() {
      return this.logs;
    }
    clearLogs() {
      this.logs = new x0(this.MAX_LOG_SIZE_IN_BYTES);
    }
    getLogArray() {
      return Array.from(this.logs);
    }
    logsToBlob(e) {
      const t = this.getLogArray();
      return (
        t.push(Ln({ extraMetadata: e })),
        new Blob(t, { type: "application/json" })
      );
    }
  },
  D4 = class {
    constructor(e, t = Vu) {
      this.baseChunkLogger = new ag(e, t);
    }
    write(e) {
      this.baseChunkLogger.appendToLogs(e);
    }
    getLogs() {
      return this.baseChunkLogger.getLogs();
    }
    clearLogs() {
      this.baseChunkLogger.clearLogs();
    }
    getLogArray() {
      return this.baseChunkLogger.getLogArray();
    }
    logsToBlob(e) {
      return this.baseChunkLogger.logsToBlob(e);
    }
    downloadLogsBlobInBrowser(e) {
      const t = URL.createObjectURL(this.logsToBlob(e)),
        i = document.createElement("a");
      (i.href = t),
        (i.download = `walletconnect-logs-${new Date().toISOString()}.txt`),
        document.body.appendChild(i),
        i.click(),
        document.body.removeChild(i),
        URL.revokeObjectURL(t);
    }
  };
class B4 {
  constructor(e, t = Vu) {
    this.baseChunkLogger = new ag(e, t);
  }
  write(e) {
    this.baseChunkLogger.appendToLogs(e);
  }
  getLogs() {
    return this.baseChunkLogger.getLogs();
  }
  clearLogs() {
    this.baseChunkLogger.clearLogs();
  }
  getLogArray() {
    return this.baseChunkLogger.getLogArray();
  }
  logsToBlob(e) {
    return this.baseChunkLogger.logsToBlob(e);
  }
}
var F4 = Object.defineProperty,
  L4 = Object.defineProperties,
  k4 = Object.getOwnPropertyDescriptors,
  E0 = Object.getOwnPropertySymbols,
  z4 = Object.prototype.hasOwnProperty,
  $4 = Object.prototype.propertyIsEnumerable,
  I0 = (r, e, t) =>
    e in r
      ? F4(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Vc = (r, e) => {
    for (var t in e || (e = {})) z4.call(e, t) && I0(r, t, e[t]);
    if (E0) for (var t of E0(e)) $4.call(e, t) && I0(r, t, e[t]);
    return r;
  },
  Gc = (r, e) => L4(r, k4(e));
function of(r) {
  return Gc(Vc({}, r), { level: (r == null ? void 0 : r.level) || T4.level });
}
function U4(r, e = ho) {
  return r[e] || "";
}
function j4(r, e, t = ho) {
  return (r[t] = e), r;
}
function ti(r, e = ho) {
  let t = "";
  return (
    typeof r.bindings > "u" ? (t = U4(r, e)) : (t = r.bindings().context || ""),
    t
  );
}
function K4(r, e, t = ho) {
  const i = ti(r, t);
  return i.trim() ? `${i}/${e}` : e;
}
function $r(r, e, t = ho) {
  const i = K4(r, e, t),
    s = r.child({ context: i });
  return j4(s, i, t);
}
function H4(r) {
  var e, t;
  const i = new D4((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: oo(
      Gc(Vc({}, r.opts), {
        level: "trace",
        browser: Gc(Vc({}, (t = r.opts) == null ? void 0 : t.browser), {
          write: (s) => i.write(s),
        }),
      })
    ),
    chunkLoggerController: i,
  };
}
function V4(r) {
  var e;
  const t = new B4((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);
  return {
    logger: oo(Gc(Vc({}, r.opts), { level: "trace" }), t),
    chunkLoggerController: t,
  };
}
function G4(r) {
  return typeof r.loggerOverride < "u" && typeof r.loggerOverride != "string"
    ? { logger: r.loggerOverride, chunkLoggerController: null }
    : typeof window < "u"
    ? H4(r)
    : V4(r);
}
var Ph = {},
  Rh = {},
  S0;
function J4() {
  return (
    S0 ||
      ((S0 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 });
        var e = T5(),
          t = Y1();
        (r.DIGEST_LENGTH = 64), (r.BLOCK_SIZE = 128);
        var i = (function () {
          function g() {
            (this.digestLength = r.DIGEST_LENGTH),
              (this.blockSize = r.BLOCK_SIZE),
              (this._stateHi = new Int32Array(8)),
              (this._stateLo = new Int32Array(8)),
              (this._tempHi = new Int32Array(16)),
              (this._tempLo = new Int32Array(16)),
              (this._buffer = new Uint8Array(256)),
              (this._bufferLength = 0),
              (this._bytesHashed = 0),
              (this._finished = !1),
              this.reset();
          }
          return (
            (g.prototype._initState = function () {
              (this._stateHi[0] = 1779033703),
                (this._stateHi[1] = 3144134277),
                (this._stateHi[2] = 1013904242),
                (this._stateHi[3] = 2773480762),
                (this._stateHi[4] = 1359893119),
                (this._stateHi[5] = 2600822924),
                (this._stateHi[6] = 528734635),
                (this._stateHi[7] = 1541459225),
                (this._stateLo[0] = 4089235720),
                (this._stateLo[1] = 2227873595),
                (this._stateLo[2] = 4271175723),
                (this._stateLo[3] = 1595750129),
                (this._stateLo[4] = 2917565137),
                (this._stateLo[5] = 725511199),
                (this._stateLo[6] = 4215389547),
                (this._stateLo[7] = 327033209);
            }),
            (g.prototype.reset = function () {
              return (
                this._initState(),
                (this._bufferLength = 0),
                (this._bytesHashed = 0),
                (this._finished = !1),
                this
              );
            }),
            (g.prototype.clean = function () {
              t.wipe(this._buffer),
                t.wipe(this._tempHi),
                t.wipe(this._tempLo),
                this.reset();
            }),
            (g.prototype.update = function (v, h) {
              if ((h === void 0 && (h = v.length), this._finished))
                throw new Error(
                  "SHA512: can't update because hash was finished."
                );
              var y = 0;
              if (((this._bytesHashed += h), this._bufferLength > 0)) {
                for (; this._bufferLength < r.BLOCK_SIZE && h > 0; )
                  (this._buffer[this._bufferLength++] = v[y++]), h--;
                this._bufferLength === this.blockSize &&
                  (a(
                    this._tempHi,
                    this._tempLo,
                    this._stateHi,
                    this._stateLo,
                    this._buffer,
                    0,
                    this.blockSize
                  ),
                  (this._bufferLength = 0));
              }
              for (
                h >= this.blockSize &&
                ((y = a(
                  this._tempHi,
                  this._tempLo,
                  this._stateHi,
                  this._stateLo,
                  v,
                  y,
                  h
                )),
                (h %= this.blockSize));
                h > 0;

              )
                (this._buffer[this._bufferLength++] = v[y++]), h--;
              return this;
            }),
            (g.prototype.finish = function (v) {
              if (!this._finished) {
                var h = this._bytesHashed,
                  y = this._bufferLength,
                  A = (h / 536870912) | 0,
                  P = h << 3,
                  R = h % 128 < 112 ? 128 : 256;
                this._buffer[y] = 128;
                for (var C = y + 1; C < R - 8; C++) this._buffer[C] = 0;
                e.writeUint32BE(A, this._buffer, R - 8),
                  e.writeUint32BE(P, this._buffer, R - 4),
                  a(
                    this._tempHi,
                    this._tempLo,
                    this._stateHi,
                    this._stateLo,
                    this._buffer,
                    0,
                    R
                  ),
                  (this._finished = !0);
              }
              for (var C = 0; C < this.digestLength / 8; C++)
                e.writeUint32BE(this._stateHi[C], v, C * 8),
                  e.writeUint32BE(this._stateLo[C], v, C * 8 + 4);
              return this;
            }),
            (g.prototype.digest = function () {
              var v = new Uint8Array(this.digestLength);
              return this.finish(v), v;
            }),
            (g.prototype.saveState = function () {
              if (this._finished)
                throw new Error("SHA256: cannot save finished state");
              return {
                stateHi: new Int32Array(this._stateHi),
                stateLo: new Int32Array(this._stateLo),
                buffer:
                  this._bufferLength > 0
                    ? new Uint8Array(this._buffer)
                    : void 0,
                bufferLength: this._bufferLength,
                bytesHashed: this._bytesHashed,
              };
            }),
            (g.prototype.restoreState = function (v) {
              return (
                this._stateHi.set(v.stateHi),
                this._stateLo.set(v.stateLo),
                (this._bufferLength = v.bufferLength),
                v.buffer && this._buffer.set(v.buffer),
                (this._bytesHashed = v.bytesHashed),
                (this._finished = !1),
                this
              );
            }),
            (g.prototype.cleanSavedState = function (v) {
              t.wipe(v.stateHi),
                t.wipe(v.stateLo),
                v.buffer && t.wipe(v.buffer),
                (v.bufferLength = 0),
                (v.bytesHashed = 0);
            }),
            g
          );
        })();
        r.SHA512 = i;
        var s = new Int32Array([
          1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
          3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
          2453635748, 2937671579, 2870763221, 3664609560, 3624381080,
          2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987,
          3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103,
          633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774,
          944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983,
          1495990901, 1249150122, 1856431235, 1555081692, 3175218132,
          1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016,
          2952996808, 2566594879, 3210313671, 3203337956, 3336571891,
          1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895,
          168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372,
          1522805485, 1396182291, 2643833823, 1695183700, 2343527390,
          1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627,
          2730485921, 1290863460, 2820302411, 3158454273, 3259730800,
          3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804,
          1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734,
          3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877,
          3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063,
          2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
          2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
          2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
          3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
          3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
          174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
          685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
          1126000580, 2618297676, 1288033470, 3409855158, 1501505948,
          4234509866, 1607167915, 987167468, 1816402316, 1246189591,
        ]);
        function a(g, v, h, y, A, P, R) {
          for (
            var C = h[0],
              q = h[1],
              L = h[2],
              j = h[3],
              H = h[4],
              Y = h[5],
              Q = h[6],
              G = h[7],
              ee = y[0],
              ne = y[1],
              de = y[2],
              fe = y[3],
              xe = y[4],
              F = y[5],
              m = y[6],
              c = y[7],
              u,
              b,
              w,
              I,
              S,
              E,
              l,
              p;
            R >= 128;

          ) {
            for (var O = 0; O < 16; O++) {
              var te = 8 * O + P;
              (g[O] = e.readUint32BE(A, te)),
                (v[O] = e.readUint32BE(A, te + 4));
            }
            for (var O = 0; O < 80; O++) {
              var se = C,
                M = q,
                Z = L,
                B = j,
                $ = H,
                U = Y,
                _ = Q,
                k = G,
                re = ee,
                oe = ne,
                ce = de,
                ge = fe,
                ve = xe,
                Ee = F,
                We = m,
                Ie = c;
              if (
                ((u = G),
                (b = c),
                (S = b & 65535),
                (E = b >>> 16),
                (l = u & 65535),
                (p = u >>> 16),
                (u =
                  ((H >>> 14) | (xe << 18)) ^
                  ((H >>> 18) | (xe << 14)) ^
                  ((xe >>> 9) | (H << 23))),
                (b =
                  ((xe >>> 14) | (H << 18)) ^
                  ((xe >>> 18) | (H << 14)) ^
                  ((H >>> 9) | (xe << 23))),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (u = (H & Y) ^ (~H & Q)),
                (b = (xe & F) ^ (~xe & m)),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (u = s[O * 2]),
                (b = s[O * 2 + 1]),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (u = g[O % 16]),
                (b = v[O % 16]),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (E += S >>> 16),
                (l += E >>> 16),
                (p += l >>> 16),
                (w = (l & 65535) | (p << 16)),
                (I = (S & 65535) | (E << 16)),
                (u = w),
                (b = I),
                (S = b & 65535),
                (E = b >>> 16),
                (l = u & 65535),
                (p = u >>> 16),
                (u =
                  ((C >>> 28) | (ee << 4)) ^
                  ((ee >>> 2) | (C << 30)) ^
                  ((ee >>> 7) | (C << 25))),
                (b =
                  ((ee >>> 28) | (C << 4)) ^
                  ((C >>> 2) | (ee << 30)) ^
                  ((C >>> 7) | (ee << 25))),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (u = (C & q) ^ (C & L) ^ (q & L)),
                (b = (ee & ne) ^ (ee & de) ^ (ne & de)),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (E += S >>> 16),
                (l += E >>> 16),
                (p += l >>> 16),
                (k = (l & 65535) | (p << 16)),
                (Ie = (S & 65535) | (E << 16)),
                (u = B),
                (b = ge),
                (S = b & 65535),
                (E = b >>> 16),
                (l = u & 65535),
                (p = u >>> 16),
                (u = w),
                (b = I),
                (S += b & 65535),
                (E += b >>> 16),
                (l += u & 65535),
                (p += u >>> 16),
                (E += S >>> 16),
                (l += E >>> 16),
                (p += l >>> 16),
                (B = (l & 65535) | (p << 16)),
                (ge = (S & 65535) | (E << 16)),
                (q = se),
                (L = M),
                (j = Z),
                (H = B),
                (Y = $),
                (Q = U),
                (G = _),
                (C = k),
                (ne = re),
                (de = oe),
                (fe = ce),
                (xe = ge),
                (F = ve),
                (m = Ee),
                (c = We),
                (ee = Ie),
                O % 16 === 15)
              )
                for (var te = 0; te < 16; te++)
                  (u = g[te]),
                    (b = v[te]),
                    (S = b & 65535),
                    (E = b >>> 16),
                    (l = u & 65535),
                    (p = u >>> 16),
                    (u = g[(te + 9) % 16]),
                    (b = v[(te + 9) % 16]),
                    (S += b & 65535),
                    (E += b >>> 16),
                    (l += u & 65535),
                    (p += u >>> 16),
                    (w = g[(te + 1) % 16]),
                    (I = v[(te + 1) % 16]),
                    (u =
                      ((w >>> 1) | (I << 31)) ^
                      ((w >>> 8) | (I << 24)) ^
                      (w >>> 7)),
                    (b =
                      ((I >>> 1) | (w << 31)) ^
                      ((I >>> 8) | (w << 24)) ^
                      ((I >>> 7) | (w << 25))),
                    (S += b & 65535),
                    (E += b >>> 16),
                    (l += u & 65535),
                    (p += u >>> 16),
                    (w = g[(te + 14) % 16]),
                    (I = v[(te + 14) % 16]),
                    (u =
                      ((w >>> 19) | (I << 13)) ^
                      ((I >>> 29) | (w << 3)) ^
                      (w >>> 6)),
                    (b =
                      ((I >>> 19) | (w << 13)) ^
                      ((w >>> 29) | (I << 3)) ^
                      ((I >>> 6) | (w << 26))),
                    (S += b & 65535),
                    (E += b >>> 16),
                    (l += u & 65535),
                    (p += u >>> 16),
                    (E += S >>> 16),
                    (l += E >>> 16),
                    (p += l >>> 16),
                    (g[te] = (l & 65535) | (p << 16)),
                    (v[te] = (S & 65535) | (E << 16));
            }
            (u = C),
              (b = ee),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[0]),
              (b = y[0]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[0] = C = (l & 65535) | (p << 16)),
              (y[0] = ee = (S & 65535) | (E << 16)),
              (u = q),
              (b = ne),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[1]),
              (b = y[1]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[1] = q = (l & 65535) | (p << 16)),
              (y[1] = ne = (S & 65535) | (E << 16)),
              (u = L),
              (b = de),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[2]),
              (b = y[2]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[2] = L = (l & 65535) | (p << 16)),
              (y[2] = de = (S & 65535) | (E << 16)),
              (u = j),
              (b = fe),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[3]),
              (b = y[3]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[3] = j = (l & 65535) | (p << 16)),
              (y[3] = fe = (S & 65535) | (E << 16)),
              (u = H),
              (b = xe),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[4]),
              (b = y[4]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[4] = H = (l & 65535) | (p << 16)),
              (y[4] = xe = (S & 65535) | (E << 16)),
              (u = Y),
              (b = F),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[5]),
              (b = y[5]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[5] = Y = (l & 65535) | (p << 16)),
              (y[5] = F = (S & 65535) | (E << 16)),
              (u = Q),
              (b = m),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[6]),
              (b = y[6]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[6] = Q = (l & 65535) | (p << 16)),
              (y[6] = m = (S & 65535) | (E << 16)),
              (u = G),
              (b = c),
              (S = b & 65535),
              (E = b >>> 16),
              (l = u & 65535),
              (p = u >>> 16),
              (u = h[7]),
              (b = y[7]),
              (S += b & 65535),
              (E += b >>> 16),
              (l += u & 65535),
              (p += u >>> 16),
              (E += S >>> 16),
              (l += E >>> 16),
              (p += l >>> 16),
              (h[7] = G = (l & 65535) | (p << 16)),
              (y[7] = c = (S & 65535) | (E << 16)),
              (P += 128),
              (R -= 128);
          }
          return P;
        }
        function f(g) {
          var v = new i();
          v.update(g);
          var h = v.digest();
          return v.clean(), h;
        }
        r.hash = f;
      })(Rh)),
    Rh
  );
}
var M0;
function W4() {
  return (
    M0 ||
      ((M0 = 1),
      (function (r) {
        Object.defineProperty(r, "__esModule", { value: !0 }),
          (r.convertSecretKeyToX25519 =
            r.convertPublicKeyToX25519 =
            r.verify =
            r.sign =
            r.extractPublicKeyFromSecretKey =
            r.generateKeyPair =
            r.generateKeyPairFromSeed =
            r.SEED_LENGTH =
            r.SECRET_KEY_LENGTH =
            r.PUBLIC_KEY_LENGTH =
            r.SIGNATURE_LENGTH =
              void 0);
        const e = q5(),
          t = J4(),
          i = Y1();
        (r.SIGNATURE_LENGTH = 64),
          (r.PUBLIC_KEY_LENGTH = 32),
          (r.SECRET_KEY_LENGTH = 64),
          (r.SEED_LENGTH = 32);
        function s(B) {
          const $ = new Float64Array(16);
          if (B) for (let U = 0; U < B.length; U++) $[U] = B[U];
          return $;
        }
        const a = new Uint8Array(32);
        a[0] = 9;
        const f = s(),
          g = s([1]),
          v = s([
            30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585,
            16505, 36039, 65139, 11119, 27886, 20995,
          ]),
          h = s([
            61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171,
            33010, 6542, 64743, 22239, 55772, 9222,
          ]),
          y = s([
            54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412,
            64982, 57905, 49316, 21502, 52590, 14035, 8553,
          ]),
          A = s([
            26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214,
            26214, 26214, 26214, 26214, 26214, 26214, 26214,
          ]),
          P = s([
            41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867,
            153, 11085, 57099, 20417, 9344, 11139,
          ]);
        function R(B, $) {
          for (let U = 0; U < 16; U++) B[U] = $[U] | 0;
        }
        function C(B) {
          let $ = 1;
          for (let U = 0; U < 16; U++) {
            let _ = B[U] + $ + 65535;
            ($ = Math.floor(_ / 65536)), (B[U] = _ - $ * 65536);
          }
          B[0] += $ - 1 + 37 * ($ - 1);
        }
        function q(B, $, U) {
          const _ = ~(U - 1);
          for (let k = 0; k < 16; k++) {
            const re = _ & (B[k] ^ $[k]);
            (B[k] ^= re), ($[k] ^= re);
          }
        }
        function L(B, $) {
          const U = s(),
            _ = s();
          for (let k = 0; k < 16; k++) _[k] = $[k];
          C(_), C(_), C(_);
          for (let k = 0; k < 2; k++) {
            U[0] = _[0] - 65517;
            for (let oe = 1; oe < 15; oe++)
              (U[oe] = _[oe] - 65535 - ((U[oe - 1] >> 16) & 1)),
                (U[oe - 1] &= 65535);
            U[15] = _[15] - 32767 - ((U[14] >> 16) & 1);
            const re = (U[15] >> 16) & 1;
            (U[14] &= 65535), q(_, U, 1 - re);
          }
          for (let k = 0; k < 16; k++)
            (B[2 * k] = _[k] & 255), (B[2 * k + 1] = _[k] >> 8);
        }
        function j(B, $) {
          let U = 0;
          for (let _ = 0; _ < 32; _++) U |= B[_] ^ $[_];
          return (1 & ((U - 1) >>> 8)) - 1;
        }
        function H(B, $) {
          const U = new Uint8Array(32),
            _ = new Uint8Array(32);
          return L(U, B), L(_, $), j(U, _);
        }
        function Y(B) {
          const $ = new Uint8Array(32);
          return L($, B), $[0] & 1;
        }
        function Q(B, $) {
          for (let U = 0; U < 16; U++) B[U] = $[2 * U] + ($[2 * U + 1] << 8);
          B[15] &= 32767;
        }
        function G(B, $, U) {
          for (let _ = 0; _ < 16; _++) B[_] = $[_] + U[_];
        }
        function ee(B, $, U) {
          for (let _ = 0; _ < 16; _++) B[_] = $[_] - U[_];
        }
        function ne(B, $, U) {
          let _,
            k,
            re = 0,
            oe = 0,
            ce = 0,
            ge = 0,
            ve = 0,
            Ee = 0,
            We = 0,
            Ie = 0,
            He = 0,
            Fe = 0,
            we = 0,
            $e = 0,
            Ue = 0,
            me = 0,
            je = 0,
            De = 0,
            Ae = 0,
            Ye = 0,
            ze = 0,
            Ce = 0,
            ct = 0,
            ht = 0,
            Be = 0,
            ft = 0,
            ut = 0,
            Le = 0,
            wt = 0,
            dt = 0,
            Ke = 0,
            At = 0,
            It = 0,
            Se = U[0],
            Ge = U[1],
            Xe = U[2],
            Me = U[3],
            Qe = U[4],
            Je = U[5],
            Ne = U[6],
            at = U[7],
            Ze = U[8],
            Oe = U[9],
            et = U[10],
            rt = U[11],
            Pe = U[12],
            Ve = U[13],
            ot = U[14],
            Te = U[15];
          (_ = $[0]),
            (re += _ * Se),
            (oe += _ * Ge),
            (ce += _ * Xe),
            (ge += _ * Me),
            (ve += _ * Qe),
            (Ee += _ * Je),
            (We += _ * Ne),
            (Ie += _ * at),
            (He += _ * Ze),
            (Fe += _ * Oe),
            (we += _ * et),
            ($e += _ * rt),
            (Ue += _ * Pe),
            (me += _ * Ve),
            (je += _ * ot),
            (De += _ * Te),
            (_ = $[1]),
            (oe += _ * Se),
            (ce += _ * Ge),
            (ge += _ * Xe),
            (ve += _ * Me),
            (Ee += _ * Qe),
            (We += _ * Je),
            (Ie += _ * Ne),
            (He += _ * at),
            (Fe += _ * Ze),
            (we += _ * Oe),
            ($e += _ * et),
            (Ue += _ * rt),
            (me += _ * Pe),
            (je += _ * Ve),
            (De += _ * ot),
            (Ae += _ * Te),
            (_ = $[2]),
            (ce += _ * Se),
            (ge += _ * Ge),
            (ve += _ * Xe),
            (Ee += _ * Me),
            (We += _ * Qe),
            (Ie += _ * Je),
            (He += _ * Ne),
            (Fe += _ * at),
            (we += _ * Ze),
            ($e += _ * Oe),
            (Ue += _ * et),
            (me += _ * rt),
            (je += _ * Pe),
            (De += _ * Ve),
            (Ae += _ * ot),
            (Ye += _ * Te),
            (_ = $[3]),
            (ge += _ * Se),
            (ve += _ * Ge),
            (Ee += _ * Xe),
            (We += _ * Me),
            (Ie += _ * Qe),
            (He += _ * Je),
            (Fe += _ * Ne),
            (we += _ * at),
            ($e += _ * Ze),
            (Ue += _ * Oe),
            (me += _ * et),
            (je += _ * rt),
            (De += _ * Pe),
            (Ae += _ * Ve),
            (Ye += _ * ot),
            (ze += _ * Te),
            (_ = $[4]),
            (ve += _ * Se),
            (Ee += _ * Ge),
            (We += _ * Xe),
            (Ie += _ * Me),
            (He += _ * Qe),
            (Fe += _ * Je),
            (we += _ * Ne),
            ($e += _ * at),
            (Ue += _ * Ze),
            (me += _ * Oe),
            (je += _ * et),
            (De += _ * rt),
            (Ae += _ * Pe),
            (Ye += _ * Ve),
            (ze += _ * ot),
            (Ce += _ * Te),
            (_ = $[5]),
            (Ee += _ * Se),
            (We += _ * Ge),
            (Ie += _ * Xe),
            (He += _ * Me),
            (Fe += _ * Qe),
            (we += _ * Je),
            ($e += _ * Ne),
            (Ue += _ * at),
            (me += _ * Ze),
            (je += _ * Oe),
            (De += _ * et),
            (Ae += _ * rt),
            (Ye += _ * Pe),
            (ze += _ * Ve),
            (Ce += _ * ot),
            (ct += _ * Te),
            (_ = $[6]),
            (We += _ * Se),
            (Ie += _ * Ge),
            (He += _ * Xe),
            (Fe += _ * Me),
            (we += _ * Qe),
            ($e += _ * Je),
            (Ue += _ * Ne),
            (me += _ * at),
            (je += _ * Ze),
            (De += _ * Oe),
            (Ae += _ * et),
            (Ye += _ * rt),
            (ze += _ * Pe),
            (Ce += _ * Ve),
            (ct += _ * ot),
            (ht += _ * Te),
            (_ = $[7]),
            (Ie += _ * Se),
            (He += _ * Ge),
            (Fe += _ * Xe),
            (we += _ * Me),
            ($e += _ * Qe),
            (Ue += _ * Je),
            (me += _ * Ne),
            (je += _ * at),
            (De += _ * Ze),
            (Ae += _ * Oe),
            (Ye += _ * et),
            (ze += _ * rt),
            (Ce += _ * Pe),
            (ct += _ * Ve),
            (ht += _ * ot),
            (Be += _ * Te),
            (_ = $[8]),
            (He += _ * Se),
            (Fe += _ * Ge),
            (we += _ * Xe),
            ($e += _ * Me),
            (Ue += _ * Qe),
            (me += _ * Je),
            (je += _ * Ne),
            (De += _ * at),
            (Ae += _ * Ze),
            (Ye += _ * Oe),
            (ze += _ * et),
            (Ce += _ * rt),
            (ct += _ * Pe),
            (ht += _ * Ve),
            (Be += _ * ot),
            (ft += _ * Te),
            (_ = $[9]),
            (Fe += _ * Se),
            (we += _ * Ge),
            ($e += _ * Xe),
            (Ue += _ * Me),
            (me += _ * Qe),
            (je += _ * Je),
            (De += _ * Ne),
            (Ae += _ * at),
            (Ye += _ * Ze),
            (ze += _ * Oe),
            (Ce += _ * et),
            (ct += _ * rt),
            (ht += _ * Pe),
            (Be += _ * Ve),
            (ft += _ * ot),
            (ut += _ * Te),
            (_ = $[10]),
            (we += _ * Se),
            ($e += _ * Ge),
            (Ue += _ * Xe),
            (me += _ * Me),
            (je += _ * Qe),
            (De += _ * Je),
            (Ae += _ * Ne),
            (Ye += _ * at),
            (ze += _ * Ze),
            (Ce += _ * Oe),
            (ct += _ * et),
            (ht += _ * rt),
            (Be += _ * Pe),
            (ft += _ * Ve),
            (ut += _ * ot),
            (Le += _ * Te),
            (_ = $[11]),
            ($e += _ * Se),
            (Ue += _ * Ge),
            (me += _ * Xe),
            (je += _ * Me),
            (De += _ * Qe),
            (Ae += _ * Je),
            (Ye += _ * Ne),
            (ze += _ * at),
            (Ce += _ * Ze),
            (ct += _ * Oe),
            (ht += _ * et),
            (Be += _ * rt),
            (ft += _ * Pe),
            (ut += _ * Ve),
            (Le += _ * ot),
            (wt += _ * Te),
            (_ = $[12]),
            (Ue += _ * Se),
            (me += _ * Ge),
            (je += _ * Xe),
            (De += _ * Me),
            (Ae += _ * Qe),
            (Ye += _ * Je),
            (ze += _ * Ne),
            (Ce += _ * at),
            (ct += _ * Ze),
            (ht += _ * Oe),
            (Be += _ * et),
            (ft += _ * rt),
            (ut += _ * Pe),
            (Le += _ * Ve),
            (wt += _ * ot),
            (dt += _ * Te),
            (_ = $[13]),
            (me += _ * Se),
            (je += _ * Ge),
            (De += _ * Xe),
            (Ae += _ * Me),
            (Ye += _ * Qe),
            (ze += _ * Je),
            (Ce += _ * Ne),
            (ct += _ * at),
            (ht += _ * Ze),
            (Be += _ * Oe),
            (ft += _ * et),
            (ut += _ * rt),
            (Le += _ * Pe),
            (wt += _ * Ve),
            (dt += _ * ot),
            (Ke += _ * Te),
            (_ = $[14]),
            (je += _ * Se),
            (De += _ * Ge),
            (Ae += _ * Xe),
            (Ye += _ * Me),
            (ze += _ * Qe),
            (Ce += _ * Je),
            (ct += _ * Ne),
            (ht += _ * at),
            (Be += _ * Ze),
            (ft += _ * Oe),
            (ut += _ * et),
            (Le += _ * rt),
            (wt += _ * Pe),
            (dt += _ * Ve),
            (Ke += _ * ot),
            (At += _ * Te),
            (_ = $[15]),
            (De += _ * Se),
            (Ae += _ * Ge),
            (Ye += _ * Xe),
            (ze += _ * Me),
            (Ce += _ * Qe),
            (ct += _ * Je),
            (ht += _ * Ne),
            (Be += _ * at),
            (ft += _ * Ze),
            (ut += _ * Oe),
            (Le += _ * et),
            (wt += _ * rt),
            (dt += _ * Pe),
            (Ke += _ * Ve),
            (At += _ * ot),
            (It += _ * Te),
            (re += 38 * Ae),
            (oe += 38 * Ye),
            (ce += 38 * ze),
            (ge += 38 * Ce),
            (ve += 38 * ct),
            (Ee += 38 * ht),
            (We += 38 * Be),
            (Ie += 38 * ft),
            (He += 38 * ut),
            (Fe += 38 * Le),
            (we += 38 * wt),
            ($e += 38 * dt),
            (Ue += 38 * Ke),
            (me += 38 * At),
            (je += 38 * It),
            (k = 1),
            (_ = re + k + 65535),
            (k = Math.floor(_ / 65536)),
            (re = _ - k * 65536),
            (_ = oe + k + 65535),
            (k = Math.floor(_ / 65536)),
            (oe = _ - k * 65536),
            (_ = ce + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ce = _ - k * 65536),
            (_ = ge + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ge = _ - k * 65536),
            (_ = ve + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ve = _ - k * 65536),
            (_ = Ee + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ee = _ - k * 65536),
            (_ = We + k + 65535),
            (k = Math.floor(_ / 65536)),
            (We = _ - k * 65536),
            (_ = Ie + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ie = _ - k * 65536),
            (_ = He + k + 65535),
            (k = Math.floor(_ / 65536)),
            (He = _ - k * 65536),
            (_ = Fe + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Fe = _ - k * 65536),
            (_ = we + k + 65535),
            (k = Math.floor(_ / 65536)),
            (we = _ - k * 65536),
            (_ = $e + k + 65535),
            (k = Math.floor(_ / 65536)),
            ($e = _ - k * 65536),
            (_ = Ue + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ue = _ - k * 65536),
            (_ = me + k + 65535),
            (k = Math.floor(_ / 65536)),
            (me = _ - k * 65536),
            (_ = je + k + 65535),
            (k = Math.floor(_ / 65536)),
            (je = _ - k * 65536),
            (_ = De + k + 65535),
            (k = Math.floor(_ / 65536)),
            (De = _ - k * 65536),
            (re += k - 1 + 37 * (k - 1)),
            (k = 1),
            (_ = re + k + 65535),
            (k = Math.floor(_ / 65536)),
            (re = _ - k * 65536),
            (_ = oe + k + 65535),
            (k = Math.floor(_ / 65536)),
            (oe = _ - k * 65536),
            (_ = ce + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ce = _ - k * 65536),
            (_ = ge + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ge = _ - k * 65536),
            (_ = ve + k + 65535),
            (k = Math.floor(_ / 65536)),
            (ve = _ - k * 65536),
            (_ = Ee + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ee = _ - k * 65536),
            (_ = We + k + 65535),
            (k = Math.floor(_ / 65536)),
            (We = _ - k * 65536),
            (_ = Ie + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ie = _ - k * 65536),
            (_ = He + k + 65535),
            (k = Math.floor(_ / 65536)),
            (He = _ - k * 65536),
            (_ = Fe + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Fe = _ - k * 65536),
            (_ = we + k + 65535),
            (k = Math.floor(_ / 65536)),
            (we = _ - k * 65536),
            (_ = $e + k + 65535),
            (k = Math.floor(_ / 65536)),
            ($e = _ - k * 65536),
            (_ = Ue + k + 65535),
            (k = Math.floor(_ / 65536)),
            (Ue = _ - k * 65536),
            (_ = me + k + 65535),
            (k = Math.floor(_ / 65536)),
            (me = _ - k * 65536),
            (_ = je + k + 65535),
            (k = Math.floor(_ / 65536)),
            (je = _ - k * 65536),
            (_ = De + k + 65535),
            (k = Math.floor(_ / 65536)),
            (De = _ - k * 65536),
            (re += k - 1 + 37 * (k - 1)),
            (B[0] = re),
            (B[1] = oe),
            (B[2] = ce),
            (B[3] = ge),
            (B[4] = ve),
            (B[5] = Ee),
            (B[6] = We),
            (B[7] = Ie),
            (B[8] = He),
            (B[9] = Fe),
            (B[10] = we),
            (B[11] = $e),
            (B[12] = Ue),
            (B[13] = me),
            (B[14] = je),
            (B[15] = De);
        }
        function de(B, $) {
          ne(B, $, $);
        }
        function fe(B, $) {
          const U = s();
          let _;
          for (_ = 0; _ < 16; _++) U[_] = $[_];
          for (_ = 253; _ >= 0; _--)
            de(U, U), _ !== 2 && _ !== 4 && ne(U, U, $);
          for (_ = 0; _ < 16; _++) B[_] = U[_];
        }
        function xe(B, $) {
          const U = s();
          let _;
          for (_ = 0; _ < 16; _++) U[_] = $[_];
          for (_ = 250; _ >= 0; _--) de(U, U), _ !== 1 && ne(U, U, $);
          for (_ = 0; _ < 16; _++) B[_] = U[_];
        }
        function F(B, $) {
          const U = s(),
            _ = s(),
            k = s(),
            re = s(),
            oe = s(),
            ce = s(),
            ge = s(),
            ve = s(),
            Ee = s();
          ee(U, B[1], B[0]),
            ee(Ee, $[1], $[0]),
            ne(U, U, Ee),
            G(_, B[0], B[1]),
            G(Ee, $[0], $[1]),
            ne(_, _, Ee),
            ne(k, B[3], $[3]),
            ne(k, k, h),
            ne(re, B[2], $[2]),
            G(re, re, re),
            ee(oe, _, U),
            ee(ce, re, k),
            G(ge, re, k),
            G(ve, _, U),
            ne(B[0], oe, ce),
            ne(B[1], ve, ge),
            ne(B[2], ge, ce),
            ne(B[3], oe, ve);
        }
        function m(B, $, U) {
          for (let _ = 0; _ < 4; _++) q(B[_], $[_], U);
        }
        function c(B, $) {
          const U = s(),
            _ = s(),
            k = s();
          fe(k, $[2]),
            ne(U, $[0], k),
            ne(_, $[1], k),
            L(B, _),
            (B[31] ^= Y(U) << 7);
        }
        function u(B, $, U) {
          R(B[0], f), R(B[1], g), R(B[2], g), R(B[3], f);
          for (let _ = 255; _ >= 0; --_) {
            const k = (U[(_ / 8) | 0] >> (_ & 7)) & 1;
            m(B, $, k), F($, B), F(B, B), m(B, $, k);
          }
        }
        function b(B, $) {
          const U = [s(), s(), s(), s()];
          R(U[0], y), R(U[1], A), R(U[2], g), ne(U[3], y, A), u(B, U, $);
        }
        function w(B) {
          if (B.length !== r.SEED_LENGTH)
            throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);
          const $ = (0, t.hash)(B);
          ($[0] &= 248), ($[31] &= 127), ($[31] |= 64);
          const U = new Uint8Array(32),
            _ = [s(), s(), s(), s()];
          b(_, $), c(U, _);
          const k = new Uint8Array(64);
          return k.set(B), k.set(U, 32), { publicKey: U, secretKey: k };
        }
        r.generateKeyPairFromSeed = w;
        function I(B) {
          const $ = (0, e.randomBytes)(32, B),
            U = w($);
          return (0, i.wipe)($), U;
        }
        r.generateKeyPair = I;
        function S(B) {
          if (B.length !== r.SECRET_KEY_LENGTH)
            throw new Error(
              `ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`
            );
          return new Uint8Array(B.subarray(32));
        }
        r.extractPublicKeyFromSecretKey = S;
        const E = new Float64Array([
          237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222,
          20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16,
        ]);
        function l(B, $) {
          let U, _, k, re;
          for (_ = 63; _ >= 32; --_) {
            for (U = 0, k = _ - 32, re = _ - 12; k < re; ++k)
              ($[k] += U - 16 * $[_] * E[k - (_ - 32)]),
                (U = Math.floor(($[k] + 128) / 256)),
                ($[k] -= U * 256);
            ($[k] += U), ($[_] = 0);
          }
          for (U = 0, k = 0; k < 32; k++)
            ($[k] += U - ($[31] >> 4) * E[k]), (U = $[k] >> 8), ($[k] &= 255);
          for (k = 0; k < 32; k++) $[k] -= U * E[k];
          for (_ = 0; _ < 32; _++) ($[_ + 1] += $[_] >> 8), (B[_] = $[_] & 255);
        }
        function p(B) {
          const $ = new Float64Array(64);
          for (let U = 0; U < 64; U++) $[U] = B[U];
          for (let U = 0; U < 64; U++) B[U] = 0;
          l(B, $);
        }
        function O(B, $) {
          const U = new Float64Array(64),
            _ = [s(), s(), s(), s()],
            k = (0, t.hash)(B.subarray(0, 32));
          (k[0] &= 248), (k[31] &= 127), (k[31] |= 64);
          const re = new Uint8Array(64);
          re.set(k.subarray(32), 32);
          const oe = new t.SHA512();
          oe.update(re.subarray(32)), oe.update($);
          const ce = oe.digest();
          oe.clean(),
            p(ce),
            b(_, ce),
            c(re, _),
            oe.reset(),
            oe.update(re.subarray(0, 32)),
            oe.update(B.subarray(32)),
            oe.update($);
          const ge = oe.digest();
          p(ge);
          for (let ve = 0; ve < 32; ve++) U[ve] = ce[ve];
          for (let ve = 0; ve < 32; ve++)
            for (let Ee = 0; Ee < 32; Ee++) U[ve + Ee] += ge[ve] * k[Ee];
          return l(re.subarray(32), U), re;
        }
        r.sign = O;
        function te(B, $) {
          const U = s(),
            _ = s(),
            k = s(),
            re = s(),
            oe = s(),
            ce = s(),
            ge = s();
          return (
            R(B[2], g),
            Q(B[1], $),
            de(k, B[1]),
            ne(re, k, v),
            ee(k, k, B[2]),
            G(re, B[2], re),
            de(oe, re),
            de(ce, oe),
            ne(ge, ce, oe),
            ne(U, ge, k),
            ne(U, U, re),
            xe(U, U),
            ne(U, U, k),
            ne(U, U, re),
            ne(U, U, re),
            ne(B[0], U, re),
            de(_, B[0]),
            ne(_, _, re),
            H(_, k) && ne(B[0], B[0], P),
            de(_, B[0]),
            ne(_, _, re),
            H(_, k)
              ? -1
              : (Y(B[0]) === $[31] >> 7 && ee(B[0], f, B[0]),
                ne(B[3], B[0], B[1]),
                0)
          );
        }
        function se(B, $, U) {
          const _ = new Uint8Array(32),
            k = [s(), s(), s(), s()],
            re = [s(), s(), s(), s()];
          if (U.length !== r.SIGNATURE_LENGTH)
            throw new Error(
              `ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`
            );
          if (te(re, B)) return !1;
          const oe = new t.SHA512();
          oe.update(U.subarray(0, 32)), oe.update(B), oe.update($);
          const ce = oe.digest();
          return (
            p(ce),
            u(k, re, ce),
            b(re, U.subarray(32)),
            F(k, re),
            c(_, k),
            !j(U, _)
          );
        }
        r.verify = se;
        function M(B) {
          let $ = [s(), s(), s(), s()];
          if (te($, B)) throw new Error("Ed25519: invalid public key");
          let U = s(),
            _ = s(),
            k = $[1];
          G(U, g, k), ee(_, g, k), fe(_, _), ne(U, U, _);
          let re = new Uint8Array(32);
          return L(re, U), re;
        }
        r.convertPublicKeyToX25519 = M;
        function Z(B) {
          const $ = (0, t.hash)(B.subarray(0, 32));
          ($[0] &= 248), ($[31] &= 127), ($[31] |= 64);
          const U = new Uint8Array($.subarray(0, 32));
          return (0, i.wipe)($), U;
        }
        r.convertSecretKeyToX25519 = Z;
      })(Ph)),
    Ph
  );
}
var og = W4();
const Q4 = "EdDSA",
  Y4 = "JWT",
  Jc = ".",
  cf = "base64url",
  cg = "utf8",
  fg = "utf8",
  X4 = ":",
  Z4 = "did",
  ew = "key",
  P0 = "base58btc",
  tw = "z",
  rw = "K36",
  iw = 32;
function R0(r) {
  return Ss(yr(mr(r, cf), cg));
}
function Wc(r) {
  return yr(mr(Ln(r), cg), cf);
}
function hg(r) {
  const e = mr(rw, P0),
    t = tw + yr(qc([e, r]), P0);
  return [Z4, ew, t].join(X4);
}
function nw(r) {
  return yr(r, cf);
}
function sw(r) {
  return mr(r, cf);
}
function aw(r) {
  return mr([Wc(r.header), Wc(r.payload)].join(Jc), fg);
}
function ow(r) {
  return [Wc(r.header), Wc(r.payload), nw(r.signature)].join(Jc);
}
function Cu(r) {
  const e = r.split(Jc),
    t = R0(e[0]),
    i = R0(e[1]),
    s = sw(e[2]),
    a = mr(e.slice(0, 2).join(Jc), fg);
  return { header: t, payload: i, signature: s, data: a };
}
function C0(r = co.randomBytes(iw)) {
  return og.generateKeyPairFromSeed(r);
}
async function cw(r, e, t, i, s = ye.fromMiliseconds(Date.now())) {
  const a = { alg: Q4, typ: Y4 },
    f = hg(i.publicKey),
    g = s + t,
    v = { iss: f, sub: r, aud: e, iat: s, exp: g },
    h = aw({ header: a, payload: v }),
    y = og.sign(i.secretKey, h);
  return ow({ header: a, payload: v, signature: y });
}
const fw = "PARSE_ERROR",
  hw = "INVALID_REQUEST",
  uw = "METHOD_NOT_FOUND",
  dw = "INVALID_PARAMS",
  ug = "INTERNAL_ERROR",
  Gu = "SERVER_ERROR",
  lw = [-32700, -32600, -32601, -32602, -32603],
  Ya = {
    [fw]: { code: -32700, message: "Parse error" },
    [hw]: { code: -32600, message: "Invalid Request" },
    [uw]: { code: -32601, message: "Method not found" },
    [dw]: { code: -32602, message: "Invalid params" },
    [ug]: { code: -32603, message: "Internal error" },
    [Gu]: { code: -32e3, message: "Server error" },
  },
  dg = Gu;
function pw(r) {
  return lw.includes(r);
}
function N0(r) {
  return Object.keys(Ya).includes(r) ? Ya[r] : Ya[dg];
}
function gw(r) {
  const e = Object.values(Ya).find((t) => t.code === r);
  return e || Ya[dg];
}
function lg(r, e, t) {
  return r.message.includes("getaddrinfo ENOTFOUND") ||
    r.message.includes("connect ECONNREFUSED")
    ? new Error(`Unavailable ${t} RPC url at ${e}`)
    : r;
}
function Yn(r = 3) {
  const e = Date.now() * Math.pow(10, r),
    t = Math.floor(Math.random() * Math.pow(10, r));
  return e + t;
}
function xs(r = 6) {
  return BigInt(Yn(r));
}
function rs(r, e, t) {
  return { id: t || Yn(), jsonrpc: "2.0", method: r, params: e };
}
function ff(r, e) {
  return { id: r, jsonrpc: "2.0", result: e };
}
function hf(r, e, t) {
  return { id: r, jsonrpc: "2.0", error: vw(e) };
}
function vw(r, e) {
  return typeof r > "u"
    ? N0(ug)
    : (typeof r == "string" &&
        (r = Object.assign(Object.assign({}, N0(Gu)), { message: r })),
      pw(r.code) && (r = gw(r.code)),
      r);
}
class bw {}
let mw = class extends bw {
  constructor() {
    super();
  }
};
class yw extends mw {
  constructor(e) {
    super();
  }
}
const ww = "^https?:",
  _w = "^wss?:";
function Aw(r) {
  const e = r.match(new RegExp(/^\w+:/, "gi"));
  if (!(!e || !e.length)) return e[0];
}
function pg(r, e) {
  const t = Aw(r);
  return typeof t > "u" ? !1 : new RegExp(e).test(t);
}
function O0(r) {
  return pg(r, ww);
}
function T0(r) {
  return pg(r, _w);
}
function xw(r) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(r);
}
function gg(r) {
  return (
    typeof r == "object" && "id" in r && "jsonrpc" in r && r.jsonrpc === "2.0"
  );
}
function Ju(r) {
  return gg(r) && "method" in r;
}
function uf(r) {
  return gg(r) && (an(r) || Si(r));
}
function an(r) {
  return "result" in r;
}
function Si(r) {
  return "error" in r;
}
class Wi extends yw {
  constructor(e) {
    super(e),
      (this.events = new Pi.EventEmitter()),
      (this.hasRegisteredEventListeners = !1),
      (this.connection = this.setConnection(e)),
      this.connection.connected && this.registerEventListeners();
  }
  async connect(e = this.connection) {
    await this.open(e);
  }
  async disconnect() {
    await this.close();
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async request(e, t) {
    return this.requestStrict(
      rs(e.method, e.params || [], e.id || xs().toString()),
      t
    );
  }
  async requestStrict(e, t) {
    return new Promise(async (i, s) => {
      if (!this.connection.connected)
        try {
          await this.open();
        } catch (a) {
          s(a);
        }
      this.events.on(`${e.id}`, (a) => {
        Si(a) ? s(a.error) : i(a.result);
      });
      try {
        await this.connection.send(e, t);
      } catch (a) {
        s(a);
      }
    });
  }
  setConnection(e = this.connection) {
    return e;
  }
  onPayload(e) {
    this.events.emit("payload", e),
      uf(e)
        ? this.events.emit(`${e.id}`, e)
        : this.events.emit("message", { type: e.method, data: e.params });
  }
  onClose(e) {
    e &&
      e.code === 3e3 &&
      this.events.emit(
        "error",
        new Error(
          `WebSocket connection closed abnormally with code: ${e.code} ${
            e.reason ? `(${e.reason})` : ""
          }`
        )
      ),
      this.events.emit("disconnect");
  }
  async open(e = this.connection) {
    (this.connection === e && this.connection.connected) ||
      (this.connection.connected && this.close(),
      typeof e == "string" &&
        (await this.connection.open(e), (e = this.connection)),
      (this.connection = this.setConnection(e)),
      await this.connection.open(),
      this.registerEventListeners(),
      this.events.emit("connect"));
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    this.hasRegisteredEventListeners ||
      (this.connection.on("payload", (e) => this.onPayload(e)),
      this.connection.on("close", (e) => this.onClose(e)),
      this.connection.on("error", (e) => this.events.emit("error", e)),
      this.connection.on("register_error", (e) => this.onClose()),
      (this.hasRegisteredEventListeners = !0));
  }
}
const Ew = () =>
    typeof WebSocket < "u"
      ? WebSocket
      : typeof global < "u" && typeof global.WebSocket < "u"
      ? global.WebSocket
      : typeof window < "u" && typeof window.WebSocket < "u"
      ? window.WebSocket
      : typeof self < "u" && typeof self.WebSocket < "u"
      ? self.WebSocket
      : require("ws"),
  Iw = () =>
    typeof WebSocket < "u" ||
    (typeof global < "u" && typeof global.WebSocket < "u") ||
    (typeof window < "u" && typeof window.WebSocket < "u") ||
    (typeof self < "u" && typeof self.WebSocket < "u"),
  q0 = (r) => r.split("?")[0],
  D0 = 10,
  Sw = Ew();
let Mw = class {
  constructor(e) {
    if (
      ((this.url = e),
      (this.events = new Pi.EventEmitter()),
      (this.registering = !1),
      !T0(e))
    )
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    this.url = e;
  }
  get connected() {
    return typeof this.socket < "u";
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    return new Promise((e, t) => {
      if (typeof this.socket > "u") {
        t(new Error("Connection already closed"));
        return;
      }
      (this.socket.onclose = (i) => {
        this.onClose(i), e();
      }),
        this.socket.close();
    });
  }
  async send(e) {
    typeof this.socket > "u" && (this.socket = await this.register());
    try {
      this.socket.send(Ln(e));
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  register(e = this.url) {
    if (!T0(e))
      throw new Error(
        `Provided URL is not compatible with WebSocket connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, s) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), s(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.socket > "u"))
                return s(
                  new Error("WebSocket connection is missing or invalid")
                );
              i(this.socket);
            });
        })
      );
    }
    return (
      (this.url = e),
      (this.registering = !0),
      new Promise((t, i) => {
        const s = new URLSearchParams(e).get("origin"),
          a = w5.isReactNative()
            ? { headers: { origin: s } }
            : { rejectUnauthorized: !xw(e) },
          f = new Sw(e, [], a);
        Iw()
          ? (f.onerror = (g) => {
              const v = g;
              i(this.emitError(v.error));
            })
          : f.on("error", (g) => {
              i(this.emitError(g));
            }),
          (f.onopen = () => {
            this.onOpen(f), t(f);
          });
      })
    );
  }
  onOpen(e) {
    (e.onmessage = (t) => this.onPayload(t)),
      (e.onclose = (t) => this.onClose(t)),
      (this.socket = e),
      (this.registering = !1),
      this.events.emit("open");
  }
  onClose(e) {
    (this.socket = void 0),
      (this.registering = !1),
      this.events.emit("close", e);
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? Ss(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      s = i.message || i.toString(),
      a = hf(e, s);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return lg(e, q0(t), "WS");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > D0 && this.events.setMaxListeners(D0);
  }
  emitError(e) {
    const t = this.parseError(
      new Error(
        (e == null ? void 0 : e.message) ||
          `WebSocket connection failed for host: ${q0(this.url)}`
      )
    );
    return this.events.emit("register_error", t), t;
  }
};
var Ga = { exports: {} };
Ga.exports;
var B0;
function Pw() {
  return (
    B0 ||
      ((B0 = 1),
      (function (r, e) {
        var t = 200,
          i = "__lodash_hash_undefined__",
          s = 1,
          a = 2,
          f = 9007199254740991,
          g = "[object Arguments]",
          v = "[object Array]",
          h = "[object AsyncFunction]",
          y = "[object Boolean]",
          A = "[object Date]",
          P = "[object Error]",
          R = "[object Function]",
          C = "[object GeneratorFunction]",
          q = "[object Map]",
          L = "[object Number]",
          j = "[object Null]",
          H = "[object Object]",
          Y = "[object Promise]",
          Q = "[object Proxy]",
          G = "[object RegExp]",
          ee = "[object Set]",
          ne = "[object String]",
          de = "[object Symbol]",
          fe = "[object Undefined]",
          xe = "[object WeakMap]",
          F = "[object ArrayBuffer]",
          m = "[object DataView]",
          c = "[object Float32Array]",
          u = "[object Float64Array]",
          b = "[object Int8Array]",
          w = "[object Int16Array]",
          I = "[object Int32Array]",
          S = "[object Uint8Array]",
          E = "[object Uint8ClampedArray]",
          l = "[object Uint16Array]",
          p = "[object Uint32Array]",
          O = /[\\^$.*+?()[\]{}|]/g,
          te = /^\[object .+?Constructor\]$/,
          se = /^(?:0|[1-9]\d*)$/,
          M = {};
        (M[c] = M[u] = M[b] = M[w] = M[I] = M[S] = M[E] = M[l] = M[p] = !0),
          (M[g] =
            M[v] =
            M[F] =
            M[y] =
            M[m] =
            M[A] =
            M[P] =
            M[R] =
            M[q] =
            M[L] =
            M[H] =
            M[G] =
            M[ee] =
            M[ne] =
            M[xe] =
              !1);
        var Z = typeof _c == "object" && _c && _c.Object === Object && _c,
          B = typeof self == "object" && self && self.Object === Object && self,
          $ = Z || B || Function("return this")(),
          U = e && !e.nodeType && e,
          _ = U && !0 && r && !r.nodeType && r,
          k = _ && _.exports === U,
          re = k && Z.process,
          oe = (function () {
            try {
              return re && re.binding && re.binding("util");
            } catch {}
          })(),
          ce = oe && oe.isTypedArray;
        function ge(z, J) {
          for (
            var le = -1, Re = z == null ? 0 : z.length, $t = 0, pt = [];
            ++le < Re;

          ) {
            var Vt = z[le];
            J(Vt, le, z) && (pt[$t++] = Vt);
          }
          return pt;
        }
        function ve(z, J) {
          for (var le = -1, Re = J.length, $t = z.length; ++le < Re; )
            z[$t + le] = J[le];
          return z;
        }
        function Ee(z, J) {
          for (var le = -1, Re = z == null ? 0 : z.length; ++le < Re; )
            if (J(z[le], le, z)) return !0;
          return !1;
        }
        function We(z, J) {
          for (var le = -1, Re = Array(z); ++le < z; ) Re[le] = J(le);
          return Re;
        }
        function Ie(z) {
          return function (J) {
            return z(J);
          };
        }
        function He(z, J) {
          return z.has(J);
        }
        function Fe(z, J) {
          return z == null ? void 0 : z[J];
        }
        function we(z) {
          var J = -1,
            le = Array(z.size);
          return (
            z.forEach(function (Re, $t) {
              le[++J] = [$t, Re];
            }),
            le
          );
        }
        function $e(z, J) {
          return function (le) {
            return z(J(le));
          };
        }
        function Ue(z) {
          var J = -1,
            le = Array(z.size);
          return (
            z.forEach(function (Re) {
              le[++J] = Re;
            }),
            le
          );
        }
        var me = Array.prototype,
          je = Function.prototype,
          De = Object.prototype,
          Ae = $["__core-js_shared__"],
          Ye = je.toString,
          ze = De.hasOwnProperty,
          Ce = (function () {
            var z = /[^.]+$/.exec((Ae && Ae.keys && Ae.keys.IE_PROTO) || "");
            return z ? "Symbol(src)_1." + z : "";
          })(),
          ct = De.toString,
          ht = RegExp(
            "^" +
              Ye.call(ze)
                .replace(O, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?"
                ) +
              "$"
          ),
          Be = k ? $.Buffer : void 0,
          ft = $.Symbol,
          ut = $.Uint8Array,
          Le = De.propertyIsEnumerable,
          wt = me.splice,
          dt = ft ? ft.toStringTag : void 0,
          Ke = Object.getOwnPropertySymbols,
          At = Be ? Be.isBuffer : void 0,
          It = $e(Object.keys, Object),
          Se = ri($, "DataView"),
          Ge = ri($, "Map"),
          Xe = ri($, "Promise"),
          Me = ri($, "Set"),
          Qe = ri($, "WeakMap"),
          Je = ri(Object, "create"),
          Ne = _n(Se),
          at = _n(Ge),
          Ze = _n(Xe),
          Oe = _n(Me),
          et = _n(Qe),
          rt = ft ? ft.prototype : void 0,
          Pe = rt ? rt.valueOf : void 0;
        function Ve(z) {
          var J = -1,
            le = z == null ? 0 : z.length;
          for (this.clear(); ++J < le; ) {
            var Re = z[J];
            this.set(Re[0], Re[1]);
          }
        }
        function ot() {
          (this.__data__ = Je ? Je(null) : {}), (this.size = 0);
        }
        function Te(z) {
          var J = this.has(z) && delete this.__data__[z];
          return (this.size -= J ? 1 : 0), J;
        }
        function Nt(z) {
          var J = this.__data__;
          if (Je) {
            var le = J[z];
            return le === i ? void 0 : le;
          }
          return ze.call(J, z) ? J[z] : void 0;
        }
        function Ot(z) {
          var J = this.__data__;
          return Je ? J[z] !== void 0 : ze.call(J, z);
        }
        function it(z, J) {
          var le = this.__data__;
          return (
            (this.size += this.has(z) ? 0 : 1),
            (le[z] = Je && J === void 0 ? i : J),
            this
          );
        }
        (Ve.prototype.clear = ot),
          (Ve.prototype.delete = Te),
          (Ve.prototype.get = Nt),
          (Ve.prototype.has = Ot),
          (Ve.prototype.set = it);
        function bt(z) {
          var J = -1,
            le = z == null ? 0 : z.length;
          for (this.clear(); ++J < le; ) {
            var Re = z[J];
            this.set(Re[0], Re[1]);
          }
        }
        function Er() {
          (this.__data__ = []), (this.size = 0);
        }
        function Ir(z) {
          var J = this.__data__,
            le = ss(J, z);
          if (le < 0) return !1;
          var Re = J.length - 1;
          return le == Re ? J.pop() : wt.call(J, le, 1), --this.size, !0;
        }
        function Sr(z) {
          var J = this.__data__,
            le = ss(J, z);
          return le < 0 ? void 0 : J[le][1];
        }
        function Mr(z) {
          return ss(this.__data__, z) > -1;
        }
        function Pr(z, J) {
          var le = this.__data__,
            Re = ss(le, z);
          return (
            Re < 0 ? (++this.size, le.push([z, J])) : (le[Re][1] = J), this
          );
        }
        (bt.prototype.clear = Er),
          (bt.prototype.delete = Ir),
          (bt.prototype.get = Sr),
          (bt.prototype.has = Mr),
          (bt.prototype.set = Pr);
        function Yt(z) {
          var J = -1,
            le = z == null ? 0 : z.length;
          for (this.clear(); ++J < le; ) {
            var Re = z[J];
            this.set(Re[0], Re[1]);
          }
        }
        function Ur() {
          (this.size = 0),
            (this.__data__ = {
              hash: new Ve(),
              map: new (Ge || bt)(),
              string: new Ve(),
            });
        }
        function Ci(z) {
          var J = zn(this, z).delete(z);
          return (this.size -= J ? 1 : 0), J;
        }
        function jr(z) {
          return zn(this, z).get(z);
        }
        function Ni(z) {
          return zn(this, z).has(z);
        }
        function Oi(z, J) {
          var le = zn(this, z),
            Re = le.size;
          return le.set(z, J), (this.size += le.size == Re ? 0 : 1), this;
        }
        (Yt.prototype.clear = Ur),
          (Yt.prototype.delete = Ci),
          (Yt.prototype.get = jr),
          (Yt.prototype.has = Ni),
          (Yt.prototype.set = Oi);
        function Kr(z) {
          var J = -1,
            le = z == null ? 0 : z.length;
          for (this.__data__ = new Yt(); ++J < le; ) this.add(z[J]);
        }
        function ui(z) {
          return this.__data__.set(z, i), this;
        }
        function di(z) {
          return this.__data__.has(z);
        }
        (Kr.prototype.add = Kr.prototype.push = ui), (Kr.prototype.has = di);
        function cr(z) {
          var J = (this.__data__ = new bt(z));
          this.size = J.size;
        }
        function Ti() {
          (this.__data__ = new bt()), (this.size = 0);
        }
        function qi(z) {
          var J = this.__data__,
            le = J.delete(z);
          return (this.size = J.size), le;
        }
        function Di(z) {
          return this.__data__.get(z);
        }
        function ns(z) {
          return this.__data__.has(z);
        }
        function yo(z, J) {
          var le = this.__data__;
          if (le instanceof bt) {
            var Re = le.__data__;
            if (!Ge || Re.length < t - 1)
              return Re.push([z, J]), (this.size = ++le.size), this;
            le = this.__data__ = new Yt(Re);
          }
          return le.set(z, J), (this.size = le.size), this;
        }
        (cr.prototype.clear = Ti),
          (cr.prototype.delete = qi),
          (cr.prototype.get = Di),
          (cr.prototype.has = ns),
          (cr.prototype.set = yo);
        function wo(z, J) {
          var le = Ls(z),
            Re = !le && Oo(z),
            $t = !le && !Re && ya(z),
            pt = !le && !Re && !$t && Do(z),
            Vt = le || Re || $t || pt,
            ar = Vt ? We(z.length, String) : [],
            Rt = ar.length;
          for (var Ut in z)
            ze.call(z, Ut) &&
              !(
                Vt &&
                (Ut == "length" ||
                  ($t && (Ut == "offset" || Ut == "parent")) ||
                  (pt &&
                    (Ut == "buffer" ||
                      Ut == "byteLength" ||
                      Ut == "byteOffset")) ||
                  Mo(Ut, Rt))
              ) &&
              ar.push(Ut);
          return ar;
        }
        function ss(z, J) {
          for (var le = z.length; le--; ) if (No(z[le][0], J)) return le;
          return -1;
        }
        function ba(z, J, le) {
          var Re = J(z);
          return Ls(z) ? Re : ve(Re, le(z));
        }
        function as(z) {
          return z == null
            ? z === void 0
              ? fe
              : j
            : dt && dt in Object(z)
            ? Io(z)
            : mf(z);
        }
        function ma(z) {
          return cs(z) && as(z) == g;
        }
        function os(z, J, le, Re, $t) {
          return z === J
            ? !0
            : z == null || J == null || (!cs(z) && !cs(J))
            ? z !== z && J !== J
            : _o(z, J, le, Re, os, $t);
        }
        function _o(z, J, le, Re, $t, pt) {
          var Vt = Ls(z),
            ar = Ls(J),
            Rt = Vt ? v : Yi(z),
            Ut = ar ? v : Yi(J);
          (Rt = Rt == g ? H : Rt), (Ut = Ut == g ? H : Ut);
          var tr = Rt == H,
            Hr = Ut == H,
            or = Rt == Ut;
          if (or && ya(z)) {
            if (!ya(J)) return !1;
            (Vt = !0), (tr = !1);
          }
          if (or && !tr)
            return (
              pt || (pt = new cr()),
              Vt || Do(z)
                ? Bs(z, J, le, Re, $t, pt)
                : bf(z, J, Rt, le, Re, $t, pt)
            );
          if (!(le & s)) {
            var Gt = tr && ze.call(z, "__wrapped__"),
              Or = Hr && ze.call(J, "__wrapped__");
            if (Gt || Or) {
              var Bi = Gt ? z.value() : z,
                li = Or ? J.value() : J;
              return pt || (pt = new cr()), $t(Bi, li, le, Re, pt);
            }
          }
          return or ? (pt || (pt = new cr()), Eo(z, J, le, Re, $t, pt)) : !1;
        }
        function vf(z) {
          if (!qo(z) || Ro(z)) return !1;
          var J = ks(z) ? ht : te;
          return J.test(_n(z));
        }
        function Ao(z) {
          return cs(z) && To(z.length) && !!M[as(z)];
        }
        function xo(z) {
          if (!Co(z)) return It(z);
          var J = [];
          for (var le in Object(z))
            ze.call(z, le) && le != "constructor" && J.push(le);
          return J;
        }
        function Bs(z, J, le, Re, $t, pt) {
          var Vt = le & s,
            ar = z.length,
            Rt = J.length;
          if (ar != Rt && !(Vt && Rt > ar)) return !1;
          var Ut = pt.get(z);
          if (Ut && pt.get(J)) return Ut == J;
          var tr = -1,
            Hr = !0,
            or = le & a ? new Kr() : void 0;
          for (pt.set(z, J), pt.set(J, z); ++tr < ar; ) {
            var Gt = z[tr],
              Or = J[tr];
            if (Re)
              var Bi = Vt ? Re(Or, Gt, tr, J, z, pt) : Re(Gt, Or, tr, z, J, pt);
            if (Bi !== void 0) {
              if (Bi) continue;
              Hr = !1;
              break;
            }
            if (or) {
              if (
                !Ee(J, function (li, Xi) {
                  if (!He(or, Xi) && (Gt === li || $t(Gt, li, le, Re, pt)))
                    return or.push(Xi);
                })
              ) {
                Hr = !1;
                break;
              }
            } else if (!(Gt === Or || $t(Gt, Or, le, Re, pt))) {
              Hr = !1;
              break;
            }
          }
          return pt.delete(z), pt.delete(J), Hr;
        }
        function bf(z, J, le, Re, $t, pt, Vt) {
          switch (le) {
            case m:
              if (z.byteLength != J.byteLength || z.byteOffset != J.byteOffset)
                return !1;
              (z = z.buffer), (J = J.buffer);
            case F:
              return !(
                z.byteLength != J.byteLength || !pt(new ut(z), new ut(J))
              );
            case y:
            case A:
            case L:
              return No(+z, +J);
            case P:
              return z.name == J.name && z.message == J.message;
            case G:
            case ne:
              return z == J + "";
            case q:
              var ar = we;
            case ee:
              var Rt = Re & s;
              if ((ar || (ar = Ue), z.size != J.size && !Rt)) return !1;
              var Ut = Vt.get(z);
              if (Ut) return Ut == J;
              (Re |= a), Vt.set(z, J);
              var tr = Bs(ar(z), ar(J), Re, $t, pt, Vt);
              return Vt.delete(z), tr;
            case de:
              if (Pe) return Pe.call(z) == Pe.call(J);
          }
          return !1;
        }
        function Eo(z, J, le, Re, $t, pt) {
          var Vt = le & s,
            ar = Fs(z),
            Rt = ar.length,
            Ut = Fs(J),
            tr = Ut.length;
          if (Rt != tr && !Vt) return !1;
          for (var Hr = Rt; Hr--; ) {
            var or = ar[Hr];
            if (!(Vt ? or in J : ze.call(J, or))) return !1;
          }
          var Gt = pt.get(z);
          if (Gt && pt.get(J)) return Gt == J;
          var Or = !0;
          pt.set(z, J), pt.set(J, z);
          for (var Bi = Vt; ++Hr < Rt; ) {
            or = ar[Hr];
            var li = z[or],
              Xi = J[or];
            if (Re)
              var wa = Vt ? Re(Xi, li, or, J, z, pt) : Re(li, Xi, or, z, J, pt);
            if (!(wa === void 0 ? li === Xi || $t(li, Xi, le, Re, pt) : wa)) {
              Or = !1;
              break;
            }
            Bi || (Bi = or == "constructor");
          }
          if (Or && !Bi) {
            var fs = z.constructor,
              lr = J.constructor;
            fs != lr &&
              "constructor" in z &&
              "constructor" in J &&
              !(
                typeof fs == "function" &&
                fs instanceof fs &&
                typeof lr == "function" &&
                lr instanceof lr
              ) &&
              (Or = !1);
          }
          return pt.delete(z), pt.delete(J), Or;
        }
        function Fs(z) {
          return ba(z, _f, So);
        }
        function zn(z, J) {
          var le = z.__data__;
          return Po(J) ? le[typeof J == "string" ? "string" : "hash"] : le.map;
        }
        function ri(z, J) {
          var le = Fe(z, J);
          return vf(le) ? le : void 0;
        }
        function Io(z) {
          var J = ze.call(z, dt),
            le = z[dt];
          try {
            z[dt] = void 0;
            var Re = !0;
          } catch {}
          var $t = ct.call(z);
          return Re && (J ? (z[dt] = le) : delete z[dt]), $t;
        }
        var So = Ke
            ? function (z) {
                return z == null
                  ? []
                  : ((z = Object(z)),
                    ge(Ke(z), function (J) {
                      return Le.call(z, J);
                    }));
              }
            : zt,
          Yi = as;
        ((Se && Yi(new Se(new ArrayBuffer(1))) != m) ||
          (Ge && Yi(new Ge()) != q) ||
          (Xe && Yi(Xe.resolve()) != Y) ||
          (Me && Yi(new Me()) != ee) ||
          (Qe && Yi(new Qe()) != xe)) &&
          (Yi = function (z) {
            var J = as(z),
              le = J == H ? z.constructor : void 0,
              Re = le ? _n(le) : "";
            if (Re)
              switch (Re) {
                case Ne:
                  return m;
                case at:
                  return q;
                case Ze:
                  return Y;
                case Oe:
                  return ee;
                case et:
                  return xe;
              }
            return J;
          });
        function Mo(z, J) {
          return (
            (J = J ?? f),
            !!J &&
              (typeof z == "number" || se.test(z)) &&
              z > -1 &&
              z % 1 == 0 &&
              z < J
          );
        }
        function Po(z) {
          var J = typeof z;
          return J == "string" ||
            J == "number" ||
            J == "symbol" ||
            J == "boolean"
            ? z !== "__proto__"
            : z === null;
        }
        function Ro(z) {
          return !!Ce && Ce in z;
        }
        function Co(z) {
          var J = z && z.constructor,
            le = (typeof J == "function" && J.prototype) || De;
          return z === le;
        }
        function mf(z) {
          return ct.call(z);
        }
        function _n(z) {
          if (z != null) {
            try {
              return Ye.call(z);
            } catch {}
            try {
              return z + "";
            } catch {}
          }
          return "";
        }
        function No(z, J) {
          return z === J || (z !== z && J !== J);
        }
        var Oo = ma(
            (function () {
              return arguments;
            })()
          )
            ? ma
            : function (z) {
                return cs(z) && ze.call(z, "callee") && !Le.call(z, "callee");
              },
          Ls = Array.isArray;
        function yf(z) {
          return z != null && To(z.length) && !ks(z);
        }
        var ya = At || Lt;
        function wf(z, J) {
          return os(z, J);
        }
        function ks(z) {
          if (!qo(z)) return !1;
          var J = as(z);
          return J == R || J == C || J == h || J == Q;
        }
        function To(z) {
          return typeof z == "number" && z > -1 && z % 1 == 0 && z <= f;
        }
        function qo(z) {
          var J = typeof z;
          return z != null && (J == "object" || J == "function");
        }
        function cs(z) {
          return z != null && typeof z == "object";
        }
        var Do = ce ? Ie(ce) : Ao;
        function _f(z) {
          return yf(z) ? wo(z) : xo(z);
        }
        function zt() {
          return [];
        }
        function Lt() {
          return !1;
        }
        r.exports = wf;
      })(Ga, Ga.exports)),
    Ga.exports
  );
}
var Rw = Pw();
const Cw = _5(Rw);
var Nw = Object.defineProperty,
  Ow = Object.defineProperties,
  Tw = Object.getOwnPropertyDescriptors,
  F0 = Object.getOwnPropertySymbols,
  qw = Object.prototype.hasOwnProperty,
  Dw = Object.prototype.propertyIsEnumerable,
  L0 = (r, e, t) =>
    e in r
      ? Nw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  k0 = (r, e) => {
    for (var t in e) qw.call(e, t) && L0(r, t, e[t]);
    if (F0) for (var t of F0(e)) Dw.call(e, t) && L0(r, t, e[t]);
    return r;
  },
  z0 = (r, e) => Ow(r, Tw(e));
const Bw = { Accept: "application/json", "Content-Type": "application/json" },
  Fw = "POST",
  $0 = { headers: Bw, method: Fw },
  U0 = 10;
class mn {
  constructor(e, t = !1) {
    if (
      ((this.url = e),
      (this.disableProviderPing = t),
      (this.events = new Pi.EventEmitter()),
      (this.isAvailable = !1),
      (this.registering = !1),
      !O0(e))
    )
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    (this.url = e), (this.disableProviderPing = t);
  }
  get connected() {
    return this.isAvailable;
  }
  get connecting() {
    return this.registering;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async open(e = this.url) {
    await this.register(e);
  }
  async close() {
    if (!this.isAvailable) throw new Error("Connection already closed");
    this.onClose();
  }
  async send(e) {
    this.isAvailable || (await this.register());
    try {
      const t = Ln(e),
        i = await (await d0(this.url, z0(k0({}, $0), { body: t }))).json();
      this.onPayload({ data: i });
    } catch (t) {
      this.onError(e.id, t);
    }
  }
  async register(e = this.url) {
    if (!O0(e))
      throw new Error(
        `Provided URL is not compatible with HTTP connection: ${e}`
      );
    if (this.registering) {
      const t = this.events.getMaxListeners();
      return (
        (this.events.listenerCount("register_error") >= t ||
          this.events.listenerCount("open") >= t) &&
          this.events.setMaxListeners(t + 1),
        new Promise((i, s) => {
          this.events.once("register_error", (a) => {
            this.resetMaxListeners(), s(a);
          }),
            this.events.once("open", () => {
              if ((this.resetMaxListeners(), typeof this.isAvailable > "u"))
                return s(new Error("HTTP connection is missing or invalid"));
              i();
            });
        })
      );
    }
    (this.url = e), (this.registering = !0);
    try {
      if (!this.disableProviderPing) {
        const t = Ln({ id: 1, jsonrpc: "2.0", method: "test", params: [] });
        await d0(e, z0(k0({}, $0), { body: t }));
      }
      this.onOpen();
    } catch (t) {
      const i = this.parseError(t);
      throw (this.events.emit("register_error", i), this.onClose(), i);
    }
  }
  onOpen() {
    (this.isAvailable = !0), (this.registering = !1), this.events.emit("open");
  }
  onClose() {
    (this.isAvailable = !1), (this.registering = !1), this.events.emit("close");
  }
  onPayload(e) {
    if (typeof e.data > "u") return;
    const t = typeof e.data == "string" ? Ss(e.data) : e.data;
    this.events.emit("payload", t);
  }
  onError(e, t) {
    const i = this.parseError(t),
      s = i.message || i.toString(),
      a = hf(e, s);
    this.events.emit("payload", a);
  }
  parseError(e, t = this.url) {
    return lg(e, t, "HTTP");
  }
  resetMaxListeners() {
    this.events.getMaxListeners() > U0 && this.events.setMaxListeners(U0);
  }
}
var Ch = {};
const Lw = "elliptic",
  kw = "6.6.1",
  zw = "EC cryptography",
  $w = "lib/elliptic.js",
  Uw = ["lib"],
  jw = {
    lint: "eslint lib test",
    "lint:fix": "npm run lint -- --fix",
    unit: "istanbul test _mocha --reporter=spec test/index.js",
    test: "npm run lint && npm run unit",
    version: "grunt dist && git add dist/",
  },
  Kw = { type: "git", url: "git@github.com:indutny/elliptic" },
  Hw = ["EC", "Elliptic", "curve", "Cryptography"],
  Vw = "Fedor Indutny <fedor@indutny.com>",
  Gw = "MIT",
  Jw = { url: "https://github.com/indutny/elliptic/issues" },
  Ww = "https://github.com/indutny/elliptic",
  Qw = {
    brfs: "^2.0.2",
    coveralls: "^3.1.0",
    eslint: "^7.6.0",
    grunt: "^1.2.1",
    "grunt-browserify": "^5.3.0",
    "grunt-cli": "^1.3.2",
    "grunt-contrib-connect": "^3.0.0",
    "grunt-contrib-copy": "^1.0.0",
    "grunt-contrib-uglify": "^5.0.0",
    "grunt-mocha-istanbul": "^5.0.2",
    "grunt-saucelabs": "^9.0.1",
    istanbul: "^0.4.5",
    mocha: "^8.0.1",
  },
  Yw = {
    "bn.js": "^4.11.9",
    brorand: "^1.1.0",
    "hash.js": "^1.0.0",
    "hmac-drbg": "^1.0.1",
    inherits: "^2.0.4",
    "minimalistic-assert": "^1.0.1",
    "minimalistic-crypto-utils": "^1.0.1",
  },
  Xw = {
    name: Lw,
    version: kw,
    description: zw,
    main: $w,
    files: Uw,
    scripts: jw,
    repository: Kw,
    keywords: Hw,
    author: Vw,
    license: Gw,
    bugs: Jw,
    homepage: Ww,
    devDependencies: Qw,
    dependencies: Yw,
  };
var Nh = {},
  Fc = { exports: {} },
  Zw = Fc.exports,
  j0;
function kn() {
  return (
    j0 ||
      ((j0 = 1),
      (function (r) {
        (function (e, t) {
          function i(F, m) {
            if (!F) throw new Error(m || "Assertion failed");
          }
          function s(F, m) {
            F.super_ = m;
            var c = function () {};
            (c.prototype = m.prototype),
              (F.prototype = new c()),
              (F.prototype.constructor = F);
          }
          function a(F, m, c) {
            if (a.isBN(F)) return F;
            (this.negative = 0),
              (this.words = null),
              (this.length = 0),
              (this.red = null),
              F !== null &&
                ((m === "le" || m === "be") && ((c = m), (m = 10)),
                this._init(F || 0, m || 10, c || "be"));
          }
          typeof e == "object" ? (e.exports = a) : (t.BN = a),
            (a.BN = a),
            (a.wordSize = 26);
          var f;
          try {
            typeof window < "u" && typeof window.Buffer < "u"
              ? (f = window.Buffer)
              : (f = eg.Buffer);
          } catch {}
          (a.isBN = function (m) {
            return m instanceof a
              ? !0
              : m !== null &&
                  typeof m == "object" &&
                  m.constructor.wordSize === a.wordSize &&
                  Array.isArray(m.words);
          }),
            (a.max = function (m, c) {
              return m.cmp(c) > 0 ? m : c;
            }),
            (a.min = function (m, c) {
              return m.cmp(c) < 0 ? m : c;
            }),
            (a.prototype._init = function (m, c, u) {
              if (typeof m == "number") return this._initNumber(m, c, u);
              if (typeof m == "object") return this._initArray(m, c, u);
              c === "hex" && (c = 16),
                i(c === (c | 0) && c >= 2 && c <= 36),
                (m = m.toString().replace(/\s+/g, ""));
              var b = 0;
              m[0] === "-" && (b++, (this.negative = 1)),
                b < m.length &&
                  (c === 16
                    ? this._parseHex(m, b, u)
                    : (this._parseBase(m, c, b),
                      u === "le" && this._initArray(this.toArray(), c, u)));
            }),
            (a.prototype._initNumber = function (m, c, u) {
              m < 0 && ((this.negative = 1), (m = -m)),
                m < 67108864
                  ? ((this.words = [m & 67108863]), (this.length = 1))
                  : m < 4503599627370496
                  ? ((this.words = [m & 67108863, (m / 67108864) & 67108863]),
                    (this.length = 2))
                  : (i(m < 9007199254740992),
                    (this.words = [m & 67108863, (m / 67108864) & 67108863, 1]),
                    (this.length = 3)),
                u === "le" && this._initArray(this.toArray(), c, u);
            }),
            (a.prototype._initArray = function (m, c, u) {
              if ((i(typeof m.length == "number"), m.length <= 0))
                return (this.words = [0]), (this.length = 1), this;
              (this.length = Math.ceil(m.length / 3)),
                (this.words = new Array(this.length));
              for (var b = 0; b < this.length; b++) this.words[b] = 0;
              var w,
                I,
                S = 0;
              if (u === "be")
                for (b = m.length - 1, w = 0; b >= 0; b -= 3)
                  (I = m[b] | (m[b - 1] << 8) | (m[b - 2] << 16)),
                    (this.words[w] |= (I << S) & 67108863),
                    (this.words[w + 1] = (I >>> (26 - S)) & 67108863),
                    (S += 24),
                    S >= 26 && ((S -= 26), w++);
              else if (u === "le")
                for (b = 0, w = 0; b < m.length; b += 3)
                  (I = m[b] | (m[b + 1] << 8) | (m[b + 2] << 16)),
                    (this.words[w] |= (I << S) & 67108863),
                    (this.words[w + 1] = (I >>> (26 - S)) & 67108863),
                    (S += 24),
                    S >= 26 && ((S -= 26), w++);
              return this.strip();
            });
          function g(F, m) {
            var c = F.charCodeAt(m);
            return c >= 65 && c <= 70
              ? c - 55
              : c >= 97 && c <= 102
              ? c - 87
              : (c - 48) & 15;
          }
          function v(F, m, c) {
            var u = g(F, c);
            return c - 1 >= m && (u |= g(F, c - 1) << 4), u;
          }
          a.prototype._parseHex = function (m, c, u) {
            (this.length = Math.ceil((m.length - c) / 6)),
              (this.words = new Array(this.length));
            for (var b = 0; b < this.length; b++) this.words[b] = 0;
            var w = 0,
              I = 0,
              S;
            if (u === "be")
              for (b = m.length - 1; b >= c; b -= 2)
                (S = v(m, c, b) << w),
                  (this.words[I] |= S & 67108863),
                  w >= 18
                    ? ((w -= 18), (I += 1), (this.words[I] |= S >>> 26))
                    : (w += 8);
            else {
              var E = m.length - c;
              for (b = E % 2 === 0 ? c + 1 : c; b < m.length; b += 2)
                (S = v(m, c, b) << w),
                  (this.words[I] |= S & 67108863),
                  w >= 18
                    ? ((w -= 18), (I += 1), (this.words[I] |= S >>> 26))
                    : (w += 8);
            }
            this.strip();
          };
          function h(F, m, c, u) {
            for (var b = 0, w = Math.min(F.length, c), I = m; I < w; I++) {
              var S = F.charCodeAt(I) - 48;
              (b *= u),
                S >= 49
                  ? (b += S - 49 + 10)
                  : S >= 17
                  ? (b += S - 17 + 10)
                  : (b += S);
            }
            return b;
          }
          (a.prototype._parseBase = function (m, c, u) {
            (this.words = [0]), (this.length = 1);
            for (var b = 0, w = 1; w <= 67108863; w *= c) b++;
            b--, (w = (w / c) | 0);
            for (
              var I = m.length - u,
                S = I % b,
                E = Math.min(I, I - S) + u,
                l = 0,
                p = u;
              p < E;
              p += b
            )
              (l = h(m, p, p + b, c)),
                this.imuln(w),
                this.words[0] + l < 67108864
                  ? (this.words[0] += l)
                  : this._iaddn(l);
            if (S !== 0) {
              var O = 1;
              for (l = h(m, p, m.length, c), p = 0; p < S; p++) O *= c;
              this.imuln(O),
                this.words[0] + l < 67108864
                  ? (this.words[0] += l)
                  : this._iaddn(l);
            }
            this.strip();
          }),
            (a.prototype.copy = function (m) {
              m.words = new Array(this.length);
              for (var c = 0; c < this.length; c++) m.words[c] = this.words[c];
              (m.length = this.length),
                (m.negative = this.negative),
                (m.red = this.red);
            }),
            (a.prototype.clone = function () {
              var m = new a(null);
              return this.copy(m), m;
            }),
            (a.prototype._expand = function (m) {
              for (; this.length < m; ) this.words[this.length++] = 0;
              return this;
            }),
            (a.prototype.strip = function () {
              for (; this.length > 1 && this.words[this.length - 1] === 0; )
                this.length--;
              return this._normSign();
            }),
            (a.prototype._normSign = function () {
              return (
                this.length === 1 && this.words[0] === 0 && (this.negative = 0),
                this
              );
            }),
            (a.prototype.inspect = function () {
              return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
            });
          var y = [
              "",
              "0",
              "00",
              "000",
              "0000",
              "00000",
              "000000",
              "0000000",
              "00000000",
              "000000000",
              "0000000000",
              "00000000000",
              "000000000000",
              "0000000000000",
              "00000000000000",
              "000000000000000",
              "0000000000000000",
              "00000000000000000",
              "000000000000000000",
              "0000000000000000000",
              "00000000000000000000",
              "000000000000000000000",
              "0000000000000000000000",
              "00000000000000000000000",
              "000000000000000000000000",
              "0000000000000000000000000",
            ],
            A = [
              0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6,
              6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
            ],
            P = [
              0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
              16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
              11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
              5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
              20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
              60466176,
            ];
          (a.prototype.toString = function (m, c) {
            (m = m || 10), (c = c | 0 || 1);
            var u;
            if (m === 16 || m === "hex") {
              u = "";
              for (var b = 0, w = 0, I = 0; I < this.length; I++) {
                var S = this.words[I],
                  E = (((S << b) | w) & 16777215).toString(16);
                (w = (S >>> (24 - b)) & 16777215),
                  (b += 2),
                  b >= 26 && ((b -= 26), I--),
                  w !== 0 || I !== this.length - 1
                    ? (u = y[6 - E.length] + E + u)
                    : (u = E + u);
              }
              for (w !== 0 && (u = w.toString(16) + u); u.length % c !== 0; )
                u = "0" + u;
              return this.negative !== 0 && (u = "-" + u), u;
            }
            if (m === (m | 0) && m >= 2 && m <= 36) {
              var l = A[m],
                p = P[m];
              u = "";
              var O = this.clone();
              for (O.negative = 0; !O.isZero(); ) {
                var te = O.modn(p).toString(m);
                (O = O.idivn(p)),
                  O.isZero() ? (u = te + u) : (u = y[l - te.length] + te + u);
              }
              for (this.isZero() && (u = "0" + u); u.length % c !== 0; )
                u = "0" + u;
              return this.negative !== 0 && (u = "-" + u), u;
            }
            i(!1, "Base should be between 2 and 36");
          }),
            (a.prototype.toNumber = function () {
              var m = this.words[0];
              return (
                this.length === 2
                  ? (m += this.words[1] * 67108864)
                  : this.length === 3 && this.words[2] === 1
                  ? (m += 4503599627370496 + this.words[1] * 67108864)
                  : this.length > 2 &&
                    i(!1, "Number can only safely store up to 53 bits"),
                this.negative !== 0 ? -m : m
              );
            }),
            (a.prototype.toJSON = function () {
              return this.toString(16);
            }),
            (a.prototype.toBuffer = function (m, c) {
              return i(typeof f < "u"), this.toArrayLike(f, m, c);
            }),
            (a.prototype.toArray = function (m, c) {
              return this.toArrayLike(Array, m, c);
            }),
            (a.prototype.toArrayLike = function (m, c, u) {
              var b = this.byteLength(),
                w = u || Math.max(1, b);
              i(b <= w, "byte array longer than desired length"),
                i(w > 0, "Requested array length <= 0"),
                this.strip();
              var I = c === "le",
                S = new m(w),
                E,
                l,
                p = this.clone();
              if (I) {
                for (l = 0; !p.isZero(); l++)
                  (E = p.andln(255)), p.iushrn(8), (S[l] = E);
                for (; l < w; l++) S[l] = 0;
              } else {
                for (l = 0; l < w - b; l++) S[l] = 0;
                for (l = 0; !p.isZero(); l++)
                  (E = p.andln(255)), p.iushrn(8), (S[w - l - 1] = E);
              }
              return S;
            }),
            Math.clz32
              ? (a.prototype._countBits = function (m) {
                  return 32 - Math.clz32(m);
                })
              : (a.prototype._countBits = function (m) {
                  var c = m,
                    u = 0;
                  return (
                    c >= 4096 && ((u += 13), (c >>>= 13)),
                    c >= 64 && ((u += 7), (c >>>= 7)),
                    c >= 8 && ((u += 4), (c >>>= 4)),
                    c >= 2 && ((u += 2), (c >>>= 2)),
                    u + c
                  );
                }),
            (a.prototype._zeroBits = function (m) {
              if (m === 0) return 26;
              var c = m,
                u = 0;
              return (
                c & 8191 || ((u += 13), (c >>>= 13)),
                c & 127 || ((u += 7), (c >>>= 7)),
                c & 15 || ((u += 4), (c >>>= 4)),
                c & 3 || ((u += 2), (c >>>= 2)),
                c & 1 || u++,
                u
              );
            }),
            (a.prototype.bitLength = function () {
              var m = this.words[this.length - 1],
                c = this._countBits(m);
              return (this.length - 1) * 26 + c;
            });
          function R(F) {
            for (var m = new Array(F.bitLength()), c = 0; c < m.length; c++) {
              var u = (c / 26) | 0,
                b = c % 26;
              m[c] = (F.words[u] & (1 << b)) >>> b;
            }
            return m;
          }
          (a.prototype.zeroBits = function () {
            if (this.isZero()) return 0;
            for (var m = 0, c = 0; c < this.length; c++) {
              var u = this._zeroBits(this.words[c]);
              if (((m += u), u !== 26)) break;
            }
            return m;
          }),
            (a.prototype.byteLength = function () {
              return Math.ceil(this.bitLength() / 8);
            }),
            (a.prototype.toTwos = function (m) {
              return this.negative !== 0
                ? this.abs().inotn(m).iaddn(1)
                : this.clone();
            }),
            (a.prototype.fromTwos = function (m) {
              return this.testn(m - 1)
                ? this.notn(m).iaddn(1).ineg()
                : this.clone();
            }),
            (a.prototype.isNeg = function () {
              return this.negative !== 0;
            }),
            (a.prototype.neg = function () {
              return this.clone().ineg();
            }),
            (a.prototype.ineg = function () {
              return this.isZero() || (this.negative ^= 1), this;
            }),
            (a.prototype.iuor = function (m) {
              for (; this.length < m.length; ) this.words[this.length++] = 0;
              for (var c = 0; c < m.length; c++)
                this.words[c] = this.words[c] | m.words[c];
              return this.strip();
            }),
            (a.prototype.ior = function (m) {
              return i((this.negative | m.negative) === 0), this.iuor(m);
            }),
            (a.prototype.or = function (m) {
              return this.length > m.length
                ? this.clone().ior(m)
                : m.clone().ior(this);
            }),
            (a.prototype.uor = function (m) {
              return this.length > m.length
                ? this.clone().iuor(m)
                : m.clone().iuor(this);
            }),
            (a.prototype.iuand = function (m) {
              var c;
              this.length > m.length ? (c = m) : (c = this);
              for (var u = 0; u < c.length; u++)
                this.words[u] = this.words[u] & m.words[u];
              return (this.length = c.length), this.strip();
            }),
            (a.prototype.iand = function (m) {
              return i((this.negative | m.negative) === 0), this.iuand(m);
            }),
            (a.prototype.and = function (m) {
              return this.length > m.length
                ? this.clone().iand(m)
                : m.clone().iand(this);
            }),
            (a.prototype.uand = function (m) {
              return this.length > m.length
                ? this.clone().iuand(m)
                : m.clone().iuand(this);
            }),
            (a.prototype.iuxor = function (m) {
              var c, u;
              this.length > m.length
                ? ((c = this), (u = m))
                : ((c = m), (u = this));
              for (var b = 0; b < u.length; b++)
                this.words[b] = c.words[b] ^ u.words[b];
              if (this !== c)
                for (; b < c.length; b++) this.words[b] = c.words[b];
              return (this.length = c.length), this.strip();
            }),
            (a.prototype.ixor = function (m) {
              return i((this.negative | m.negative) === 0), this.iuxor(m);
            }),
            (a.prototype.xor = function (m) {
              return this.length > m.length
                ? this.clone().ixor(m)
                : m.clone().ixor(this);
            }),
            (a.prototype.uxor = function (m) {
              return this.length > m.length
                ? this.clone().iuxor(m)
                : m.clone().iuxor(this);
            }),
            (a.prototype.inotn = function (m) {
              i(typeof m == "number" && m >= 0);
              var c = Math.ceil(m / 26) | 0,
                u = m % 26;
              this._expand(c), u > 0 && c--;
              for (var b = 0; b < c; b++)
                this.words[b] = ~this.words[b] & 67108863;
              return (
                u > 0 &&
                  (this.words[b] = ~this.words[b] & (67108863 >> (26 - u))),
                this.strip()
              );
            }),
            (a.prototype.notn = function (m) {
              return this.clone().inotn(m);
            }),
            (a.prototype.setn = function (m, c) {
              i(typeof m == "number" && m >= 0);
              var u = (m / 26) | 0,
                b = m % 26;
              return (
                this._expand(u + 1),
                c
                  ? (this.words[u] = this.words[u] | (1 << b))
                  : (this.words[u] = this.words[u] & ~(1 << b)),
                this.strip()
              );
            }),
            (a.prototype.iadd = function (m) {
              var c;
              if (this.negative !== 0 && m.negative === 0)
                return (
                  (this.negative = 0),
                  (c = this.isub(m)),
                  (this.negative ^= 1),
                  this._normSign()
                );
              if (this.negative === 0 && m.negative !== 0)
                return (
                  (m.negative = 0),
                  (c = this.isub(m)),
                  (m.negative = 1),
                  c._normSign()
                );
              var u, b;
              this.length > m.length
                ? ((u = this), (b = m))
                : ((u = m), (b = this));
              for (var w = 0, I = 0; I < b.length; I++)
                (c = (u.words[I] | 0) + (b.words[I] | 0) + w),
                  (this.words[I] = c & 67108863),
                  (w = c >>> 26);
              for (; w !== 0 && I < u.length; I++)
                (c = (u.words[I] | 0) + w),
                  (this.words[I] = c & 67108863),
                  (w = c >>> 26);
              if (((this.length = u.length), w !== 0))
                (this.words[this.length] = w), this.length++;
              else if (u !== this)
                for (; I < u.length; I++) this.words[I] = u.words[I];
              return this;
            }),
            (a.prototype.add = function (m) {
              var c;
              return m.negative !== 0 && this.negative === 0
                ? ((m.negative = 0), (c = this.sub(m)), (m.negative ^= 1), c)
                : m.negative === 0 && this.negative !== 0
                ? ((this.negative = 0),
                  (c = m.sub(this)),
                  (this.negative = 1),
                  c)
                : this.length > m.length
                ? this.clone().iadd(m)
                : m.clone().iadd(this);
            }),
            (a.prototype.isub = function (m) {
              if (m.negative !== 0) {
                m.negative = 0;
                var c = this.iadd(m);
                return (m.negative = 1), c._normSign();
              } else if (this.negative !== 0)
                return (
                  (this.negative = 0),
                  this.iadd(m),
                  (this.negative = 1),
                  this._normSign()
                );
              var u = this.cmp(m);
              if (u === 0)
                return (
                  (this.negative = 0),
                  (this.length = 1),
                  (this.words[0] = 0),
                  this
                );
              var b, w;
              u > 0 ? ((b = this), (w = m)) : ((b = m), (w = this));
              for (var I = 0, S = 0; S < w.length; S++)
                (c = (b.words[S] | 0) - (w.words[S] | 0) + I),
                  (I = c >> 26),
                  (this.words[S] = c & 67108863);
              for (; I !== 0 && S < b.length; S++)
                (c = (b.words[S] | 0) + I),
                  (I = c >> 26),
                  (this.words[S] = c & 67108863);
              if (I === 0 && S < b.length && b !== this)
                for (; S < b.length; S++) this.words[S] = b.words[S];
              return (
                (this.length = Math.max(this.length, S)),
                b !== this && (this.negative = 1),
                this.strip()
              );
            }),
            (a.prototype.sub = function (m) {
              return this.clone().isub(m);
            });
          function C(F, m, c) {
            c.negative = m.negative ^ F.negative;
            var u = (F.length + m.length) | 0;
            (c.length = u), (u = (u - 1) | 0);
            var b = F.words[0] | 0,
              w = m.words[0] | 0,
              I = b * w,
              S = I & 67108863,
              E = (I / 67108864) | 0;
            c.words[0] = S;
            for (var l = 1; l < u; l++) {
              for (
                var p = E >>> 26,
                  O = E & 67108863,
                  te = Math.min(l, m.length - 1),
                  se = Math.max(0, l - F.length + 1);
                se <= te;
                se++
              ) {
                var M = (l - se) | 0;
                (b = F.words[M] | 0),
                  (w = m.words[se] | 0),
                  (I = b * w + O),
                  (p += (I / 67108864) | 0),
                  (O = I & 67108863);
              }
              (c.words[l] = O | 0), (E = p | 0);
            }
            return E !== 0 ? (c.words[l] = E | 0) : c.length--, c.strip();
          }
          var q = function (m, c, u) {
            var b = m.words,
              w = c.words,
              I = u.words,
              S = 0,
              E,
              l,
              p,
              O = b[0] | 0,
              te = O & 8191,
              se = O >>> 13,
              M = b[1] | 0,
              Z = M & 8191,
              B = M >>> 13,
              $ = b[2] | 0,
              U = $ & 8191,
              _ = $ >>> 13,
              k = b[3] | 0,
              re = k & 8191,
              oe = k >>> 13,
              ce = b[4] | 0,
              ge = ce & 8191,
              ve = ce >>> 13,
              Ee = b[5] | 0,
              We = Ee & 8191,
              Ie = Ee >>> 13,
              He = b[6] | 0,
              Fe = He & 8191,
              we = He >>> 13,
              $e = b[7] | 0,
              Ue = $e & 8191,
              me = $e >>> 13,
              je = b[8] | 0,
              De = je & 8191,
              Ae = je >>> 13,
              Ye = b[9] | 0,
              ze = Ye & 8191,
              Ce = Ye >>> 13,
              ct = w[0] | 0,
              ht = ct & 8191,
              Be = ct >>> 13,
              ft = w[1] | 0,
              ut = ft & 8191,
              Le = ft >>> 13,
              wt = w[2] | 0,
              dt = wt & 8191,
              Ke = wt >>> 13,
              At = w[3] | 0,
              It = At & 8191,
              Se = At >>> 13,
              Ge = w[4] | 0,
              Xe = Ge & 8191,
              Me = Ge >>> 13,
              Qe = w[5] | 0,
              Je = Qe & 8191,
              Ne = Qe >>> 13,
              at = w[6] | 0,
              Ze = at & 8191,
              Oe = at >>> 13,
              et = w[7] | 0,
              rt = et & 8191,
              Pe = et >>> 13,
              Ve = w[8] | 0,
              ot = Ve & 8191,
              Te = Ve >>> 13,
              Nt = w[9] | 0,
              Ot = Nt & 8191,
              it = Nt >>> 13;
            (u.negative = m.negative ^ c.negative),
              (u.length = 19),
              (E = Math.imul(te, ht)),
              (l = Math.imul(te, Be)),
              (l = (l + Math.imul(se, ht)) | 0),
              (p = Math.imul(se, Be));
            var bt = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (bt >>> 26)) | 0),
              (bt &= 67108863),
              (E = Math.imul(Z, ht)),
              (l = Math.imul(Z, Be)),
              (l = (l + Math.imul(B, ht)) | 0),
              (p = Math.imul(B, Be)),
              (E = (E + Math.imul(te, ut)) | 0),
              (l = (l + Math.imul(te, Le)) | 0),
              (l = (l + Math.imul(se, ut)) | 0),
              (p = (p + Math.imul(se, Le)) | 0);
            var Er = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Er >>> 26)) | 0),
              (Er &= 67108863),
              (E = Math.imul(U, ht)),
              (l = Math.imul(U, Be)),
              (l = (l + Math.imul(_, ht)) | 0),
              (p = Math.imul(_, Be)),
              (E = (E + Math.imul(Z, ut)) | 0),
              (l = (l + Math.imul(Z, Le)) | 0),
              (l = (l + Math.imul(B, ut)) | 0),
              (p = (p + Math.imul(B, Le)) | 0),
              (E = (E + Math.imul(te, dt)) | 0),
              (l = (l + Math.imul(te, Ke)) | 0),
              (l = (l + Math.imul(se, dt)) | 0),
              (p = (p + Math.imul(se, Ke)) | 0);
            var Ir = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Ir >>> 26)) | 0),
              (Ir &= 67108863),
              (E = Math.imul(re, ht)),
              (l = Math.imul(re, Be)),
              (l = (l + Math.imul(oe, ht)) | 0),
              (p = Math.imul(oe, Be)),
              (E = (E + Math.imul(U, ut)) | 0),
              (l = (l + Math.imul(U, Le)) | 0),
              (l = (l + Math.imul(_, ut)) | 0),
              (p = (p + Math.imul(_, Le)) | 0),
              (E = (E + Math.imul(Z, dt)) | 0),
              (l = (l + Math.imul(Z, Ke)) | 0),
              (l = (l + Math.imul(B, dt)) | 0),
              (p = (p + Math.imul(B, Ke)) | 0),
              (E = (E + Math.imul(te, It)) | 0),
              (l = (l + Math.imul(te, Se)) | 0),
              (l = (l + Math.imul(se, It)) | 0),
              (p = (p + Math.imul(se, Se)) | 0);
            var Sr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Sr >>> 26)) | 0),
              (Sr &= 67108863),
              (E = Math.imul(ge, ht)),
              (l = Math.imul(ge, Be)),
              (l = (l + Math.imul(ve, ht)) | 0),
              (p = Math.imul(ve, Be)),
              (E = (E + Math.imul(re, ut)) | 0),
              (l = (l + Math.imul(re, Le)) | 0),
              (l = (l + Math.imul(oe, ut)) | 0),
              (p = (p + Math.imul(oe, Le)) | 0),
              (E = (E + Math.imul(U, dt)) | 0),
              (l = (l + Math.imul(U, Ke)) | 0),
              (l = (l + Math.imul(_, dt)) | 0),
              (p = (p + Math.imul(_, Ke)) | 0),
              (E = (E + Math.imul(Z, It)) | 0),
              (l = (l + Math.imul(Z, Se)) | 0),
              (l = (l + Math.imul(B, It)) | 0),
              (p = (p + Math.imul(B, Se)) | 0),
              (E = (E + Math.imul(te, Xe)) | 0),
              (l = (l + Math.imul(te, Me)) | 0),
              (l = (l + Math.imul(se, Xe)) | 0),
              (p = (p + Math.imul(se, Me)) | 0);
            var Mr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Mr >>> 26)) | 0),
              (Mr &= 67108863),
              (E = Math.imul(We, ht)),
              (l = Math.imul(We, Be)),
              (l = (l + Math.imul(Ie, ht)) | 0),
              (p = Math.imul(Ie, Be)),
              (E = (E + Math.imul(ge, ut)) | 0),
              (l = (l + Math.imul(ge, Le)) | 0),
              (l = (l + Math.imul(ve, ut)) | 0),
              (p = (p + Math.imul(ve, Le)) | 0),
              (E = (E + Math.imul(re, dt)) | 0),
              (l = (l + Math.imul(re, Ke)) | 0),
              (l = (l + Math.imul(oe, dt)) | 0),
              (p = (p + Math.imul(oe, Ke)) | 0),
              (E = (E + Math.imul(U, It)) | 0),
              (l = (l + Math.imul(U, Se)) | 0),
              (l = (l + Math.imul(_, It)) | 0),
              (p = (p + Math.imul(_, Se)) | 0),
              (E = (E + Math.imul(Z, Xe)) | 0),
              (l = (l + Math.imul(Z, Me)) | 0),
              (l = (l + Math.imul(B, Xe)) | 0),
              (p = (p + Math.imul(B, Me)) | 0),
              (E = (E + Math.imul(te, Je)) | 0),
              (l = (l + Math.imul(te, Ne)) | 0),
              (l = (l + Math.imul(se, Je)) | 0),
              (p = (p + Math.imul(se, Ne)) | 0);
            var Pr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Pr >>> 26)) | 0),
              (Pr &= 67108863),
              (E = Math.imul(Fe, ht)),
              (l = Math.imul(Fe, Be)),
              (l = (l + Math.imul(we, ht)) | 0),
              (p = Math.imul(we, Be)),
              (E = (E + Math.imul(We, ut)) | 0),
              (l = (l + Math.imul(We, Le)) | 0),
              (l = (l + Math.imul(Ie, ut)) | 0),
              (p = (p + Math.imul(Ie, Le)) | 0),
              (E = (E + Math.imul(ge, dt)) | 0),
              (l = (l + Math.imul(ge, Ke)) | 0),
              (l = (l + Math.imul(ve, dt)) | 0),
              (p = (p + Math.imul(ve, Ke)) | 0),
              (E = (E + Math.imul(re, It)) | 0),
              (l = (l + Math.imul(re, Se)) | 0),
              (l = (l + Math.imul(oe, It)) | 0),
              (p = (p + Math.imul(oe, Se)) | 0),
              (E = (E + Math.imul(U, Xe)) | 0),
              (l = (l + Math.imul(U, Me)) | 0),
              (l = (l + Math.imul(_, Xe)) | 0),
              (p = (p + Math.imul(_, Me)) | 0),
              (E = (E + Math.imul(Z, Je)) | 0),
              (l = (l + Math.imul(Z, Ne)) | 0),
              (l = (l + Math.imul(B, Je)) | 0),
              (p = (p + Math.imul(B, Ne)) | 0),
              (E = (E + Math.imul(te, Ze)) | 0),
              (l = (l + Math.imul(te, Oe)) | 0),
              (l = (l + Math.imul(se, Ze)) | 0),
              (p = (p + Math.imul(se, Oe)) | 0);
            var Yt = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Yt >>> 26)) | 0),
              (Yt &= 67108863),
              (E = Math.imul(Ue, ht)),
              (l = Math.imul(Ue, Be)),
              (l = (l + Math.imul(me, ht)) | 0),
              (p = Math.imul(me, Be)),
              (E = (E + Math.imul(Fe, ut)) | 0),
              (l = (l + Math.imul(Fe, Le)) | 0),
              (l = (l + Math.imul(we, ut)) | 0),
              (p = (p + Math.imul(we, Le)) | 0),
              (E = (E + Math.imul(We, dt)) | 0),
              (l = (l + Math.imul(We, Ke)) | 0),
              (l = (l + Math.imul(Ie, dt)) | 0),
              (p = (p + Math.imul(Ie, Ke)) | 0),
              (E = (E + Math.imul(ge, It)) | 0),
              (l = (l + Math.imul(ge, Se)) | 0),
              (l = (l + Math.imul(ve, It)) | 0),
              (p = (p + Math.imul(ve, Se)) | 0),
              (E = (E + Math.imul(re, Xe)) | 0),
              (l = (l + Math.imul(re, Me)) | 0),
              (l = (l + Math.imul(oe, Xe)) | 0),
              (p = (p + Math.imul(oe, Me)) | 0),
              (E = (E + Math.imul(U, Je)) | 0),
              (l = (l + Math.imul(U, Ne)) | 0),
              (l = (l + Math.imul(_, Je)) | 0),
              (p = (p + Math.imul(_, Ne)) | 0),
              (E = (E + Math.imul(Z, Ze)) | 0),
              (l = (l + Math.imul(Z, Oe)) | 0),
              (l = (l + Math.imul(B, Ze)) | 0),
              (p = (p + Math.imul(B, Oe)) | 0),
              (E = (E + Math.imul(te, rt)) | 0),
              (l = (l + Math.imul(te, Pe)) | 0),
              (l = (l + Math.imul(se, rt)) | 0),
              (p = (p + Math.imul(se, Pe)) | 0);
            var Ur = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Ur >>> 26)) | 0),
              (Ur &= 67108863),
              (E = Math.imul(De, ht)),
              (l = Math.imul(De, Be)),
              (l = (l + Math.imul(Ae, ht)) | 0),
              (p = Math.imul(Ae, Be)),
              (E = (E + Math.imul(Ue, ut)) | 0),
              (l = (l + Math.imul(Ue, Le)) | 0),
              (l = (l + Math.imul(me, ut)) | 0),
              (p = (p + Math.imul(me, Le)) | 0),
              (E = (E + Math.imul(Fe, dt)) | 0),
              (l = (l + Math.imul(Fe, Ke)) | 0),
              (l = (l + Math.imul(we, dt)) | 0),
              (p = (p + Math.imul(we, Ke)) | 0),
              (E = (E + Math.imul(We, It)) | 0),
              (l = (l + Math.imul(We, Se)) | 0),
              (l = (l + Math.imul(Ie, It)) | 0),
              (p = (p + Math.imul(Ie, Se)) | 0),
              (E = (E + Math.imul(ge, Xe)) | 0),
              (l = (l + Math.imul(ge, Me)) | 0),
              (l = (l + Math.imul(ve, Xe)) | 0),
              (p = (p + Math.imul(ve, Me)) | 0),
              (E = (E + Math.imul(re, Je)) | 0),
              (l = (l + Math.imul(re, Ne)) | 0),
              (l = (l + Math.imul(oe, Je)) | 0),
              (p = (p + Math.imul(oe, Ne)) | 0),
              (E = (E + Math.imul(U, Ze)) | 0),
              (l = (l + Math.imul(U, Oe)) | 0),
              (l = (l + Math.imul(_, Ze)) | 0),
              (p = (p + Math.imul(_, Oe)) | 0),
              (E = (E + Math.imul(Z, rt)) | 0),
              (l = (l + Math.imul(Z, Pe)) | 0),
              (l = (l + Math.imul(B, rt)) | 0),
              (p = (p + Math.imul(B, Pe)) | 0),
              (E = (E + Math.imul(te, ot)) | 0),
              (l = (l + Math.imul(te, Te)) | 0),
              (l = (l + Math.imul(se, ot)) | 0),
              (p = (p + Math.imul(se, Te)) | 0);
            var Ci = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Ci >>> 26)) | 0),
              (Ci &= 67108863),
              (E = Math.imul(ze, ht)),
              (l = Math.imul(ze, Be)),
              (l = (l + Math.imul(Ce, ht)) | 0),
              (p = Math.imul(Ce, Be)),
              (E = (E + Math.imul(De, ut)) | 0),
              (l = (l + Math.imul(De, Le)) | 0),
              (l = (l + Math.imul(Ae, ut)) | 0),
              (p = (p + Math.imul(Ae, Le)) | 0),
              (E = (E + Math.imul(Ue, dt)) | 0),
              (l = (l + Math.imul(Ue, Ke)) | 0),
              (l = (l + Math.imul(me, dt)) | 0),
              (p = (p + Math.imul(me, Ke)) | 0),
              (E = (E + Math.imul(Fe, It)) | 0),
              (l = (l + Math.imul(Fe, Se)) | 0),
              (l = (l + Math.imul(we, It)) | 0),
              (p = (p + Math.imul(we, Se)) | 0),
              (E = (E + Math.imul(We, Xe)) | 0),
              (l = (l + Math.imul(We, Me)) | 0),
              (l = (l + Math.imul(Ie, Xe)) | 0),
              (p = (p + Math.imul(Ie, Me)) | 0),
              (E = (E + Math.imul(ge, Je)) | 0),
              (l = (l + Math.imul(ge, Ne)) | 0),
              (l = (l + Math.imul(ve, Je)) | 0),
              (p = (p + Math.imul(ve, Ne)) | 0),
              (E = (E + Math.imul(re, Ze)) | 0),
              (l = (l + Math.imul(re, Oe)) | 0),
              (l = (l + Math.imul(oe, Ze)) | 0),
              (p = (p + Math.imul(oe, Oe)) | 0),
              (E = (E + Math.imul(U, rt)) | 0),
              (l = (l + Math.imul(U, Pe)) | 0),
              (l = (l + Math.imul(_, rt)) | 0),
              (p = (p + Math.imul(_, Pe)) | 0),
              (E = (E + Math.imul(Z, ot)) | 0),
              (l = (l + Math.imul(Z, Te)) | 0),
              (l = (l + Math.imul(B, ot)) | 0),
              (p = (p + Math.imul(B, Te)) | 0),
              (E = (E + Math.imul(te, Ot)) | 0),
              (l = (l + Math.imul(te, it)) | 0),
              (l = (l + Math.imul(se, Ot)) | 0),
              (p = (p + Math.imul(se, it)) | 0);
            var jr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (jr >>> 26)) | 0),
              (jr &= 67108863),
              (E = Math.imul(ze, ut)),
              (l = Math.imul(ze, Le)),
              (l = (l + Math.imul(Ce, ut)) | 0),
              (p = Math.imul(Ce, Le)),
              (E = (E + Math.imul(De, dt)) | 0),
              (l = (l + Math.imul(De, Ke)) | 0),
              (l = (l + Math.imul(Ae, dt)) | 0),
              (p = (p + Math.imul(Ae, Ke)) | 0),
              (E = (E + Math.imul(Ue, It)) | 0),
              (l = (l + Math.imul(Ue, Se)) | 0),
              (l = (l + Math.imul(me, It)) | 0),
              (p = (p + Math.imul(me, Se)) | 0),
              (E = (E + Math.imul(Fe, Xe)) | 0),
              (l = (l + Math.imul(Fe, Me)) | 0),
              (l = (l + Math.imul(we, Xe)) | 0),
              (p = (p + Math.imul(we, Me)) | 0),
              (E = (E + Math.imul(We, Je)) | 0),
              (l = (l + Math.imul(We, Ne)) | 0),
              (l = (l + Math.imul(Ie, Je)) | 0),
              (p = (p + Math.imul(Ie, Ne)) | 0),
              (E = (E + Math.imul(ge, Ze)) | 0),
              (l = (l + Math.imul(ge, Oe)) | 0),
              (l = (l + Math.imul(ve, Ze)) | 0),
              (p = (p + Math.imul(ve, Oe)) | 0),
              (E = (E + Math.imul(re, rt)) | 0),
              (l = (l + Math.imul(re, Pe)) | 0),
              (l = (l + Math.imul(oe, rt)) | 0),
              (p = (p + Math.imul(oe, Pe)) | 0),
              (E = (E + Math.imul(U, ot)) | 0),
              (l = (l + Math.imul(U, Te)) | 0),
              (l = (l + Math.imul(_, ot)) | 0),
              (p = (p + Math.imul(_, Te)) | 0),
              (E = (E + Math.imul(Z, Ot)) | 0),
              (l = (l + Math.imul(Z, it)) | 0),
              (l = (l + Math.imul(B, Ot)) | 0),
              (p = (p + Math.imul(B, it)) | 0);
            var Ni = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Ni >>> 26)) | 0),
              (Ni &= 67108863),
              (E = Math.imul(ze, dt)),
              (l = Math.imul(ze, Ke)),
              (l = (l + Math.imul(Ce, dt)) | 0),
              (p = Math.imul(Ce, Ke)),
              (E = (E + Math.imul(De, It)) | 0),
              (l = (l + Math.imul(De, Se)) | 0),
              (l = (l + Math.imul(Ae, It)) | 0),
              (p = (p + Math.imul(Ae, Se)) | 0),
              (E = (E + Math.imul(Ue, Xe)) | 0),
              (l = (l + Math.imul(Ue, Me)) | 0),
              (l = (l + Math.imul(me, Xe)) | 0),
              (p = (p + Math.imul(me, Me)) | 0),
              (E = (E + Math.imul(Fe, Je)) | 0),
              (l = (l + Math.imul(Fe, Ne)) | 0),
              (l = (l + Math.imul(we, Je)) | 0),
              (p = (p + Math.imul(we, Ne)) | 0),
              (E = (E + Math.imul(We, Ze)) | 0),
              (l = (l + Math.imul(We, Oe)) | 0),
              (l = (l + Math.imul(Ie, Ze)) | 0),
              (p = (p + Math.imul(Ie, Oe)) | 0),
              (E = (E + Math.imul(ge, rt)) | 0),
              (l = (l + Math.imul(ge, Pe)) | 0),
              (l = (l + Math.imul(ve, rt)) | 0),
              (p = (p + Math.imul(ve, Pe)) | 0),
              (E = (E + Math.imul(re, ot)) | 0),
              (l = (l + Math.imul(re, Te)) | 0),
              (l = (l + Math.imul(oe, ot)) | 0),
              (p = (p + Math.imul(oe, Te)) | 0),
              (E = (E + Math.imul(U, Ot)) | 0),
              (l = (l + Math.imul(U, it)) | 0),
              (l = (l + Math.imul(_, Ot)) | 0),
              (p = (p + Math.imul(_, it)) | 0);
            var Oi = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Oi >>> 26)) | 0),
              (Oi &= 67108863),
              (E = Math.imul(ze, It)),
              (l = Math.imul(ze, Se)),
              (l = (l + Math.imul(Ce, It)) | 0),
              (p = Math.imul(Ce, Se)),
              (E = (E + Math.imul(De, Xe)) | 0),
              (l = (l + Math.imul(De, Me)) | 0),
              (l = (l + Math.imul(Ae, Xe)) | 0),
              (p = (p + Math.imul(Ae, Me)) | 0),
              (E = (E + Math.imul(Ue, Je)) | 0),
              (l = (l + Math.imul(Ue, Ne)) | 0),
              (l = (l + Math.imul(me, Je)) | 0),
              (p = (p + Math.imul(me, Ne)) | 0),
              (E = (E + Math.imul(Fe, Ze)) | 0),
              (l = (l + Math.imul(Fe, Oe)) | 0),
              (l = (l + Math.imul(we, Ze)) | 0),
              (p = (p + Math.imul(we, Oe)) | 0),
              (E = (E + Math.imul(We, rt)) | 0),
              (l = (l + Math.imul(We, Pe)) | 0),
              (l = (l + Math.imul(Ie, rt)) | 0),
              (p = (p + Math.imul(Ie, Pe)) | 0),
              (E = (E + Math.imul(ge, ot)) | 0),
              (l = (l + Math.imul(ge, Te)) | 0),
              (l = (l + Math.imul(ve, ot)) | 0),
              (p = (p + Math.imul(ve, Te)) | 0),
              (E = (E + Math.imul(re, Ot)) | 0),
              (l = (l + Math.imul(re, it)) | 0),
              (l = (l + Math.imul(oe, Ot)) | 0),
              (p = (p + Math.imul(oe, it)) | 0);
            var Kr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Kr >>> 26)) | 0),
              (Kr &= 67108863),
              (E = Math.imul(ze, Xe)),
              (l = Math.imul(ze, Me)),
              (l = (l + Math.imul(Ce, Xe)) | 0),
              (p = Math.imul(Ce, Me)),
              (E = (E + Math.imul(De, Je)) | 0),
              (l = (l + Math.imul(De, Ne)) | 0),
              (l = (l + Math.imul(Ae, Je)) | 0),
              (p = (p + Math.imul(Ae, Ne)) | 0),
              (E = (E + Math.imul(Ue, Ze)) | 0),
              (l = (l + Math.imul(Ue, Oe)) | 0),
              (l = (l + Math.imul(me, Ze)) | 0),
              (p = (p + Math.imul(me, Oe)) | 0),
              (E = (E + Math.imul(Fe, rt)) | 0),
              (l = (l + Math.imul(Fe, Pe)) | 0),
              (l = (l + Math.imul(we, rt)) | 0),
              (p = (p + Math.imul(we, Pe)) | 0),
              (E = (E + Math.imul(We, ot)) | 0),
              (l = (l + Math.imul(We, Te)) | 0),
              (l = (l + Math.imul(Ie, ot)) | 0),
              (p = (p + Math.imul(Ie, Te)) | 0),
              (E = (E + Math.imul(ge, Ot)) | 0),
              (l = (l + Math.imul(ge, it)) | 0),
              (l = (l + Math.imul(ve, Ot)) | 0),
              (p = (p + Math.imul(ve, it)) | 0);
            var ui = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (ui >>> 26)) | 0),
              (ui &= 67108863),
              (E = Math.imul(ze, Je)),
              (l = Math.imul(ze, Ne)),
              (l = (l + Math.imul(Ce, Je)) | 0),
              (p = Math.imul(Ce, Ne)),
              (E = (E + Math.imul(De, Ze)) | 0),
              (l = (l + Math.imul(De, Oe)) | 0),
              (l = (l + Math.imul(Ae, Ze)) | 0),
              (p = (p + Math.imul(Ae, Oe)) | 0),
              (E = (E + Math.imul(Ue, rt)) | 0),
              (l = (l + Math.imul(Ue, Pe)) | 0),
              (l = (l + Math.imul(me, rt)) | 0),
              (p = (p + Math.imul(me, Pe)) | 0),
              (E = (E + Math.imul(Fe, ot)) | 0),
              (l = (l + Math.imul(Fe, Te)) | 0),
              (l = (l + Math.imul(we, ot)) | 0),
              (p = (p + Math.imul(we, Te)) | 0),
              (E = (E + Math.imul(We, Ot)) | 0),
              (l = (l + Math.imul(We, it)) | 0),
              (l = (l + Math.imul(Ie, Ot)) | 0),
              (p = (p + Math.imul(Ie, it)) | 0);
            var di = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (di >>> 26)) | 0),
              (di &= 67108863),
              (E = Math.imul(ze, Ze)),
              (l = Math.imul(ze, Oe)),
              (l = (l + Math.imul(Ce, Ze)) | 0),
              (p = Math.imul(Ce, Oe)),
              (E = (E + Math.imul(De, rt)) | 0),
              (l = (l + Math.imul(De, Pe)) | 0),
              (l = (l + Math.imul(Ae, rt)) | 0),
              (p = (p + Math.imul(Ae, Pe)) | 0),
              (E = (E + Math.imul(Ue, ot)) | 0),
              (l = (l + Math.imul(Ue, Te)) | 0),
              (l = (l + Math.imul(me, ot)) | 0),
              (p = (p + Math.imul(me, Te)) | 0),
              (E = (E + Math.imul(Fe, Ot)) | 0),
              (l = (l + Math.imul(Fe, it)) | 0),
              (l = (l + Math.imul(we, Ot)) | 0),
              (p = (p + Math.imul(we, it)) | 0);
            var cr = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (cr >>> 26)) | 0),
              (cr &= 67108863),
              (E = Math.imul(ze, rt)),
              (l = Math.imul(ze, Pe)),
              (l = (l + Math.imul(Ce, rt)) | 0),
              (p = Math.imul(Ce, Pe)),
              (E = (E + Math.imul(De, ot)) | 0),
              (l = (l + Math.imul(De, Te)) | 0),
              (l = (l + Math.imul(Ae, ot)) | 0),
              (p = (p + Math.imul(Ae, Te)) | 0),
              (E = (E + Math.imul(Ue, Ot)) | 0),
              (l = (l + Math.imul(Ue, it)) | 0),
              (l = (l + Math.imul(me, Ot)) | 0),
              (p = (p + Math.imul(me, it)) | 0);
            var Ti = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (Ti >>> 26)) | 0),
              (Ti &= 67108863),
              (E = Math.imul(ze, ot)),
              (l = Math.imul(ze, Te)),
              (l = (l + Math.imul(Ce, ot)) | 0),
              (p = Math.imul(Ce, Te)),
              (E = (E + Math.imul(De, Ot)) | 0),
              (l = (l + Math.imul(De, it)) | 0),
              (l = (l + Math.imul(Ae, Ot)) | 0),
              (p = (p + Math.imul(Ae, it)) | 0);
            var qi = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            (S = (((p + (l >>> 13)) | 0) + (qi >>> 26)) | 0),
              (qi &= 67108863),
              (E = Math.imul(ze, Ot)),
              (l = Math.imul(ze, it)),
              (l = (l + Math.imul(Ce, Ot)) | 0),
              (p = Math.imul(Ce, it));
            var Di = (((S + E) | 0) + ((l & 8191) << 13)) | 0;
            return (
              (S = (((p + (l >>> 13)) | 0) + (Di >>> 26)) | 0),
              (Di &= 67108863),
              (I[0] = bt),
              (I[1] = Er),
              (I[2] = Ir),
              (I[3] = Sr),
              (I[4] = Mr),
              (I[5] = Pr),
              (I[6] = Yt),
              (I[7] = Ur),
              (I[8] = Ci),
              (I[9] = jr),
              (I[10] = Ni),
              (I[11] = Oi),
              (I[12] = Kr),
              (I[13] = ui),
              (I[14] = di),
              (I[15] = cr),
              (I[16] = Ti),
              (I[17] = qi),
              (I[18] = Di),
              S !== 0 && ((I[19] = S), u.length++),
              u
            );
          };
          Math.imul || (q = C);
          function L(F, m, c) {
            (c.negative = m.negative ^ F.negative),
              (c.length = F.length + m.length);
            for (var u = 0, b = 0, w = 0; w < c.length - 1; w++) {
              var I = b;
              b = 0;
              for (
                var S = u & 67108863,
                  E = Math.min(w, m.length - 1),
                  l = Math.max(0, w - F.length + 1);
                l <= E;
                l++
              ) {
                var p = w - l,
                  O = F.words[p] | 0,
                  te = m.words[l] | 0,
                  se = O * te,
                  M = se & 67108863;
                (I = (I + ((se / 67108864) | 0)) | 0),
                  (M = (M + S) | 0),
                  (S = M & 67108863),
                  (I = (I + (M >>> 26)) | 0),
                  (b += I >>> 26),
                  (I &= 67108863);
              }
              (c.words[w] = S), (u = I), (I = b);
            }
            return u !== 0 ? (c.words[w] = u) : c.length--, c.strip();
          }
          function j(F, m, c) {
            var u = new H();
            return u.mulp(F, m, c);
          }
          a.prototype.mulTo = function (m, c) {
            var u,
              b = this.length + m.length;
            return (
              this.length === 10 && m.length === 10
                ? (u = q(this, m, c))
                : b < 63
                ? (u = C(this, m, c))
                : b < 1024
                ? (u = L(this, m, c))
                : (u = j(this, m, c)),
              u
            );
          };
          function H(F, m) {
            (this.x = F), (this.y = m);
          }
          (H.prototype.makeRBT = function (m) {
            for (
              var c = new Array(m), u = a.prototype._countBits(m) - 1, b = 0;
              b < m;
              b++
            )
              c[b] = this.revBin(b, u, m);
            return c;
          }),
            (H.prototype.revBin = function (m, c, u) {
              if (m === 0 || m === u - 1) return m;
              for (var b = 0, w = 0; w < c; w++)
                (b |= (m & 1) << (c - w - 1)), (m >>= 1);
              return b;
            }),
            (H.prototype.permute = function (m, c, u, b, w, I) {
              for (var S = 0; S < I; S++) (b[S] = c[m[S]]), (w[S] = u[m[S]]);
            }),
            (H.prototype.transform = function (m, c, u, b, w, I) {
              this.permute(I, m, c, u, b, w);
              for (var S = 1; S < w; S <<= 1)
                for (
                  var E = S << 1,
                    l = Math.cos((2 * Math.PI) / E),
                    p = Math.sin((2 * Math.PI) / E),
                    O = 0;
                  O < w;
                  O += E
                )
                  for (var te = l, se = p, M = 0; M < S; M++) {
                    var Z = u[O + M],
                      B = b[O + M],
                      $ = u[O + M + S],
                      U = b[O + M + S],
                      _ = te * $ - se * U;
                    (U = te * U + se * $),
                      ($ = _),
                      (u[O + M] = Z + $),
                      (b[O + M] = B + U),
                      (u[O + M + S] = Z - $),
                      (b[O + M + S] = B - U),
                      M !== E &&
                        ((_ = l * te - p * se),
                        (se = l * se + p * te),
                        (te = _));
                  }
            }),
            (H.prototype.guessLen13b = function (m, c) {
              var u = Math.max(c, m) | 1,
                b = u & 1,
                w = 0;
              for (u = (u / 2) | 0; u; u = u >>> 1) w++;
              return 1 << (w + 1 + b);
            }),
            (H.prototype.conjugate = function (m, c, u) {
              if (!(u <= 1))
                for (var b = 0; b < u / 2; b++) {
                  var w = m[b];
                  (m[b] = m[u - b - 1]),
                    (m[u - b - 1] = w),
                    (w = c[b]),
                    (c[b] = -c[u - b - 1]),
                    (c[u - b - 1] = -w);
                }
            }),
            (H.prototype.normalize13b = function (m, c) {
              for (var u = 0, b = 0; b < c / 2; b++) {
                var w =
                  Math.round(m[2 * b + 1] / c) * 8192 +
                  Math.round(m[2 * b] / c) +
                  u;
                (m[b] = w & 67108863),
                  w < 67108864 ? (u = 0) : (u = (w / 67108864) | 0);
              }
              return m;
            }),
            (H.prototype.convert13b = function (m, c, u, b) {
              for (var w = 0, I = 0; I < c; I++)
                (w = w + (m[I] | 0)),
                  (u[2 * I] = w & 8191),
                  (w = w >>> 13),
                  (u[2 * I + 1] = w & 8191),
                  (w = w >>> 13);
              for (I = 2 * c; I < b; ++I) u[I] = 0;
              i(w === 0), i((w & -8192) === 0);
            }),
            (H.prototype.stub = function (m) {
              for (var c = new Array(m), u = 0; u < m; u++) c[u] = 0;
              return c;
            }),
            (H.prototype.mulp = function (m, c, u) {
              var b = 2 * this.guessLen13b(m.length, c.length),
                w = this.makeRBT(b),
                I = this.stub(b),
                S = new Array(b),
                E = new Array(b),
                l = new Array(b),
                p = new Array(b),
                O = new Array(b),
                te = new Array(b),
                se = u.words;
              (se.length = b),
                this.convert13b(m.words, m.length, S, b),
                this.convert13b(c.words, c.length, p, b),
                this.transform(S, I, E, l, b, w),
                this.transform(p, I, O, te, b, w);
              for (var M = 0; M < b; M++) {
                var Z = E[M] * O[M] - l[M] * te[M];
                (l[M] = E[M] * te[M] + l[M] * O[M]), (E[M] = Z);
              }
              return (
                this.conjugate(E, l, b),
                this.transform(E, l, se, I, b, w),
                this.conjugate(se, I, b),
                this.normalize13b(se, b),
                (u.negative = m.negative ^ c.negative),
                (u.length = m.length + c.length),
                u.strip()
              );
            }),
            (a.prototype.mul = function (m) {
              var c = new a(null);
              return (
                (c.words = new Array(this.length + m.length)), this.mulTo(m, c)
              );
            }),
            (a.prototype.mulf = function (m) {
              var c = new a(null);
              return (
                (c.words = new Array(this.length + m.length)), j(this, m, c)
              );
            }),
            (a.prototype.imul = function (m) {
              return this.clone().mulTo(m, this);
            }),
            (a.prototype.imuln = function (m) {
              i(typeof m == "number"), i(m < 67108864);
              for (var c = 0, u = 0; u < this.length; u++) {
                var b = (this.words[u] | 0) * m,
                  w = (b & 67108863) + (c & 67108863);
                (c >>= 26),
                  (c += (b / 67108864) | 0),
                  (c += w >>> 26),
                  (this.words[u] = w & 67108863);
              }
              return c !== 0 && ((this.words[u] = c), this.length++), this;
            }),
            (a.prototype.muln = function (m) {
              return this.clone().imuln(m);
            }),
            (a.prototype.sqr = function () {
              return this.mul(this);
            }),
            (a.prototype.isqr = function () {
              return this.imul(this.clone());
            }),
            (a.prototype.pow = function (m) {
              var c = R(m);
              if (c.length === 0) return new a(1);
              for (
                var u = this, b = 0;
                b < c.length && c[b] === 0;
                b++, u = u.sqr()
              );
              if (++b < c.length)
                for (var w = u.sqr(); b < c.length; b++, w = w.sqr())
                  c[b] !== 0 && (u = u.mul(w));
              return u;
            }),
            (a.prototype.iushln = function (m) {
              i(typeof m == "number" && m >= 0);
              var c = m % 26,
                u = (m - c) / 26,
                b = (67108863 >>> (26 - c)) << (26 - c),
                w;
              if (c !== 0) {
                var I = 0;
                for (w = 0; w < this.length; w++) {
                  var S = this.words[w] & b,
                    E = ((this.words[w] | 0) - S) << c;
                  (this.words[w] = E | I), (I = S >>> (26 - c));
                }
                I && ((this.words[w] = I), this.length++);
              }
              if (u !== 0) {
                for (w = this.length - 1; w >= 0; w--)
                  this.words[w + u] = this.words[w];
                for (w = 0; w < u; w++) this.words[w] = 0;
                this.length += u;
              }
              return this.strip();
            }),
            (a.prototype.ishln = function (m) {
              return i(this.negative === 0), this.iushln(m);
            }),
            (a.prototype.iushrn = function (m, c, u) {
              i(typeof m == "number" && m >= 0);
              var b;
              c ? (b = (c - (c % 26)) / 26) : (b = 0);
              var w = m % 26,
                I = Math.min((m - w) / 26, this.length),
                S = 67108863 ^ ((67108863 >>> w) << w),
                E = u;
              if (((b -= I), (b = Math.max(0, b)), E)) {
                for (var l = 0; l < I; l++) E.words[l] = this.words[l];
                E.length = I;
              }
              if (I !== 0)
                if (this.length > I)
                  for (this.length -= I, l = 0; l < this.length; l++)
                    this.words[l] = this.words[l + I];
                else (this.words[0] = 0), (this.length = 1);
              var p = 0;
              for (l = this.length - 1; l >= 0 && (p !== 0 || l >= b); l--) {
                var O = this.words[l] | 0;
                (this.words[l] = (p << (26 - w)) | (O >>> w)), (p = O & S);
              }
              return (
                E && p !== 0 && (E.words[E.length++] = p),
                this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
                this.strip()
              );
            }),
            (a.prototype.ishrn = function (m, c, u) {
              return i(this.negative === 0), this.iushrn(m, c, u);
            }),
            (a.prototype.shln = function (m) {
              return this.clone().ishln(m);
            }),
            (a.prototype.ushln = function (m) {
              return this.clone().iushln(m);
            }),
            (a.prototype.shrn = function (m) {
              return this.clone().ishrn(m);
            }),
            (a.prototype.ushrn = function (m) {
              return this.clone().iushrn(m);
            }),
            (a.prototype.testn = function (m) {
              i(typeof m == "number" && m >= 0);
              var c = m % 26,
                u = (m - c) / 26,
                b = 1 << c;
              if (this.length <= u) return !1;
              var w = this.words[u];
              return !!(w & b);
            }),
            (a.prototype.imaskn = function (m) {
              i(typeof m == "number" && m >= 0);
              var c = m % 26,
                u = (m - c) / 26;
              if (
                (i(
                  this.negative === 0,
                  "imaskn works only with positive numbers"
                ),
                this.length <= u)
              )
                return this;
              if (
                (c !== 0 && u++,
                (this.length = Math.min(u, this.length)),
                c !== 0)
              ) {
                var b = 67108863 ^ ((67108863 >>> c) << c);
                this.words[this.length - 1] &= b;
              }
              return this.strip();
            }),
            (a.prototype.maskn = function (m) {
              return this.clone().imaskn(m);
            }),
            (a.prototype.iaddn = function (m) {
              return (
                i(typeof m == "number"),
                i(m < 67108864),
                m < 0
                  ? this.isubn(-m)
                  : this.negative !== 0
                  ? this.length === 1 && (this.words[0] | 0) < m
                    ? ((this.words[0] = m - (this.words[0] | 0)),
                      (this.negative = 0),
                      this)
                    : ((this.negative = 0),
                      this.isubn(m),
                      (this.negative = 1),
                      this)
                  : this._iaddn(m)
              );
            }),
            (a.prototype._iaddn = function (m) {
              this.words[0] += m;
              for (var c = 0; c < this.length && this.words[c] >= 67108864; c++)
                (this.words[c] -= 67108864),
                  c === this.length - 1
                    ? (this.words[c + 1] = 1)
                    : this.words[c + 1]++;
              return (this.length = Math.max(this.length, c + 1)), this;
            }),
            (a.prototype.isubn = function (m) {
              if ((i(typeof m == "number"), i(m < 67108864), m < 0))
                return this.iaddn(-m);
              if (this.negative !== 0)
                return (
                  (this.negative = 0), this.iaddn(m), (this.negative = 1), this
                );
              if (
                ((this.words[0] -= m), this.length === 1 && this.words[0] < 0)
              )
                (this.words[0] = -this.words[0]), (this.negative = 1);
              else
                for (var c = 0; c < this.length && this.words[c] < 0; c++)
                  (this.words[c] += 67108864), (this.words[c + 1] -= 1);
              return this.strip();
            }),
            (a.prototype.addn = function (m) {
              return this.clone().iaddn(m);
            }),
            (a.prototype.subn = function (m) {
              return this.clone().isubn(m);
            }),
            (a.prototype.iabs = function () {
              return (this.negative = 0), this;
            }),
            (a.prototype.abs = function () {
              return this.clone().iabs();
            }),
            (a.prototype._ishlnsubmul = function (m, c, u) {
              var b = m.length + u,
                w;
              this._expand(b);
              var I,
                S = 0;
              for (w = 0; w < m.length; w++) {
                I = (this.words[w + u] | 0) + S;
                var E = (m.words[w] | 0) * c;
                (I -= E & 67108863),
                  (S = (I >> 26) - ((E / 67108864) | 0)),
                  (this.words[w + u] = I & 67108863);
              }
              for (; w < this.length - u; w++)
                (I = (this.words[w + u] | 0) + S),
                  (S = I >> 26),
                  (this.words[w + u] = I & 67108863);
              if (S === 0) return this.strip();
              for (i(S === -1), S = 0, w = 0; w < this.length; w++)
                (I = -(this.words[w] | 0) + S),
                  (S = I >> 26),
                  (this.words[w] = I & 67108863);
              return (this.negative = 1), this.strip();
            }),
            (a.prototype._wordDiv = function (m, c) {
              var u = this.length - m.length,
                b = this.clone(),
                w = m,
                I = w.words[w.length - 1] | 0,
                S = this._countBits(I);
              (u = 26 - S),
                u !== 0 &&
                  ((w = w.ushln(u)),
                  b.iushln(u),
                  (I = w.words[w.length - 1] | 0));
              var E = b.length - w.length,
                l;
              if (c !== "mod") {
                (l = new a(null)),
                  (l.length = E + 1),
                  (l.words = new Array(l.length));
                for (var p = 0; p < l.length; p++) l.words[p] = 0;
              }
              var O = b.clone()._ishlnsubmul(w, 1, E);
              O.negative === 0 && ((b = O), l && (l.words[E] = 1));
              for (var te = E - 1; te >= 0; te--) {
                var se =
                  (b.words[w.length + te] | 0) * 67108864 +
                  (b.words[w.length + te - 1] | 0);
                for (
                  se = Math.min((se / I) | 0, 67108863),
                    b._ishlnsubmul(w, se, te);
                  b.negative !== 0;

                )
                  se--,
                    (b.negative = 0),
                    b._ishlnsubmul(w, 1, te),
                    b.isZero() || (b.negative ^= 1);
                l && (l.words[te] = se);
              }
              return (
                l && l.strip(),
                b.strip(),
                c !== "div" && u !== 0 && b.iushrn(u),
                { div: l || null, mod: b }
              );
            }),
            (a.prototype.divmod = function (m, c, u) {
              if ((i(!m.isZero()), this.isZero()))
                return { div: new a(0), mod: new a(0) };
              var b, w, I;
              return this.negative !== 0 && m.negative === 0
                ? ((I = this.neg().divmod(m, c)),
                  c !== "mod" && (b = I.div.neg()),
                  c !== "div" &&
                    ((w = I.mod.neg()), u && w.negative !== 0 && w.iadd(m)),
                  { div: b, mod: w })
                : this.negative === 0 && m.negative !== 0
                ? ((I = this.divmod(m.neg(), c)),
                  c !== "mod" && (b = I.div.neg()),
                  { div: b, mod: I.mod })
                : this.negative & m.negative
                ? ((I = this.neg().divmod(m.neg(), c)),
                  c !== "div" &&
                    ((w = I.mod.neg()), u && w.negative !== 0 && w.isub(m)),
                  { div: I.div, mod: w })
                : m.length > this.length || this.cmp(m) < 0
                ? { div: new a(0), mod: this }
                : m.length === 1
                ? c === "div"
                  ? { div: this.divn(m.words[0]), mod: null }
                  : c === "mod"
                  ? { div: null, mod: new a(this.modn(m.words[0])) }
                  : {
                      div: this.divn(m.words[0]),
                      mod: new a(this.modn(m.words[0])),
                    }
                : this._wordDiv(m, c);
            }),
            (a.prototype.div = function (m) {
              return this.divmod(m, "div", !1).div;
            }),
            (a.prototype.mod = function (m) {
              return this.divmod(m, "mod", !1).mod;
            }),
            (a.prototype.umod = function (m) {
              return this.divmod(m, "mod", !0).mod;
            }),
            (a.prototype.divRound = function (m) {
              var c = this.divmod(m);
              if (c.mod.isZero()) return c.div;
              var u = c.div.negative !== 0 ? c.mod.isub(m) : c.mod,
                b = m.ushrn(1),
                w = m.andln(1),
                I = u.cmp(b);
              return I < 0 || (w === 1 && I === 0)
                ? c.div
                : c.div.negative !== 0
                ? c.div.isubn(1)
                : c.div.iaddn(1);
            }),
            (a.prototype.modn = function (m) {
              i(m <= 67108863);
              for (
                var c = (1 << 26) % m, u = 0, b = this.length - 1;
                b >= 0;
                b--
              )
                u = (c * u + (this.words[b] | 0)) % m;
              return u;
            }),
            (a.prototype.idivn = function (m) {
              i(m <= 67108863);
              for (var c = 0, u = this.length - 1; u >= 0; u--) {
                var b = (this.words[u] | 0) + c * 67108864;
                (this.words[u] = (b / m) | 0), (c = b % m);
              }
              return this.strip();
            }),
            (a.prototype.divn = function (m) {
              return this.clone().idivn(m);
            }),
            (a.prototype.egcd = function (m) {
              i(m.negative === 0), i(!m.isZero());
              var c = this,
                u = m.clone();
              c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
              for (
                var b = new a(1),
                  w = new a(0),
                  I = new a(0),
                  S = new a(1),
                  E = 0;
                c.isEven() && u.isEven();

              )
                c.iushrn(1), u.iushrn(1), ++E;
              for (var l = u.clone(), p = c.clone(); !c.isZero(); ) {
                for (
                  var O = 0, te = 1;
                  !(c.words[0] & te) && O < 26;
                  ++O, te <<= 1
                );
                if (O > 0)
                  for (c.iushrn(O); O-- > 0; )
                    (b.isOdd() || w.isOdd()) && (b.iadd(l), w.isub(p)),
                      b.iushrn(1),
                      w.iushrn(1);
                for (
                  var se = 0, M = 1;
                  !(u.words[0] & M) && se < 26;
                  ++se, M <<= 1
                );
                if (se > 0)
                  for (u.iushrn(se); se-- > 0; )
                    (I.isOdd() || S.isOdd()) && (I.iadd(l), S.isub(p)),
                      I.iushrn(1),
                      S.iushrn(1);
                c.cmp(u) >= 0
                  ? (c.isub(u), b.isub(I), w.isub(S))
                  : (u.isub(c), I.isub(b), S.isub(w));
              }
              return { a: I, b: S, gcd: u.iushln(E) };
            }),
            (a.prototype._invmp = function (m) {
              i(m.negative === 0), i(!m.isZero());
              var c = this,
                u = m.clone();
              c.negative !== 0 ? (c = c.umod(m)) : (c = c.clone());
              for (
                var b = new a(1), w = new a(0), I = u.clone();
                c.cmpn(1) > 0 && u.cmpn(1) > 0;

              ) {
                for (
                  var S = 0, E = 1;
                  !(c.words[0] & E) && S < 26;
                  ++S, E <<= 1
                );
                if (S > 0)
                  for (c.iushrn(S); S-- > 0; )
                    b.isOdd() && b.iadd(I), b.iushrn(1);
                for (
                  var l = 0, p = 1;
                  !(u.words[0] & p) && l < 26;
                  ++l, p <<= 1
                );
                if (l > 0)
                  for (u.iushrn(l); l-- > 0; )
                    w.isOdd() && w.iadd(I), w.iushrn(1);
                c.cmp(u) >= 0 ? (c.isub(u), b.isub(w)) : (u.isub(c), w.isub(b));
              }
              var O;
              return (
                c.cmpn(1) === 0 ? (O = b) : (O = w),
                O.cmpn(0) < 0 && O.iadd(m),
                O
              );
            }),
            (a.prototype.gcd = function (m) {
              if (this.isZero()) return m.abs();
              if (m.isZero()) return this.abs();
              var c = this.clone(),
                u = m.clone();
              (c.negative = 0), (u.negative = 0);
              for (var b = 0; c.isEven() && u.isEven(); b++)
                c.iushrn(1), u.iushrn(1);
              do {
                for (; c.isEven(); ) c.iushrn(1);
                for (; u.isEven(); ) u.iushrn(1);
                var w = c.cmp(u);
                if (w < 0) {
                  var I = c;
                  (c = u), (u = I);
                } else if (w === 0 || u.cmpn(1) === 0) break;
                c.isub(u);
              } while (!0);
              return u.iushln(b);
            }),
            (a.prototype.invm = function (m) {
              return this.egcd(m).a.umod(m);
            }),
            (a.prototype.isEven = function () {
              return (this.words[0] & 1) === 0;
            }),
            (a.prototype.isOdd = function () {
              return (this.words[0] & 1) === 1;
            }),
            (a.prototype.andln = function (m) {
              return this.words[0] & m;
            }),
            (a.prototype.bincn = function (m) {
              i(typeof m == "number");
              var c = m % 26,
                u = (m - c) / 26,
                b = 1 << c;
              if (this.length <= u)
                return this._expand(u + 1), (this.words[u] |= b), this;
              for (var w = b, I = u; w !== 0 && I < this.length; I++) {
                var S = this.words[I] | 0;
                (S += w), (w = S >>> 26), (S &= 67108863), (this.words[I] = S);
              }
              return w !== 0 && ((this.words[I] = w), this.length++), this;
            }),
            (a.prototype.isZero = function () {
              return this.length === 1 && this.words[0] === 0;
            }),
            (a.prototype.cmpn = function (m) {
              var c = m < 0;
              if (this.negative !== 0 && !c) return -1;
              if (this.negative === 0 && c) return 1;
              this.strip();
              var u;
              if (this.length > 1) u = 1;
              else {
                c && (m = -m), i(m <= 67108863, "Number is too big");
                var b = this.words[0] | 0;
                u = b === m ? 0 : b < m ? -1 : 1;
              }
              return this.negative !== 0 ? -u | 0 : u;
            }),
            (a.prototype.cmp = function (m) {
              if (this.negative !== 0 && m.negative === 0) return -1;
              if (this.negative === 0 && m.negative !== 0) return 1;
              var c = this.ucmp(m);
              return this.negative !== 0 ? -c | 0 : c;
            }),
            (a.prototype.ucmp = function (m) {
              if (this.length > m.length) return 1;
              if (this.length < m.length) return -1;
              for (var c = 0, u = this.length - 1; u >= 0; u--) {
                var b = this.words[u] | 0,
                  w = m.words[u] | 0;
                if (b !== w) {
                  b < w ? (c = -1) : b > w && (c = 1);
                  break;
                }
              }
              return c;
            }),
            (a.prototype.gtn = function (m) {
              return this.cmpn(m) === 1;
            }),
            (a.prototype.gt = function (m) {
              return this.cmp(m) === 1;
            }),
            (a.prototype.gten = function (m) {
              return this.cmpn(m) >= 0;
            }),
            (a.prototype.gte = function (m) {
              return this.cmp(m) >= 0;
            }),
            (a.prototype.ltn = function (m) {
              return this.cmpn(m) === -1;
            }),
            (a.prototype.lt = function (m) {
              return this.cmp(m) === -1;
            }),
            (a.prototype.lten = function (m) {
              return this.cmpn(m) <= 0;
            }),
            (a.prototype.lte = function (m) {
              return this.cmp(m) <= 0;
            }),
            (a.prototype.eqn = function (m) {
              return this.cmpn(m) === 0;
            }),
            (a.prototype.eq = function (m) {
              return this.cmp(m) === 0;
            }),
            (a.red = function (m) {
              return new fe(m);
            }),
            (a.prototype.toRed = function (m) {
              return (
                i(!this.red, "Already a number in reduction context"),
                i(this.negative === 0, "red works only with positives"),
                m.convertTo(this)._forceRed(m)
              );
            }),
            (a.prototype.fromRed = function () {
              return (
                i(
                  this.red,
                  "fromRed works only with numbers in reduction context"
                ),
                this.red.convertFrom(this)
              );
            }),
            (a.prototype._forceRed = function (m) {
              return (this.red = m), this;
            }),
            (a.prototype.forceRed = function (m) {
              return (
                i(!this.red, "Already a number in reduction context"),
                this._forceRed(m)
              );
            }),
            (a.prototype.redAdd = function (m) {
              return (
                i(this.red, "redAdd works only with red numbers"),
                this.red.add(this, m)
              );
            }),
            (a.prototype.redIAdd = function (m) {
              return (
                i(this.red, "redIAdd works only with red numbers"),
                this.red.iadd(this, m)
              );
            }),
            (a.prototype.redSub = function (m) {
              return (
                i(this.red, "redSub works only with red numbers"),
                this.red.sub(this, m)
              );
            }),
            (a.prototype.redISub = function (m) {
              return (
                i(this.red, "redISub works only with red numbers"),
                this.red.isub(this, m)
              );
            }),
            (a.prototype.redShl = function (m) {
              return (
                i(this.red, "redShl works only with red numbers"),
                this.red.shl(this, m)
              );
            }),
            (a.prototype.redMul = function (m) {
              return (
                i(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, m),
                this.red.mul(this, m)
              );
            }),
            (a.prototype.redIMul = function (m) {
              return (
                i(this.red, "redMul works only with red numbers"),
                this.red._verify2(this, m),
                this.red.imul(this, m)
              );
            }),
            (a.prototype.redSqr = function () {
              return (
                i(this.red, "redSqr works only with red numbers"),
                this.red._verify1(this),
                this.red.sqr(this)
              );
            }),
            (a.prototype.redISqr = function () {
              return (
                i(this.red, "redISqr works only with red numbers"),
                this.red._verify1(this),
                this.red.isqr(this)
              );
            }),
            (a.prototype.redSqrt = function () {
              return (
                i(this.red, "redSqrt works only with red numbers"),
                this.red._verify1(this),
                this.red.sqrt(this)
              );
            }),
            (a.prototype.redInvm = function () {
              return (
                i(this.red, "redInvm works only with red numbers"),
                this.red._verify1(this),
                this.red.invm(this)
              );
            }),
            (a.prototype.redNeg = function () {
              return (
                i(this.red, "redNeg works only with red numbers"),
                this.red._verify1(this),
                this.red.neg(this)
              );
            }),
            (a.prototype.redPow = function (m) {
              return (
                i(this.red && !m.red, "redPow(normalNum)"),
                this.red._verify1(this),
                this.red.pow(this, m)
              );
            });
          var Y = { k256: null, p224: null, p192: null, p25519: null };
          function Q(F, m) {
            (this.name = F),
              (this.p = new a(m, 16)),
              (this.n = this.p.bitLength()),
              (this.k = new a(1).iushln(this.n).isub(this.p)),
              (this.tmp = this._tmp());
          }
          (Q.prototype._tmp = function () {
            var m = new a(null);
            return (m.words = new Array(Math.ceil(this.n / 13))), m;
          }),
            (Q.prototype.ireduce = function (m) {
              var c = m,
                u;
              do
                this.split(c, this.tmp),
                  (c = this.imulK(c)),
                  (c = c.iadd(this.tmp)),
                  (u = c.bitLength());
              while (u > this.n);
              var b = u < this.n ? -1 : c.ucmp(this.p);
              return (
                b === 0
                  ? ((c.words[0] = 0), (c.length = 1))
                  : b > 0
                  ? c.isub(this.p)
                  : c.strip !== void 0
                  ? c.strip()
                  : c._strip(),
                c
              );
            }),
            (Q.prototype.split = function (m, c) {
              m.iushrn(this.n, 0, c);
            }),
            (Q.prototype.imulK = function (m) {
              return m.imul(this.k);
            });
          function G() {
            Q.call(
              this,
              "k256",
              "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
            );
          }
          s(G, Q),
            (G.prototype.split = function (m, c) {
              for (
                var u = 4194303, b = Math.min(m.length, 9), w = 0;
                w < b;
                w++
              )
                c.words[w] = m.words[w];
              if (((c.length = b), m.length <= 9)) {
                (m.words[0] = 0), (m.length = 1);
                return;
              }
              var I = m.words[9];
              for (c.words[c.length++] = I & u, w = 10; w < m.length; w++) {
                var S = m.words[w] | 0;
                (m.words[w - 10] = ((S & u) << 4) | (I >>> 22)), (I = S);
              }
              (I >>>= 22),
                (m.words[w - 10] = I),
                I === 0 && m.length > 10 ? (m.length -= 10) : (m.length -= 9);
            }),
            (G.prototype.imulK = function (m) {
              (m.words[m.length] = 0),
                (m.words[m.length + 1] = 0),
                (m.length += 2);
              for (var c = 0, u = 0; u < m.length; u++) {
                var b = m.words[u] | 0;
                (c += b * 977),
                  (m.words[u] = c & 67108863),
                  (c = b * 64 + ((c / 67108864) | 0));
              }
              return (
                m.words[m.length - 1] === 0 &&
                  (m.length--, m.words[m.length - 1] === 0 && m.length--),
                m
              );
            });
          function ee() {
            Q.call(
              this,
              "p224",
              "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
            );
          }
          s(ee, Q);
          function ne() {
            Q.call(
              this,
              "p192",
              "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
            );
          }
          s(ne, Q);
          function de() {
            Q.call(
              this,
              "25519",
              "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
            );
          }
          s(de, Q),
            (de.prototype.imulK = function (m) {
              for (var c = 0, u = 0; u < m.length; u++) {
                var b = (m.words[u] | 0) * 19 + c,
                  w = b & 67108863;
                (b >>>= 26), (m.words[u] = w), (c = b);
              }
              return c !== 0 && (m.words[m.length++] = c), m;
            }),
            (a._prime = function (m) {
              if (Y[m]) return Y[m];
              var c;
              if (m === "k256") c = new G();
              else if (m === "p224") c = new ee();
              else if (m === "p192") c = new ne();
              else if (m === "p25519") c = new de();
              else throw new Error("Unknown prime " + m);
              return (Y[m] = c), c;
            });
          function fe(F) {
            if (typeof F == "string") {
              var m = a._prime(F);
              (this.m = m.p), (this.prime = m);
            } else
              i(F.gtn(1), "modulus must be greater than 1"),
                (this.m = F),
                (this.prime = null);
          }
          (fe.prototype._verify1 = function (m) {
            i(m.negative === 0, "red works only with positives"),
              i(m.red, "red works only with red numbers");
          }),
            (fe.prototype._verify2 = function (m, c) {
              i(
                (m.negative | c.negative) === 0,
                "red works only with positives"
              ),
                i(m.red && m.red === c.red, "red works only with red numbers");
            }),
            (fe.prototype.imod = function (m) {
              return this.prime
                ? this.prime.ireduce(m)._forceRed(this)
                : m.umod(this.m)._forceRed(this);
            }),
            (fe.prototype.neg = function (m) {
              return m.isZero() ? m.clone() : this.m.sub(m)._forceRed(this);
            }),
            (fe.prototype.add = function (m, c) {
              this._verify2(m, c);
              var u = m.add(c);
              return u.cmp(this.m) >= 0 && u.isub(this.m), u._forceRed(this);
            }),
            (fe.prototype.iadd = function (m, c) {
              this._verify2(m, c);
              var u = m.iadd(c);
              return u.cmp(this.m) >= 0 && u.isub(this.m), u;
            }),
            (fe.prototype.sub = function (m, c) {
              this._verify2(m, c);
              var u = m.sub(c);
              return u.cmpn(0) < 0 && u.iadd(this.m), u._forceRed(this);
            }),
            (fe.prototype.isub = function (m, c) {
              this._verify2(m, c);
              var u = m.isub(c);
              return u.cmpn(0) < 0 && u.iadd(this.m), u;
            }),
            (fe.prototype.shl = function (m, c) {
              return this._verify1(m), this.imod(m.ushln(c));
            }),
            (fe.prototype.imul = function (m, c) {
              return this._verify2(m, c), this.imod(m.imul(c));
            }),
            (fe.prototype.mul = function (m, c) {
              return this._verify2(m, c), this.imod(m.mul(c));
            }),
            (fe.prototype.isqr = function (m) {
              return this.imul(m, m.clone());
            }),
            (fe.prototype.sqr = function (m) {
              return this.mul(m, m);
            }),
            (fe.prototype.sqrt = function (m) {
              if (m.isZero()) return m.clone();
              var c = this.m.andln(3);
              if ((i(c % 2 === 1), c === 3)) {
                var u = this.m.add(new a(1)).iushrn(2);
                return this.pow(m, u);
              }
              for (
                var b = this.m.subn(1), w = 0;
                !b.isZero() && b.andln(1) === 0;

              )
                w++, b.iushrn(1);
              i(!b.isZero());
              var I = new a(1).toRed(this),
                S = I.redNeg(),
                E = this.m.subn(1).iushrn(1),
                l = this.m.bitLength();
              for (
                l = new a(2 * l * l).toRed(this);
                this.pow(l, E).cmp(S) !== 0;

              )
                l.redIAdd(S);
              for (
                var p = this.pow(l, b),
                  O = this.pow(m, b.addn(1).iushrn(1)),
                  te = this.pow(m, b),
                  se = w;
                te.cmp(I) !== 0;

              ) {
                for (var M = te, Z = 0; M.cmp(I) !== 0; Z++) M = M.redSqr();
                i(Z < se);
                var B = this.pow(p, new a(1).iushln(se - Z - 1));
                (O = O.redMul(B)),
                  (p = B.redSqr()),
                  (te = te.redMul(p)),
                  (se = Z);
              }
              return O;
            }),
            (fe.prototype.invm = function (m) {
              var c = m._invmp(this.m);
              return c.negative !== 0
                ? ((c.negative = 0), this.imod(c).redNeg())
                : this.imod(c);
            }),
            (fe.prototype.pow = function (m, c) {
              if (c.isZero()) return new a(1).toRed(this);
              if (c.cmpn(1) === 0) return m.clone();
              var u = 4,
                b = new Array(1 << u);
              (b[0] = new a(1).toRed(this)), (b[1] = m);
              for (var w = 2; w < b.length; w++) b[w] = this.mul(b[w - 1], m);
              var I = b[0],
                S = 0,
                E = 0,
                l = c.bitLength() % 26;
              for (l === 0 && (l = 26), w = c.length - 1; w >= 0; w--) {
                for (var p = c.words[w], O = l - 1; O >= 0; O--) {
                  var te = (p >> O) & 1;
                  if ((I !== b[0] && (I = this.sqr(I)), te === 0 && S === 0)) {
                    E = 0;
                    continue;
                  }
                  (S <<= 1),
                    (S |= te),
                    E++,
                    !(E !== u && (w !== 0 || O !== 0)) &&
                      ((I = this.mul(I, b[S])), (E = 0), (S = 0));
                }
                l = 26;
              }
              return I;
            }),
            (fe.prototype.convertTo = function (m) {
              var c = m.umod(this.m);
              return c === m ? c.clone() : c;
            }),
            (fe.prototype.convertFrom = function (m) {
              var c = m.clone();
              return (c.red = null), c;
            }),
            (a.mont = function (m) {
              return new xe(m);
            });
          function xe(F) {
            fe.call(this, F),
              (this.shift = this.m.bitLength()),
              this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
              (this.r = new a(1).iushln(this.shift)),
              (this.r2 = this.imod(this.r.sqr())),
              (this.rinv = this.r._invmp(this.m)),
              (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
              (this.minv = this.minv.umod(this.r)),
              (this.minv = this.r.sub(this.minv));
          }
          s(xe, fe),
            (xe.prototype.convertTo = function (m) {
              return this.imod(m.ushln(this.shift));
            }),
            (xe.prototype.convertFrom = function (m) {
              var c = this.imod(m.mul(this.rinv));
              return (c.red = null), c;
            }),
            (xe.prototype.imul = function (m, c) {
              if (m.isZero() || c.isZero())
                return (m.words[0] = 0), (m.length = 1), m;
              var u = m.imul(c),
                b = u
                  .maskn(this.shift)
                  .mul(this.minv)
                  .imaskn(this.shift)
                  .mul(this.m),
                w = u.isub(b).iushrn(this.shift),
                I = w;
              return (
                w.cmp(this.m) >= 0
                  ? (I = w.isub(this.m))
                  : w.cmpn(0) < 0 && (I = w.iadd(this.m)),
                I._forceRed(this)
              );
            }),
            (xe.prototype.mul = function (m, c) {
              if (m.isZero() || c.isZero()) return new a(0)._forceRed(this);
              var u = m.mul(c),
                b = u
                  .maskn(this.shift)
                  .mul(this.minv)
                  .imaskn(this.shift)
                  .mul(this.m),
                w = u.isub(b).iushrn(this.shift),
                I = w;
              return (
                w.cmp(this.m) >= 0
                  ? (I = w.isub(this.m))
                  : w.cmpn(0) < 0 && (I = w.iadd(this.m)),
                I._forceRed(this)
              );
            }),
            (xe.prototype.invm = function (m) {
              var c = this.imod(m._invmp(this.m).mul(this.r2));
              return c._forceRed(this);
            });
        })(r, Zw);
      })(Fc)),
    Fc.exports
  );
}
var Oh, K0;
function Ns() {
  if (K0) return Oh;
  (K0 = 1), (Oh = r);
  function r(e, t) {
    if (!e) throw new Error(t || "Assertion failed");
  }
  return (
    (r.equal = function (t, i, s) {
      if (t != i) throw new Error(s || "Assertion failed: " + t + " != " + i);
    }),
    Oh
  );
}
var Th = {},
  H0;
function vg() {
  return (
    H0 ||
      ((H0 = 1),
      (function (r) {
        var e = r;
        function t(a, f) {
          if (Array.isArray(a)) return a.slice();
          if (!a) return [];
          var g = [];
          if (typeof a != "string") {
            for (var v = 0; v < a.length; v++) g[v] = a[v] | 0;
            return g;
          }
          if (f === "hex") {
            (a = a.replace(/[^a-z0-9]+/gi, "")),
              a.length % 2 !== 0 && (a = "0" + a);
            for (var v = 0; v < a.length; v += 2)
              g.push(parseInt(a[v] + a[v + 1], 16));
          } else
            for (var v = 0; v < a.length; v++) {
              var h = a.charCodeAt(v),
                y = h >> 8,
                A = h & 255;
              y ? g.push(y, A) : g.push(A);
            }
          return g;
        }
        e.toArray = t;
        function i(a) {
          return a.length === 1 ? "0" + a : a;
        }
        e.zero2 = i;
        function s(a) {
          for (var f = "", g = 0; g < a.length; g++) f += i(a[g].toString(16));
          return f;
        }
        (e.toHex = s),
          (e.encode = function (f, g) {
            return g === "hex" ? s(f) : f;
          });
      })(Th)),
    Th
  );
}
var V0;
function Ri() {
  return (
    V0 ||
      ((V0 = 1),
      (function (r) {
        var e = r,
          t = kn(),
          i = Ns(),
          s = vg();
        (e.assert = i),
          (e.toArray = s.toArray),
          (e.zero2 = s.zero2),
          (e.toHex = s.toHex),
          (e.encode = s.encode);
        function a(y, A, P) {
          var R = new Array(Math.max(y.bitLength(), P) + 1),
            C;
          for (C = 0; C < R.length; C += 1) R[C] = 0;
          var q = 1 << (A + 1),
            L = y.clone();
          for (C = 0; C < R.length; C++) {
            var j,
              H = L.andln(q - 1);
            L.isOdd()
              ? (H > (q >> 1) - 1 ? (j = (q >> 1) - H) : (j = H), L.isubn(j))
              : (j = 0),
              (R[C] = j),
              L.iushrn(1);
          }
          return R;
        }
        e.getNAF = a;
        function f(y, A) {
          var P = [[], []];
          (y = y.clone()), (A = A.clone());
          for (var R = 0, C = 0, q; y.cmpn(-R) > 0 || A.cmpn(-C) > 0; ) {
            var L = (y.andln(3) + R) & 3,
              j = (A.andln(3) + C) & 3;
            L === 3 && (L = -1), j === 3 && (j = -1);
            var H;
            L & 1
              ? ((q = (y.andln(7) + R) & 7),
                (q === 3 || q === 5) && j === 2 ? (H = -L) : (H = L))
              : (H = 0),
              P[0].push(H);
            var Y;
            j & 1
              ? ((q = (A.andln(7) + C) & 7),
                (q === 3 || q === 5) && L === 2 ? (Y = -j) : (Y = j))
              : (Y = 0),
              P[1].push(Y),
              2 * R === H + 1 && (R = 1 - R),
              2 * C === Y + 1 && (C = 1 - C),
              y.iushrn(1),
              A.iushrn(1);
          }
          return P;
        }
        e.getJSF = f;
        function g(y, A, P) {
          var R = "_" + A;
          y.prototype[A] = function () {
            return this[R] !== void 0 ? this[R] : (this[R] = P.call(this));
          };
        }
        e.cachedProperty = g;
        function v(y) {
          return typeof y == "string" ? e.toArray(y, "hex") : y;
        }
        e.parseBytes = v;
        function h(y) {
          return new t(y, "hex", "le");
        }
        e.intFromLE = h;
      })(Nh)),
    Nh
  );
}
var Ec = { exports: {} },
  G0;
function bg() {
  if (G0) return Ec.exports;
  G0 = 1;
  var r;
  Ec.exports = function (s) {
    return r || (r = new e(null)), r.generate(s);
  };
  function e(i) {
    this.rand = i;
  }
  if (
    ((Ec.exports.Rand = e),
    (e.prototype.generate = function (s) {
      return this._rand(s);
    }),
    (e.prototype._rand = function (s) {
      if (this.rand.getBytes) return this.rand.getBytes(s);
      for (var a = new Uint8Array(s), f = 0; f < a.length; f++)
        a[f] = this.rand.getByte();
      return a;
    }),
    typeof self == "object")
  )
    self.crypto && self.crypto.getRandomValues
      ? (e.prototype._rand = function (s) {
          var a = new Uint8Array(s);
          return self.crypto.getRandomValues(a), a;
        })
      : self.msCrypto && self.msCrypto.getRandomValues
      ? (e.prototype._rand = function (s) {
          var a = new Uint8Array(s);
          return self.msCrypto.getRandomValues(a), a;
        })
      : typeof window == "object" &&
        (e.prototype._rand = function () {
          throw new Error("Not implemented yet");
        });
  else
    try {
      var t = eg;
      if (typeof t.randomBytes != "function") throw new Error("Not supported");
      e.prototype._rand = function (s) {
        return t.randomBytes(s);
      };
    } catch {}
  return Ec.exports;
}
var qh = {},
  Dh,
  J0;
function df() {
  if (J0) return Dh;
  J0 = 1;
  var r = kn(),
    e = Ri(),
    t = e.getNAF,
    i = e.getJSF,
    s = e.assert;
  function a(g, v) {
    (this.type = g),
      (this.p = new r(v.p, 16)),
      (this.red = v.prime ? r.red(v.prime) : r.mont(this.p)),
      (this.zero = new r(0).toRed(this.red)),
      (this.one = new r(1).toRed(this.red)),
      (this.two = new r(2).toRed(this.red)),
      (this.n = v.n && new r(v.n, 16)),
      (this.g = v.g && this.pointFromJSON(v.g, v.gRed)),
      (this._wnafT1 = new Array(4)),
      (this._wnafT2 = new Array(4)),
      (this._wnafT3 = new Array(4)),
      (this._wnafT4 = new Array(4)),
      (this._bitLength = this.n ? this.n.bitLength() : 0);
    var h = this.n && this.p.div(this.n);
    !h || h.cmpn(100) > 0
      ? (this.redN = null)
      : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
  }
  (Dh = a),
    (a.prototype.point = function () {
      throw new Error("Not implemented");
    }),
    (a.prototype.validate = function () {
      throw new Error("Not implemented");
    }),
    (a.prototype._fixedNafMul = function (v, h) {
      s(v.precomputed);
      var y = v._getDoubles(),
        A = t(h, 1, this._bitLength),
        P = (1 << (y.step + 1)) - (y.step % 2 === 0 ? 2 : 1);
      P /= 3;
      var R = [],
        C,
        q;
      for (C = 0; C < A.length; C += y.step) {
        q = 0;
        for (var L = C + y.step - 1; L >= C; L--) q = (q << 1) + A[L];
        R.push(q);
      }
      for (
        var j = this.jpoint(null, null, null),
          H = this.jpoint(null, null, null),
          Y = P;
        Y > 0;
        Y--
      ) {
        for (C = 0; C < R.length; C++)
          (q = R[C]),
            q === Y
              ? (H = H.mixedAdd(y.points[C]))
              : q === -Y && (H = H.mixedAdd(y.points[C].neg()));
        j = j.add(H);
      }
      return j.toP();
    }),
    (a.prototype._wnafMul = function (v, h) {
      var y = 4,
        A = v._getNAFPoints(y);
      y = A.wnd;
      for (
        var P = A.points,
          R = t(h, y, this._bitLength),
          C = this.jpoint(null, null, null),
          q = R.length - 1;
        q >= 0;
        q--
      ) {
        for (var L = 0; q >= 0 && R[q] === 0; q--) L++;
        if ((q >= 0 && L++, (C = C.dblp(L)), q < 0)) break;
        var j = R[q];
        s(j !== 0),
          v.type === "affine"
            ? j > 0
              ? (C = C.mixedAdd(P[(j - 1) >> 1]))
              : (C = C.mixedAdd(P[(-j - 1) >> 1].neg()))
            : j > 0
            ? (C = C.add(P[(j - 1) >> 1]))
            : (C = C.add(P[(-j - 1) >> 1].neg()));
      }
      return v.type === "affine" ? C.toP() : C;
    }),
    (a.prototype._wnafMulAdd = function (v, h, y, A, P) {
      var R = this._wnafT1,
        C = this._wnafT2,
        q = this._wnafT3,
        L = 0,
        j,
        H,
        Y;
      for (j = 0; j < A; j++) {
        Y = h[j];
        var Q = Y._getNAFPoints(v);
        (R[j] = Q.wnd), (C[j] = Q.points);
      }
      for (j = A - 1; j >= 1; j -= 2) {
        var G = j - 1,
          ee = j;
        if (R[G] !== 1 || R[ee] !== 1) {
          (q[G] = t(y[G], R[G], this._bitLength)),
            (q[ee] = t(y[ee], R[ee], this._bitLength)),
            (L = Math.max(q[G].length, L)),
            (L = Math.max(q[ee].length, L));
          continue;
        }
        var ne = [h[G], null, null, h[ee]];
        h[G].y.cmp(h[ee].y) === 0
          ? ((ne[1] = h[G].add(h[ee])),
            (ne[2] = h[G].toJ().mixedAdd(h[ee].neg())))
          : h[G].y.cmp(h[ee].y.redNeg()) === 0
          ? ((ne[1] = h[G].toJ().mixedAdd(h[ee])),
            (ne[2] = h[G].add(h[ee].neg())))
          : ((ne[1] = h[G].toJ().mixedAdd(h[ee])),
            (ne[2] = h[G].toJ().mixedAdd(h[ee].neg())));
        var de = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
          fe = i(y[G], y[ee]);
        for (
          L = Math.max(fe[0].length, L),
            q[G] = new Array(L),
            q[ee] = new Array(L),
            H = 0;
          H < L;
          H++
        ) {
          var xe = fe[0][H] | 0,
            F = fe[1][H] | 0;
          (q[G][H] = de[(xe + 1) * 3 + (F + 1)]), (q[ee][H] = 0), (C[G] = ne);
        }
      }
      var m = this.jpoint(null, null, null),
        c = this._wnafT4;
      for (j = L; j >= 0; j--) {
        for (var u = 0; j >= 0; ) {
          var b = !0;
          for (H = 0; H < A; H++) (c[H] = q[H][j] | 0), c[H] !== 0 && (b = !1);
          if (!b) break;
          u++, j--;
        }
        if ((j >= 0 && u++, (m = m.dblp(u)), j < 0)) break;
        for (H = 0; H < A; H++) {
          var w = c[H];
          w !== 0 &&
            (w > 0
              ? (Y = C[H][(w - 1) >> 1])
              : w < 0 && (Y = C[H][(-w - 1) >> 1].neg()),
            Y.type === "affine" ? (m = m.mixedAdd(Y)) : (m = m.add(Y)));
        }
      }
      for (j = 0; j < A; j++) C[j] = null;
      return P ? m : m.toP();
    });
  function f(g, v) {
    (this.curve = g), (this.type = v), (this.precomputed = null);
  }
  return (
    (a.BasePoint = f),
    (f.prototype.eq = function () {
      throw new Error("Not implemented");
    }),
    (f.prototype.validate = function () {
      return this.curve.validate(this);
    }),
    (a.prototype.decodePoint = function (v, h) {
      v = e.toArray(v, h);
      var y = this.p.byteLength();
      if ((v[0] === 4 || v[0] === 6 || v[0] === 7) && v.length - 1 === 2 * y) {
        v[0] === 6
          ? s(v[v.length - 1] % 2 === 0)
          : v[0] === 7 && s(v[v.length - 1] % 2 === 1);
        var A = this.point(v.slice(1, 1 + y), v.slice(1 + y, 1 + 2 * y));
        return A;
      } else if ((v[0] === 2 || v[0] === 3) && v.length - 1 === y)
        return this.pointFromX(v.slice(1, 1 + y), v[0] === 3);
      throw new Error("Unknown point format");
    }),
    (f.prototype.encodeCompressed = function (v) {
      return this.encode(v, !0);
    }),
    (f.prototype._encode = function (v) {
      var h = this.curve.p.byteLength(),
        y = this.getX().toArray("be", h);
      return v
        ? [this.getY().isEven() ? 2 : 3].concat(y)
        : [4].concat(y, this.getY().toArray("be", h));
    }),
    (f.prototype.encode = function (v, h) {
      return e.encode(this._encode(h), v);
    }),
    (f.prototype.precompute = function (v) {
      if (this.precomputed) return this;
      var h = { doubles: null, naf: null, beta: null };
      return (
        (h.naf = this._getNAFPoints(8)),
        (h.doubles = this._getDoubles(4, v)),
        (h.beta = this._getBeta()),
        (this.precomputed = h),
        this
      );
    }),
    (f.prototype._hasDoubles = function (v) {
      if (!this.precomputed) return !1;
      var h = this.precomputed.doubles;
      return h
        ? h.points.length >= Math.ceil((v.bitLength() + 1) / h.step)
        : !1;
    }),
    (f.prototype._getDoubles = function (v, h) {
      if (this.precomputed && this.precomputed.doubles)
        return this.precomputed.doubles;
      for (var y = [this], A = this, P = 0; P < h; P += v) {
        for (var R = 0; R < v; R++) A = A.dbl();
        y.push(A);
      }
      return { step: v, points: y };
    }),
    (f.prototype._getNAFPoints = function (v) {
      if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
      for (
        var h = [this],
          y = (1 << v) - 1,
          A = y === 1 ? null : this.dbl(),
          P = 1;
        P < y;
        P++
      )
        h[P] = h[P - 1].add(A);
      return { wnd: v, points: h };
    }),
    (f.prototype._getBeta = function () {
      return null;
    }),
    (f.prototype.dblp = function (v) {
      for (var h = this, y = 0; y < v; y++) h = h.dbl();
      return h;
    }),
    Dh
  );
}
var Bh, W0;
function e8() {
  if (W0) return Bh;
  W0 = 1;
  var r = Ri(),
    e = kn(),
    t = af(),
    i = df(),
    s = r.assert;
  function a(v) {
    i.call(this, "short", v),
      (this.a = new e(v.a, 16).toRed(this.red)),
      (this.b = new e(v.b, 16).toRed(this.red)),
      (this.tinv = this.two.redInvm()),
      (this.zeroA = this.a.fromRed().cmpn(0) === 0),
      (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
      (this.endo = this._getEndomorphism(v)),
      (this._endoWnafT1 = new Array(4)),
      (this._endoWnafT2 = new Array(4));
  }
  t(a, i),
    (Bh = a),
    (a.prototype._getEndomorphism = function (h) {
      if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
        var y, A;
        if (h.beta) y = new e(h.beta, 16).toRed(this.red);
        else {
          var P = this._getEndoRoots(this.p);
          (y = P[0].cmp(P[1]) < 0 ? P[0] : P[1]), (y = y.toRed(this.red));
        }
        if (h.lambda) A = new e(h.lambda, 16);
        else {
          var R = this._getEndoRoots(this.n);
          this.g.mul(R[0]).x.cmp(this.g.x.redMul(y)) === 0
            ? (A = R[0])
            : ((A = R[1]), s(this.g.mul(A).x.cmp(this.g.x.redMul(y)) === 0));
        }
        var C;
        return (
          h.basis
            ? (C = h.basis.map(function (q) {
                return { a: new e(q.a, 16), b: new e(q.b, 16) };
              }))
            : (C = this._getEndoBasis(A)),
          { beta: y, lambda: A, basis: C }
        );
      }
    }),
    (a.prototype._getEndoRoots = function (h) {
      var y = h === this.p ? this.red : e.mont(h),
        A = new e(2).toRed(y).redInvm(),
        P = A.redNeg(),
        R = new e(3).toRed(y).redNeg().redSqrt().redMul(A),
        C = P.redAdd(R).fromRed(),
        q = P.redSub(R).fromRed();
      return [C, q];
    }),
    (a.prototype._getEndoBasis = function (h) {
      for (
        var y = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
          A = h,
          P = this.n.clone(),
          R = new e(1),
          C = new e(0),
          q = new e(0),
          L = new e(1),
          j,
          H,
          Y,
          Q,
          G,
          ee,
          ne,
          de = 0,
          fe,
          xe;
        A.cmpn(0) !== 0;

      ) {
        var F = P.div(A);
        (fe = P.sub(F.mul(A))), (xe = q.sub(F.mul(R)));
        var m = L.sub(F.mul(C));
        if (!Y && fe.cmp(y) < 0)
          (j = ne.neg()), (H = R), (Y = fe.neg()), (Q = xe);
        else if (Y && ++de === 2) break;
        (ne = fe), (P = A), (A = fe), (q = R), (R = xe), (L = C), (C = m);
      }
      (G = fe.neg()), (ee = xe);
      var c = Y.sqr().add(Q.sqr()),
        u = G.sqr().add(ee.sqr());
      return (
        u.cmp(c) >= 0 && ((G = j), (ee = H)),
        Y.negative && ((Y = Y.neg()), (Q = Q.neg())),
        G.negative && ((G = G.neg()), (ee = ee.neg())),
        [
          { a: Y, b: Q },
          { a: G, b: ee },
        ]
      );
    }),
    (a.prototype._endoSplit = function (h) {
      var y = this.endo.basis,
        A = y[0],
        P = y[1],
        R = P.b.mul(h).divRound(this.n),
        C = A.b.neg().mul(h).divRound(this.n),
        q = R.mul(A.a),
        L = C.mul(P.a),
        j = R.mul(A.b),
        H = C.mul(P.b),
        Y = h.sub(q).sub(L),
        Q = j.add(H).neg();
      return { k1: Y, k2: Q };
    }),
    (a.prototype.pointFromX = function (h, y) {
      (h = new e(h, 16)), h.red || (h = h.toRed(this.red));
      var A = h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),
        P = A.redSqrt();
      if (P.redSqr().redSub(A).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      var R = P.fromRed().isOdd();
      return ((y && !R) || (!y && R)) && (P = P.redNeg()), this.point(h, P);
    }),
    (a.prototype.validate = function (h) {
      if (h.inf) return !0;
      var y = h.x,
        A = h.y,
        P = this.a.redMul(y),
        R = y.redSqr().redMul(y).redIAdd(P).redIAdd(this.b);
      return A.redSqr().redISub(R).cmpn(0) === 0;
    }),
    (a.prototype._endoWnafMulAdd = function (h, y, A) {
      for (
        var P = this._endoWnafT1, R = this._endoWnafT2, C = 0;
        C < h.length;
        C++
      ) {
        var q = this._endoSplit(y[C]),
          L = h[C],
          j = L._getBeta();
        q.k1.negative && (q.k1.ineg(), (L = L.neg(!0))),
          q.k2.negative && (q.k2.ineg(), (j = j.neg(!0))),
          (P[C * 2] = L),
          (P[C * 2 + 1] = j),
          (R[C * 2] = q.k1),
          (R[C * 2 + 1] = q.k2);
      }
      for (var H = this._wnafMulAdd(1, P, R, C * 2, A), Y = 0; Y < C * 2; Y++)
        (P[Y] = null), (R[Y] = null);
      return H;
    });
  function f(v, h, y, A) {
    i.BasePoint.call(this, v, "affine"),
      h === null && y === null
        ? ((this.x = null), (this.y = null), (this.inf = !0))
        : ((this.x = new e(h, 16)),
          (this.y = new e(y, 16)),
          A &&
            (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.y.red || (this.y = this.y.toRed(this.curve.red)),
          (this.inf = !1));
  }
  t(f, i.BasePoint),
    (a.prototype.point = function (h, y, A) {
      return new f(this, h, y, A);
    }),
    (a.prototype.pointFromJSON = function (h, y) {
      return f.fromJSON(this, h, y);
    }),
    (f.prototype._getBeta = function () {
      if (this.curve.endo) {
        var h = this.precomputed;
        if (h && h.beta) return h.beta;
        var y = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
        if (h) {
          var A = this.curve,
            P = function (R) {
              return A.point(R.x.redMul(A.endo.beta), R.y);
            };
          (h.beta = y),
            (y.precomputed = {
              beta: null,
              naf: h.naf && { wnd: h.naf.wnd, points: h.naf.points.map(P) },
              doubles: h.doubles && {
                step: h.doubles.step,
                points: h.doubles.points.map(P),
              },
            });
        }
        return y;
      }
    }),
    (f.prototype.toJSON = function () {
      return this.precomputed
        ? [
            this.x,
            this.y,
            this.precomputed && {
              doubles: this.precomputed.doubles && {
                step: this.precomputed.doubles.step,
                points: this.precomputed.doubles.points.slice(1),
              },
              naf: this.precomputed.naf && {
                wnd: this.precomputed.naf.wnd,
                points: this.precomputed.naf.points.slice(1),
              },
            },
          ]
        : [this.x, this.y];
    }),
    (f.fromJSON = function (h, y, A) {
      typeof y == "string" && (y = JSON.parse(y));
      var P = h.point(y[0], y[1], A);
      if (!y[2]) return P;
      function R(q) {
        return h.point(q[0], q[1], A);
      }
      var C = y[2];
      return (
        (P.precomputed = {
          beta: null,
          doubles: C.doubles && {
            step: C.doubles.step,
            points: [P].concat(C.doubles.points.map(R)),
          },
          naf: C.naf && {
            wnd: C.naf.wnd,
            points: [P].concat(C.naf.points.map(R)),
          },
        }),
        P
      );
    }),
    (f.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " y: " +
            this.y.fromRed().toString(16, 2) +
            ">";
    }),
    (f.prototype.isInfinity = function () {
      return this.inf;
    }),
    (f.prototype.add = function (h) {
      if (this.inf) return h;
      if (h.inf) return this;
      if (this.eq(h)) return this.dbl();
      if (this.neg().eq(h)) return this.curve.point(null, null);
      if (this.x.cmp(h.x) === 0) return this.curve.point(null, null);
      var y = this.y.redSub(h.y);
      y.cmpn(0) !== 0 && (y = y.redMul(this.x.redSub(h.x).redInvm()));
      var A = y.redSqr().redISub(this.x).redISub(h.x),
        P = y.redMul(this.x.redSub(A)).redISub(this.y);
      return this.curve.point(A, P);
    }),
    (f.prototype.dbl = function () {
      if (this.inf) return this;
      var h = this.y.redAdd(this.y);
      if (h.cmpn(0) === 0) return this.curve.point(null, null);
      var y = this.curve.a,
        A = this.x.redSqr(),
        P = h.redInvm(),
        R = A.redAdd(A).redIAdd(A).redIAdd(y).redMul(P),
        C = R.redSqr().redISub(this.x.redAdd(this.x)),
        q = R.redMul(this.x.redSub(C)).redISub(this.y);
      return this.curve.point(C, q);
    }),
    (f.prototype.getX = function () {
      return this.x.fromRed();
    }),
    (f.prototype.getY = function () {
      return this.y.fromRed();
    }),
    (f.prototype.mul = function (h) {
      return (
        (h = new e(h, 16)),
        this.isInfinity()
          ? this
          : this._hasDoubles(h)
          ? this.curve._fixedNafMul(this, h)
          : this.curve.endo
          ? this.curve._endoWnafMulAdd([this], [h])
          : this.curve._wnafMul(this, h)
      );
    }),
    (f.prototype.mulAdd = function (h, y, A) {
      var P = [this, y],
        R = [h, A];
      return this.curve.endo
        ? this.curve._endoWnafMulAdd(P, R)
        : this.curve._wnafMulAdd(1, P, R, 2);
    }),
    (f.prototype.jmulAdd = function (h, y, A) {
      var P = [this, y],
        R = [h, A];
      return this.curve.endo
        ? this.curve._endoWnafMulAdd(P, R, !0)
        : this.curve._wnafMulAdd(1, P, R, 2, !0);
    }),
    (f.prototype.eq = function (h) {
      return (
        this === h ||
        (this.inf === h.inf &&
          (this.inf || (this.x.cmp(h.x) === 0 && this.y.cmp(h.y) === 0)))
      );
    }),
    (f.prototype.neg = function (h) {
      if (this.inf) return this;
      var y = this.curve.point(this.x, this.y.redNeg());
      if (h && this.precomputed) {
        var A = this.precomputed,
          P = function (R) {
            return R.neg();
          };
        y.precomputed = {
          naf: A.naf && { wnd: A.naf.wnd, points: A.naf.points.map(P) },
          doubles: A.doubles && {
            step: A.doubles.step,
            points: A.doubles.points.map(P),
          },
        };
      }
      return y;
    }),
    (f.prototype.toJ = function () {
      if (this.inf) return this.curve.jpoint(null, null, null);
      var h = this.curve.jpoint(this.x, this.y, this.curve.one);
      return h;
    });
  function g(v, h, y, A) {
    i.BasePoint.call(this, v, "jacobian"),
      h === null && y === null && A === null
        ? ((this.x = this.curve.one),
          (this.y = this.curve.one),
          (this.z = new e(0)))
        : ((this.x = new e(h, 16)),
          (this.y = new e(y, 16)),
          (this.z = new e(A, 16))),
      this.x.red || (this.x = this.x.toRed(this.curve.red)),
      this.y.red || (this.y = this.y.toRed(this.curve.red)),
      this.z.red || (this.z = this.z.toRed(this.curve.red)),
      (this.zOne = this.z === this.curve.one);
  }
  return (
    t(g, i.BasePoint),
    (a.prototype.jpoint = function (h, y, A) {
      return new g(this, h, y, A);
    }),
    (g.prototype.toP = function () {
      if (this.isInfinity()) return this.curve.point(null, null);
      var h = this.z.redInvm(),
        y = h.redSqr(),
        A = this.x.redMul(y),
        P = this.y.redMul(y).redMul(h);
      return this.curve.point(A, P);
    }),
    (g.prototype.neg = function () {
      return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
    }),
    (g.prototype.add = function (h) {
      if (this.isInfinity()) return h;
      if (h.isInfinity()) return this;
      var y = h.z.redSqr(),
        A = this.z.redSqr(),
        P = this.x.redMul(y),
        R = h.x.redMul(A),
        C = this.y.redMul(y.redMul(h.z)),
        q = h.y.redMul(A.redMul(this.z)),
        L = P.redSub(R),
        j = C.redSub(q);
      if (L.cmpn(0) === 0)
        return j.cmpn(0) !== 0
          ? this.curve.jpoint(null, null, null)
          : this.dbl();
      var H = L.redSqr(),
        Y = H.redMul(L),
        Q = P.redMul(H),
        G = j.redSqr().redIAdd(Y).redISub(Q).redISub(Q),
        ee = j.redMul(Q.redISub(G)).redISub(C.redMul(Y)),
        ne = this.z.redMul(h.z).redMul(L);
      return this.curve.jpoint(G, ee, ne);
    }),
    (g.prototype.mixedAdd = function (h) {
      if (this.isInfinity()) return h.toJ();
      if (h.isInfinity()) return this;
      var y = this.z.redSqr(),
        A = this.x,
        P = h.x.redMul(y),
        R = this.y,
        C = h.y.redMul(y).redMul(this.z),
        q = A.redSub(P),
        L = R.redSub(C);
      if (q.cmpn(0) === 0)
        return L.cmpn(0) !== 0
          ? this.curve.jpoint(null, null, null)
          : this.dbl();
      var j = q.redSqr(),
        H = j.redMul(q),
        Y = A.redMul(j),
        Q = L.redSqr().redIAdd(H).redISub(Y).redISub(Y),
        G = L.redMul(Y.redISub(Q)).redISub(R.redMul(H)),
        ee = this.z.redMul(q);
      return this.curve.jpoint(Q, G, ee);
    }),
    (g.prototype.dblp = function (h) {
      if (h === 0) return this;
      if (this.isInfinity()) return this;
      if (!h) return this.dbl();
      var y;
      if (this.curve.zeroA || this.curve.threeA) {
        var A = this;
        for (y = 0; y < h; y++) A = A.dbl();
        return A;
      }
      var P = this.curve.a,
        R = this.curve.tinv,
        C = this.x,
        q = this.y,
        L = this.z,
        j = L.redSqr().redSqr(),
        H = q.redAdd(q);
      for (y = 0; y < h; y++) {
        var Y = C.redSqr(),
          Q = H.redSqr(),
          G = Q.redSqr(),
          ee = Y.redAdd(Y).redIAdd(Y).redIAdd(P.redMul(j)),
          ne = C.redMul(Q),
          de = ee.redSqr().redISub(ne.redAdd(ne)),
          fe = ne.redISub(de),
          xe = ee.redMul(fe);
        xe = xe.redIAdd(xe).redISub(G);
        var F = H.redMul(L);
        y + 1 < h && (j = j.redMul(G)), (C = de), (L = F), (H = xe);
      }
      return this.curve.jpoint(C, H.redMul(R), L);
    }),
    (g.prototype.dbl = function () {
      return this.isInfinity()
        ? this
        : this.curve.zeroA
        ? this._zeroDbl()
        : this.curve.threeA
        ? this._threeDbl()
        : this._dbl();
    }),
    (g.prototype._zeroDbl = function () {
      var h, y, A;
      if (this.zOne) {
        var P = this.x.redSqr(),
          R = this.y.redSqr(),
          C = R.redSqr(),
          q = this.x.redAdd(R).redSqr().redISub(P).redISub(C);
        q = q.redIAdd(q);
        var L = P.redAdd(P).redIAdd(P),
          j = L.redSqr().redISub(q).redISub(q),
          H = C.redIAdd(C);
        (H = H.redIAdd(H)),
          (H = H.redIAdd(H)),
          (h = j),
          (y = L.redMul(q.redISub(j)).redISub(H)),
          (A = this.y.redAdd(this.y));
      } else {
        var Y = this.x.redSqr(),
          Q = this.y.redSqr(),
          G = Q.redSqr(),
          ee = this.x.redAdd(Q).redSqr().redISub(Y).redISub(G);
        ee = ee.redIAdd(ee);
        var ne = Y.redAdd(Y).redIAdd(Y),
          de = ne.redSqr(),
          fe = G.redIAdd(G);
        (fe = fe.redIAdd(fe)),
          (fe = fe.redIAdd(fe)),
          (h = de.redISub(ee).redISub(ee)),
          (y = ne.redMul(ee.redISub(h)).redISub(fe)),
          (A = this.y.redMul(this.z)),
          (A = A.redIAdd(A));
      }
      return this.curve.jpoint(h, y, A);
    }),
    (g.prototype._threeDbl = function () {
      var h, y, A;
      if (this.zOne) {
        var P = this.x.redSqr(),
          R = this.y.redSqr(),
          C = R.redSqr(),
          q = this.x.redAdd(R).redSqr().redISub(P).redISub(C);
        q = q.redIAdd(q);
        var L = P.redAdd(P).redIAdd(P).redIAdd(this.curve.a),
          j = L.redSqr().redISub(q).redISub(q);
        h = j;
        var H = C.redIAdd(C);
        (H = H.redIAdd(H)),
          (H = H.redIAdd(H)),
          (y = L.redMul(q.redISub(j)).redISub(H)),
          (A = this.y.redAdd(this.y));
      } else {
        var Y = this.z.redSqr(),
          Q = this.y.redSqr(),
          G = this.x.redMul(Q),
          ee = this.x.redSub(Y).redMul(this.x.redAdd(Y));
        ee = ee.redAdd(ee).redIAdd(ee);
        var ne = G.redIAdd(G);
        ne = ne.redIAdd(ne);
        var de = ne.redAdd(ne);
        (h = ee.redSqr().redISub(de)),
          (A = this.y.redAdd(this.z).redSqr().redISub(Q).redISub(Y));
        var fe = Q.redSqr();
        (fe = fe.redIAdd(fe)),
          (fe = fe.redIAdd(fe)),
          (fe = fe.redIAdd(fe)),
          (y = ee.redMul(ne.redISub(h)).redISub(fe));
      }
      return this.curve.jpoint(h, y, A);
    }),
    (g.prototype._dbl = function () {
      var h = this.curve.a,
        y = this.x,
        A = this.y,
        P = this.z,
        R = P.redSqr().redSqr(),
        C = y.redSqr(),
        q = A.redSqr(),
        L = C.redAdd(C).redIAdd(C).redIAdd(h.redMul(R)),
        j = y.redAdd(y);
      j = j.redIAdd(j);
      var H = j.redMul(q),
        Y = L.redSqr().redISub(H.redAdd(H)),
        Q = H.redISub(Y),
        G = q.redSqr();
      (G = G.redIAdd(G)), (G = G.redIAdd(G)), (G = G.redIAdd(G));
      var ee = L.redMul(Q).redISub(G),
        ne = A.redAdd(A).redMul(P);
      return this.curve.jpoint(Y, ee, ne);
    }),
    (g.prototype.trpl = function () {
      if (!this.curve.zeroA) return this.dbl().add(this);
      var h = this.x.redSqr(),
        y = this.y.redSqr(),
        A = this.z.redSqr(),
        P = y.redSqr(),
        R = h.redAdd(h).redIAdd(h),
        C = R.redSqr(),
        q = this.x.redAdd(y).redSqr().redISub(h).redISub(P);
      (q = q.redIAdd(q)), (q = q.redAdd(q).redIAdd(q)), (q = q.redISub(C));
      var L = q.redSqr(),
        j = P.redIAdd(P);
      (j = j.redIAdd(j)), (j = j.redIAdd(j)), (j = j.redIAdd(j));
      var H = R.redIAdd(q).redSqr().redISub(C).redISub(L).redISub(j),
        Y = y.redMul(H);
      (Y = Y.redIAdd(Y)), (Y = Y.redIAdd(Y));
      var Q = this.x.redMul(L).redISub(Y);
      (Q = Q.redIAdd(Q)), (Q = Q.redIAdd(Q));
      var G = this.y.redMul(H.redMul(j.redISub(H)).redISub(q.redMul(L)));
      (G = G.redIAdd(G)), (G = G.redIAdd(G)), (G = G.redIAdd(G));
      var ee = this.z.redAdd(q).redSqr().redISub(A).redISub(L);
      return this.curve.jpoint(Q, G, ee);
    }),
    (g.prototype.mul = function (h, y) {
      return (h = new e(h, y)), this.curve._wnafMul(this, h);
    }),
    (g.prototype.eq = function (h) {
      if (h.type === "affine") return this.eq(h.toJ());
      if (this === h) return !0;
      var y = this.z.redSqr(),
        A = h.z.redSqr();
      if (this.x.redMul(A).redISub(h.x.redMul(y)).cmpn(0) !== 0) return !1;
      var P = y.redMul(this.z),
        R = A.redMul(h.z);
      return this.y.redMul(R).redISub(h.y.redMul(P)).cmpn(0) === 0;
    }),
    (g.prototype.eqXToP = function (h) {
      var y = this.z.redSqr(),
        A = h.toRed(this.curve.red).redMul(y);
      if (this.x.cmp(A) === 0) return !0;
      for (var P = h.clone(), R = this.curve.redN.redMul(y); ; ) {
        if ((P.iadd(this.curve.n), P.cmp(this.curve.p) >= 0)) return !1;
        if ((A.redIAdd(R), this.x.cmp(A) === 0)) return !0;
      }
    }),
    (g.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC JPoint Infinity>"
        : "<EC JPoint x: " +
            this.x.toString(16, 2) +
            " y: " +
            this.y.toString(16, 2) +
            " z: " +
            this.z.toString(16, 2) +
            ">";
    }),
    (g.prototype.isInfinity = function () {
      return this.z.cmpn(0) === 0;
    }),
    Bh
  );
}
var Fh, Q0;
function t8() {
  if (Q0) return Fh;
  Q0 = 1;
  var r = kn(),
    e = af(),
    t = df(),
    i = Ri();
  function s(f) {
    t.call(this, "mont", f),
      (this.a = new r(f.a, 16).toRed(this.red)),
      (this.b = new r(f.b, 16).toRed(this.red)),
      (this.i4 = new r(4).toRed(this.red).redInvm()),
      (this.two = new r(2).toRed(this.red)),
      (this.a24 = this.i4.redMul(this.a.redAdd(this.two)));
  }
  e(s, t),
    (Fh = s),
    (s.prototype.validate = function (g) {
      var v = g.normalize().x,
        h = v.redSqr(),
        y = h.redMul(v).redAdd(h.redMul(this.a)).redAdd(v),
        A = y.redSqrt();
      return A.redSqr().cmp(y) === 0;
    });
  function a(f, g, v) {
    t.BasePoint.call(this, f, "projective"),
      g === null && v === null
        ? ((this.x = this.curve.one), (this.z = this.curve.zero))
        : ((this.x = new r(g, 16)),
          (this.z = new r(v, 16)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.z.red || (this.z = this.z.toRed(this.curve.red)));
  }
  return (
    e(a, t.BasePoint),
    (s.prototype.decodePoint = function (g, v) {
      return this.point(i.toArray(g, v), 1);
    }),
    (s.prototype.point = function (g, v) {
      return new a(this, g, v);
    }),
    (s.prototype.pointFromJSON = function (g) {
      return a.fromJSON(this, g);
    }),
    (a.prototype.precompute = function () {}),
    (a.prototype._encode = function () {
      return this.getX().toArray("be", this.curve.p.byteLength());
    }),
    (a.fromJSON = function (g, v) {
      return new a(g, v[0], v[1] || g.one);
    }),
    (a.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " z: " +
            this.z.fromRed().toString(16, 2) +
            ">";
    }),
    (a.prototype.isInfinity = function () {
      return this.z.cmpn(0) === 0;
    }),
    (a.prototype.dbl = function () {
      var g = this.x.redAdd(this.z),
        v = g.redSqr(),
        h = this.x.redSub(this.z),
        y = h.redSqr(),
        A = v.redSub(y),
        P = v.redMul(y),
        R = A.redMul(y.redAdd(this.curve.a24.redMul(A)));
      return this.curve.point(P, R);
    }),
    (a.prototype.add = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.diffAdd = function (g, v) {
      var h = this.x.redAdd(this.z),
        y = this.x.redSub(this.z),
        A = g.x.redAdd(g.z),
        P = g.x.redSub(g.z),
        R = P.redMul(h),
        C = A.redMul(y),
        q = v.z.redMul(R.redAdd(C).redSqr()),
        L = v.x.redMul(R.redISub(C).redSqr());
      return this.curve.point(q, L);
    }),
    (a.prototype.mul = function (g) {
      for (
        var v = g.clone(),
          h = this,
          y = this.curve.point(null, null),
          A = this,
          P = [];
        v.cmpn(0) !== 0;
        v.iushrn(1)
      )
        P.push(v.andln(1));
      for (var R = P.length - 1; R >= 0; R--)
        P[R] === 0
          ? ((h = h.diffAdd(y, A)), (y = y.dbl()))
          : ((y = h.diffAdd(y, A)), (h = h.dbl()));
      return y;
    }),
    (a.prototype.mulAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.jumlAdd = function () {
      throw new Error("Not supported on Montgomery curve");
    }),
    (a.prototype.eq = function (g) {
      return this.getX().cmp(g.getX()) === 0;
    }),
    (a.prototype.normalize = function () {
      return (
        (this.x = this.x.redMul(this.z.redInvm())),
        (this.z = this.curve.one),
        this
      );
    }),
    (a.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    }),
    Fh
  );
}
var Lh, Y0;
function r8() {
  if (Y0) return Lh;
  Y0 = 1;
  var r = Ri(),
    e = kn(),
    t = af(),
    i = df(),
    s = r.assert;
  function a(g) {
    (this.twisted = (g.a | 0) !== 1),
      (this.mOneA = this.twisted && (g.a | 0) === -1),
      (this.extended = this.mOneA),
      i.call(this, "edwards", g),
      (this.a = new e(g.a, 16).umod(this.red.m)),
      (this.a = this.a.toRed(this.red)),
      (this.c = new e(g.c, 16).toRed(this.red)),
      (this.c2 = this.c.redSqr()),
      (this.d = new e(g.d, 16).toRed(this.red)),
      (this.dd = this.d.redAdd(this.d)),
      s(!this.twisted || this.c.fromRed().cmpn(1) === 0),
      (this.oneC = (g.c | 0) === 1);
  }
  t(a, i),
    (Lh = a),
    (a.prototype._mulA = function (v) {
      return this.mOneA ? v.redNeg() : this.a.redMul(v);
    }),
    (a.prototype._mulC = function (v) {
      return this.oneC ? v : this.c.redMul(v);
    }),
    (a.prototype.jpoint = function (v, h, y, A) {
      return this.point(v, h, y, A);
    }),
    (a.prototype.pointFromX = function (v, h) {
      (v = new e(v, 16)), v.red || (v = v.toRed(this.red));
      var y = v.redSqr(),
        A = this.c2.redSub(this.a.redMul(y)),
        P = this.one.redSub(this.c2.redMul(this.d).redMul(y)),
        R = A.redMul(P.redInvm()),
        C = R.redSqrt();
      if (C.redSqr().redSub(R).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      var q = C.fromRed().isOdd();
      return ((h && !q) || (!h && q)) && (C = C.redNeg()), this.point(v, C);
    }),
    (a.prototype.pointFromY = function (v, h) {
      (v = new e(v, 16)), v.red || (v = v.toRed(this.red));
      var y = v.redSqr(),
        A = y.redSub(this.c2),
        P = y.redMul(this.d).redMul(this.c2).redSub(this.a),
        R = A.redMul(P.redInvm());
      if (R.cmp(this.zero) === 0) {
        if (h) throw new Error("invalid point");
        return this.point(this.zero, v);
      }
      var C = R.redSqrt();
      if (C.redSqr().redSub(R).cmp(this.zero) !== 0)
        throw new Error("invalid point");
      return C.fromRed().isOdd() !== h && (C = C.redNeg()), this.point(C, v);
    }),
    (a.prototype.validate = function (v) {
      if (v.isInfinity()) return !0;
      v.normalize();
      var h = v.x.redSqr(),
        y = v.y.redSqr(),
        A = h.redMul(this.a).redAdd(y),
        P = this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(y)));
      return A.cmp(P) === 0;
    });
  function f(g, v, h, y, A) {
    i.BasePoint.call(this, g, "projective"),
      v === null && h === null && y === null
        ? ((this.x = this.curve.zero),
          (this.y = this.curve.one),
          (this.z = this.curve.one),
          (this.t = this.curve.zero),
          (this.zOne = !0))
        : ((this.x = new e(v, 16)),
          (this.y = new e(h, 16)),
          (this.z = y ? new e(y, 16) : this.curve.one),
          (this.t = A && new e(A, 16)),
          this.x.red || (this.x = this.x.toRed(this.curve.red)),
          this.y.red || (this.y = this.y.toRed(this.curve.red)),
          this.z.red || (this.z = this.z.toRed(this.curve.red)),
          this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)),
          (this.zOne = this.z === this.curve.one),
          this.curve.extended &&
            !this.t &&
            ((this.t = this.x.redMul(this.y)),
            this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));
  }
  return (
    t(f, i.BasePoint),
    (a.prototype.pointFromJSON = function (v) {
      return f.fromJSON(this, v);
    }),
    (a.prototype.point = function (v, h, y, A) {
      return new f(this, v, h, y, A);
    }),
    (f.fromJSON = function (v, h) {
      return new f(v, h[0], h[1], h[2]);
    }),
    (f.prototype.inspect = function () {
      return this.isInfinity()
        ? "<EC Point Infinity>"
        : "<EC Point x: " +
            this.x.fromRed().toString(16, 2) +
            " y: " +
            this.y.fromRed().toString(16, 2) +
            " z: " +
            this.z.fromRed().toString(16, 2) +
            ">";
    }),
    (f.prototype.isInfinity = function () {
      return (
        this.x.cmpn(0) === 0 &&
        (this.y.cmp(this.z) === 0 ||
          (this.zOne && this.y.cmp(this.curve.c) === 0))
      );
    }),
    (f.prototype._extDbl = function () {
      var v = this.x.redSqr(),
        h = this.y.redSqr(),
        y = this.z.redSqr();
      y = y.redIAdd(y);
      var A = this.curve._mulA(v),
        P = this.x.redAdd(this.y).redSqr().redISub(v).redISub(h),
        R = A.redAdd(h),
        C = R.redSub(y),
        q = A.redSub(h),
        L = P.redMul(C),
        j = R.redMul(q),
        H = P.redMul(q),
        Y = C.redMul(R);
      return this.curve.point(L, j, Y, H);
    }),
    (f.prototype._projDbl = function () {
      var v = this.x.redAdd(this.y).redSqr(),
        h = this.x.redSqr(),
        y = this.y.redSqr(),
        A,
        P,
        R,
        C,
        q,
        L;
      if (this.curve.twisted) {
        C = this.curve._mulA(h);
        var j = C.redAdd(y);
        this.zOne
          ? ((A = v.redSub(h).redSub(y).redMul(j.redSub(this.curve.two))),
            (P = j.redMul(C.redSub(y))),
            (R = j.redSqr().redSub(j).redSub(j)))
          : ((q = this.z.redSqr()),
            (L = j.redSub(q).redISub(q)),
            (A = v.redSub(h).redISub(y).redMul(L)),
            (P = j.redMul(C.redSub(y))),
            (R = j.redMul(L)));
      } else
        (C = h.redAdd(y)),
          (q = this.curve._mulC(this.z).redSqr()),
          (L = C.redSub(q).redSub(q)),
          (A = this.curve._mulC(v.redISub(C)).redMul(L)),
          (P = this.curve._mulC(C).redMul(h.redISub(y))),
          (R = C.redMul(L));
      return this.curve.point(A, P, R);
    }),
    (f.prototype.dbl = function () {
      return this.isInfinity()
        ? this
        : this.curve.extended
        ? this._extDbl()
        : this._projDbl();
    }),
    (f.prototype._extAdd = function (v) {
      var h = this.y.redSub(this.x).redMul(v.y.redSub(v.x)),
        y = this.y.redAdd(this.x).redMul(v.y.redAdd(v.x)),
        A = this.t.redMul(this.curve.dd).redMul(v.t),
        P = this.z.redMul(v.z.redAdd(v.z)),
        R = y.redSub(h),
        C = P.redSub(A),
        q = P.redAdd(A),
        L = y.redAdd(h),
        j = R.redMul(C),
        H = q.redMul(L),
        Y = R.redMul(L),
        Q = C.redMul(q);
      return this.curve.point(j, H, Q, Y);
    }),
    (f.prototype._projAdd = function (v) {
      var h = this.z.redMul(v.z),
        y = h.redSqr(),
        A = this.x.redMul(v.x),
        P = this.y.redMul(v.y),
        R = this.curve.d.redMul(A).redMul(P),
        C = y.redSub(R),
        q = y.redAdd(R),
        L = this.x.redAdd(this.y).redMul(v.x.redAdd(v.y)).redISub(A).redISub(P),
        j = h.redMul(C).redMul(L),
        H,
        Y;
      return (
        this.curve.twisted
          ? ((H = h.redMul(q).redMul(P.redSub(this.curve._mulA(A)))),
            (Y = C.redMul(q)))
          : ((H = h.redMul(q).redMul(P.redSub(A))),
            (Y = this.curve._mulC(C).redMul(q))),
        this.curve.point(j, H, Y)
      );
    }),
    (f.prototype.add = function (v) {
      return this.isInfinity()
        ? v
        : v.isInfinity()
        ? this
        : this.curve.extended
        ? this._extAdd(v)
        : this._projAdd(v);
    }),
    (f.prototype.mul = function (v) {
      return this._hasDoubles(v)
        ? this.curve._fixedNafMul(this, v)
        : this.curve._wnafMul(this, v);
    }),
    (f.prototype.mulAdd = function (v, h, y) {
      return this.curve._wnafMulAdd(1, [this, h], [v, y], 2, !1);
    }),
    (f.prototype.jmulAdd = function (v, h, y) {
      return this.curve._wnafMulAdd(1, [this, h], [v, y], 2, !0);
    }),
    (f.prototype.normalize = function () {
      if (this.zOne) return this;
      var v = this.z.redInvm();
      return (
        (this.x = this.x.redMul(v)),
        (this.y = this.y.redMul(v)),
        this.t && (this.t = this.t.redMul(v)),
        (this.z = this.curve.one),
        (this.zOne = !0),
        this
      );
    }),
    (f.prototype.neg = function () {
      return this.curve.point(
        this.x.redNeg(),
        this.y,
        this.z,
        this.t && this.t.redNeg()
      );
    }),
    (f.prototype.getX = function () {
      return this.normalize(), this.x.fromRed();
    }),
    (f.prototype.getY = function () {
      return this.normalize(), this.y.fromRed();
    }),
    (f.prototype.eq = function (v) {
      return (
        this === v ||
        (this.getX().cmp(v.getX()) === 0 && this.getY().cmp(v.getY()) === 0)
      );
    }),
    (f.prototype.eqXToP = function (v) {
      var h = v.toRed(this.curve.red).redMul(this.z);
      if (this.x.cmp(h) === 0) return !0;
      for (var y = v.clone(), A = this.curve.redN.redMul(this.z); ; ) {
        if ((y.iadd(this.curve.n), y.cmp(this.curve.p) >= 0)) return !1;
        if ((h.redIAdd(A), this.x.cmp(h) === 0)) return !0;
      }
    }),
    (f.prototype.toP = f.prototype.normalize),
    (f.prototype.mixedAdd = f.prototype.add),
    Lh
  );
}
var X0;
function mg() {
  return (
    X0 ||
      ((X0 = 1),
      (function (r) {
        var e = r;
        (e.base = df()), (e.short = e8()), (e.mont = t8()), (e.edwards = r8());
      })(qh)),
    qh
  );
}
var kh = {},
  zh = {},
  kt = {},
  Z0;
function yn() {
  if (Z0) return kt;
  Z0 = 1;
  var r = Ns(),
    e = af();
  kt.inherits = e;
  function t(m, c) {
    return (m.charCodeAt(c) & 64512) !== 55296 || c < 0 || c + 1 >= m.length
      ? !1
      : (m.charCodeAt(c + 1) & 64512) === 56320;
  }
  function i(m, c) {
    if (Array.isArray(m)) return m.slice();
    if (!m) return [];
    var u = [];
    if (typeof m == "string")
      if (c) {
        if (c === "hex")
          for (
            m = m.replace(/[^a-z0-9]+/gi, ""),
              m.length % 2 !== 0 && (m = "0" + m),
              w = 0;
            w < m.length;
            w += 2
          )
            u.push(parseInt(m[w] + m[w + 1], 16));
      } else
        for (var b = 0, w = 0; w < m.length; w++) {
          var I = m.charCodeAt(w);
          I < 128
            ? (u[b++] = I)
            : I < 2048
            ? ((u[b++] = (I >> 6) | 192), (u[b++] = (I & 63) | 128))
            : t(m, w)
            ? ((I = 65536 + ((I & 1023) << 10) + (m.charCodeAt(++w) & 1023)),
              (u[b++] = (I >> 18) | 240),
              (u[b++] = ((I >> 12) & 63) | 128),
              (u[b++] = ((I >> 6) & 63) | 128),
              (u[b++] = (I & 63) | 128))
            : ((u[b++] = (I >> 12) | 224),
              (u[b++] = ((I >> 6) & 63) | 128),
              (u[b++] = (I & 63) | 128));
        }
    else for (w = 0; w < m.length; w++) u[w] = m[w] | 0;
    return u;
  }
  kt.toArray = i;
  function s(m) {
    for (var c = "", u = 0; u < m.length; u++) c += g(m[u].toString(16));
    return c;
  }
  kt.toHex = s;
  function a(m) {
    var c =
      (m >>> 24) |
      ((m >>> 8) & 65280) |
      ((m << 8) & 16711680) |
      ((m & 255) << 24);
    return c >>> 0;
  }
  kt.htonl = a;
  function f(m, c) {
    for (var u = "", b = 0; b < m.length; b++) {
      var w = m[b];
      c === "little" && (w = a(w)), (u += v(w.toString(16)));
    }
    return u;
  }
  kt.toHex32 = f;
  function g(m) {
    return m.length === 1 ? "0" + m : m;
  }
  kt.zero2 = g;
  function v(m) {
    return m.length === 7
      ? "0" + m
      : m.length === 6
      ? "00" + m
      : m.length === 5
      ? "000" + m
      : m.length === 4
      ? "0000" + m
      : m.length === 3
      ? "00000" + m
      : m.length === 2
      ? "000000" + m
      : m.length === 1
      ? "0000000" + m
      : m;
  }
  kt.zero8 = v;
  function h(m, c, u, b) {
    var w = u - c;
    r(w % 4 === 0);
    for (var I = new Array(w / 4), S = 0, E = c; S < I.length; S++, E += 4) {
      var l;
      b === "big"
        ? (l = (m[E] << 24) | (m[E + 1] << 16) | (m[E + 2] << 8) | m[E + 3])
        : (l = (m[E + 3] << 24) | (m[E + 2] << 16) | (m[E + 1] << 8) | m[E]),
        (I[S] = l >>> 0);
    }
    return I;
  }
  kt.join32 = h;
  function y(m, c) {
    for (
      var u = new Array(m.length * 4), b = 0, w = 0;
      b < m.length;
      b++, w += 4
    ) {
      var I = m[b];
      c === "big"
        ? ((u[w] = I >>> 24),
          (u[w + 1] = (I >>> 16) & 255),
          (u[w + 2] = (I >>> 8) & 255),
          (u[w + 3] = I & 255))
        : ((u[w + 3] = I >>> 24),
          (u[w + 2] = (I >>> 16) & 255),
          (u[w + 1] = (I >>> 8) & 255),
          (u[w] = I & 255));
    }
    return u;
  }
  kt.split32 = y;
  function A(m, c) {
    return (m >>> c) | (m << (32 - c));
  }
  kt.rotr32 = A;
  function P(m, c) {
    return (m << c) | (m >>> (32 - c));
  }
  kt.rotl32 = P;
  function R(m, c) {
    return (m + c) >>> 0;
  }
  kt.sum32 = R;
  function C(m, c, u) {
    return (m + c + u) >>> 0;
  }
  kt.sum32_3 = C;
  function q(m, c, u, b) {
    return (m + c + u + b) >>> 0;
  }
  kt.sum32_4 = q;
  function L(m, c, u, b, w) {
    return (m + c + u + b + w) >>> 0;
  }
  kt.sum32_5 = L;
  function j(m, c, u, b) {
    var w = m[c],
      I = m[c + 1],
      S = (b + I) >>> 0,
      E = (S < b ? 1 : 0) + u + w;
    (m[c] = E >>> 0), (m[c + 1] = S);
  }
  kt.sum64 = j;
  function H(m, c, u, b) {
    var w = (c + b) >>> 0,
      I = (w < c ? 1 : 0) + m + u;
    return I >>> 0;
  }
  kt.sum64_hi = H;
  function Y(m, c, u, b) {
    var w = c + b;
    return w >>> 0;
  }
  kt.sum64_lo = Y;
  function Q(m, c, u, b, w, I, S, E) {
    var l = 0,
      p = c;
    (p = (p + b) >>> 0),
      (l += p < c ? 1 : 0),
      (p = (p + I) >>> 0),
      (l += p < I ? 1 : 0),
      (p = (p + E) >>> 0),
      (l += p < E ? 1 : 0);
    var O = m + u + w + S + l;
    return O >>> 0;
  }
  kt.sum64_4_hi = Q;
  function G(m, c, u, b, w, I, S, E) {
    var l = c + b + I + E;
    return l >>> 0;
  }
  kt.sum64_4_lo = G;
  function ee(m, c, u, b, w, I, S, E, l, p) {
    var O = 0,
      te = c;
    (te = (te + b) >>> 0),
      (O += te < c ? 1 : 0),
      (te = (te + I) >>> 0),
      (O += te < I ? 1 : 0),
      (te = (te + E) >>> 0),
      (O += te < E ? 1 : 0),
      (te = (te + p) >>> 0),
      (O += te < p ? 1 : 0);
    var se = m + u + w + S + l + O;
    return se >>> 0;
  }
  kt.sum64_5_hi = ee;
  function ne(m, c, u, b, w, I, S, E, l, p) {
    var O = c + b + I + E + p;
    return O >>> 0;
  }
  kt.sum64_5_lo = ne;
  function de(m, c, u) {
    var b = (c << (32 - u)) | (m >>> u);
    return b >>> 0;
  }
  kt.rotr64_hi = de;
  function fe(m, c, u) {
    var b = (m << (32 - u)) | (c >>> u);
    return b >>> 0;
  }
  kt.rotr64_lo = fe;
  function xe(m, c, u) {
    return m >>> u;
  }
  kt.shr64_hi = xe;
  function F(m, c, u) {
    var b = (m << (32 - u)) | (c >>> u);
    return b >>> 0;
  }
  return (kt.shr64_lo = F), kt;
}
var $h = {},
  ep;
function uo() {
  if (ep) return $h;
  ep = 1;
  var r = yn(),
    e = Ns();
  function t() {
    (this.pending = null),
      (this.pendingTotal = 0),
      (this.blockSize = this.constructor.blockSize),
      (this.outSize = this.constructor.outSize),
      (this.hmacStrength = this.constructor.hmacStrength),
      (this.padLength = this.constructor.padLength / 8),
      (this.endian = "big"),
      (this._delta8 = this.blockSize / 8),
      (this._delta32 = this.blockSize / 32);
  }
  return (
    ($h.BlockHash = t),
    (t.prototype.update = function (s, a) {
      if (
        ((s = r.toArray(s, a)),
        this.pending
          ? (this.pending = this.pending.concat(s))
          : (this.pending = s),
        (this.pendingTotal += s.length),
        this.pending.length >= this._delta8)
      ) {
        s = this.pending;
        var f = s.length % this._delta8;
        (this.pending = s.slice(s.length - f, s.length)),
          this.pending.length === 0 && (this.pending = null),
          (s = r.join32(s, 0, s.length - f, this.endian));
        for (var g = 0; g < s.length; g += this._delta32)
          this._update(s, g, g + this._delta32);
      }
      return this;
    }),
    (t.prototype.digest = function (s) {
      return (
        this.update(this._pad()), e(this.pending === null), this._digest(s)
      );
    }),
    (t.prototype._pad = function () {
      var s = this.pendingTotal,
        a = this._delta8,
        f = a - ((s + this.padLength) % a),
        g = new Array(f + this.padLength);
      g[0] = 128;
      for (var v = 1; v < f; v++) g[v] = 0;
      if (((s <<= 3), this.endian === "big")) {
        for (var h = 8; h < this.padLength; h++) g[v++] = 0;
        (g[v++] = 0),
          (g[v++] = 0),
          (g[v++] = 0),
          (g[v++] = 0),
          (g[v++] = (s >>> 24) & 255),
          (g[v++] = (s >>> 16) & 255),
          (g[v++] = (s >>> 8) & 255),
          (g[v++] = s & 255);
      } else
        for (
          g[v++] = s & 255,
            g[v++] = (s >>> 8) & 255,
            g[v++] = (s >>> 16) & 255,
            g[v++] = (s >>> 24) & 255,
            g[v++] = 0,
            g[v++] = 0,
            g[v++] = 0,
            g[v++] = 0,
            h = 8;
          h < this.padLength;
          h++
        )
          g[v++] = 0;
      return g;
    }),
    $h
  );
}
var ms = {},
  rn = {},
  tp;
function yg() {
  if (tp) return rn;
  tp = 1;
  var r = yn(),
    e = r.rotr32;
  function t(y, A, P, R) {
    if (y === 0) return i(A, P, R);
    if (y === 1 || y === 3) return a(A, P, R);
    if (y === 2) return s(A, P, R);
  }
  rn.ft_1 = t;
  function i(y, A, P) {
    return (y & A) ^ (~y & P);
  }
  rn.ch32 = i;
  function s(y, A, P) {
    return (y & A) ^ (y & P) ^ (A & P);
  }
  rn.maj32 = s;
  function a(y, A, P) {
    return y ^ A ^ P;
  }
  rn.p32 = a;
  function f(y) {
    return e(y, 2) ^ e(y, 13) ^ e(y, 22);
  }
  rn.s0_256 = f;
  function g(y) {
    return e(y, 6) ^ e(y, 11) ^ e(y, 25);
  }
  rn.s1_256 = g;
  function v(y) {
    return e(y, 7) ^ e(y, 18) ^ (y >>> 3);
  }
  rn.g0_256 = v;
  function h(y) {
    return e(y, 17) ^ e(y, 19) ^ (y >>> 10);
  }
  return (rn.g1_256 = h), rn;
}
var Uh, rp;
function i8() {
  if (rp) return Uh;
  rp = 1;
  var r = yn(),
    e = uo(),
    t = yg(),
    i = r.rotl32,
    s = r.sum32,
    a = r.sum32_5,
    f = t.ft_1,
    g = e.BlockHash,
    v = [1518500249, 1859775393, 2400959708, 3395469782];
  function h() {
    if (!(this instanceof h)) return new h();
    g.call(this),
      (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
      (this.W = new Array(80));
  }
  return (
    r.inherits(h, g),
    (Uh = h),
    (h.blockSize = 512),
    (h.outSize = 160),
    (h.hmacStrength = 80),
    (h.padLength = 64),
    (h.prototype._update = function (A, P) {
      for (var R = this.W, C = 0; C < 16; C++) R[C] = A[P + C];
      for (; C < R.length; C++)
        R[C] = i(R[C - 3] ^ R[C - 8] ^ R[C - 14] ^ R[C - 16], 1);
      var q = this.h[0],
        L = this.h[1],
        j = this.h[2],
        H = this.h[3],
        Y = this.h[4];
      for (C = 0; C < R.length; C++) {
        var Q = ~~(C / 20),
          G = a(i(q, 5), f(Q, L, j, H), Y, R[C], v[Q]);
        (Y = H), (H = j), (j = i(L, 30)), (L = q), (q = G);
      }
      (this.h[0] = s(this.h[0], q)),
        (this.h[1] = s(this.h[1], L)),
        (this.h[2] = s(this.h[2], j)),
        (this.h[3] = s(this.h[3], H)),
        (this.h[4] = s(this.h[4], Y));
    }),
    (h.prototype._digest = function (A) {
      return A === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    }),
    Uh
  );
}
var jh, ip;
function wg() {
  if (ip) return jh;
  ip = 1;
  var r = yn(),
    e = uo(),
    t = yg(),
    i = Ns(),
    s = r.sum32,
    a = r.sum32_4,
    f = r.sum32_5,
    g = t.ch32,
    v = t.maj32,
    h = t.s0_256,
    y = t.s1_256,
    A = t.g0_256,
    P = t.g1_256,
    R = e.BlockHash,
    C = [
      1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
      2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
      1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
      264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
      2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
      113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
      1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
      3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
      430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
      1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
      2428436474, 2756734187, 3204031479, 3329325298,
    ];
  function q() {
    if (!(this instanceof q)) return new q();
    R.call(this),
      (this.h = [
        1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
        528734635, 1541459225,
      ]),
      (this.k = C),
      (this.W = new Array(64));
  }
  return (
    r.inherits(q, R),
    (jh = q),
    (q.blockSize = 512),
    (q.outSize = 256),
    (q.hmacStrength = 192),
    (q.padLength = 64),
    (q.prototype._update = function (j, H) {
      for (var Y = this.W, Q = 0; Q < 16; Q++) Y[Q] = j[H + Q];
      for (; Q < Y.length; Q++)
        Y[Q] = a(P(Y[Q - 2]), Y[Q - 7], A(Y[Q - 15]), Y[Q - 16]);
      var G = this.h[0],
        ee = this.h[1],
        ne = this.h[2],
        de = this.h[3],
        fe = this.h[4],
        xe = this.h[5],
        F = this.h[6],
        m = this.h[7];
      for (i(this.k.length === Y.length), Q = 0; Q < Y.length; Q++) {
        var c = f(m, y(fe), g(fe, xe, F), this.k[Q], Y[Q]),
          u = s(h(G), v(G, ee, ne));
        (m = F),
          (F = xe),
          (xe = fe),
          (fe = s(de, c)),
          (de = ne),
          (ne = ee),
          (ee = G),
          (G = s(c, u));
      }
      (this.h[0] = s(this.h[0], G)),
        (this.h[1] = s(this.h[1], ee)),
        (this.h[2] = s(this.h[2], ne)),
        (this.h[3] = s(this.h[3], de)),
        (this.h[4] = s(this.h[4], fe)),
        (this.h[5] = s(this.h[5], xe)),
        (this.h[6] = s(this.h[6], F)),
        (this.h[7] = s(this.h[7], m));
    }),
    (q.prototype._digest = function (j) {
      return j === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    }),
    jh
  );
}
var Kh, np;
function n8() {
  if (np) return Kh;
  np = 1;
  var r = yn(),
    e = wg();
  function t() {
    if (!(this instanceof t)) return new t();
    e.call(this),
      (this.h = [
        3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
        1694076839, 3204075428,
      ]);
  }
  return (
    r.inherits(t, e),
    (Kh = t),
    (t.blockSize = 512),
    (t.outSize = 224),
    (t.hmacStrength = 192),
    (t.padLength = 64),
    (t.prototype._digest = function (s) {
      return s === "hex"
        ? r.toHex32(this.h.slice(0, 7), "big")
        : r.split32(this.h.slice(0, 7), "big");
    }),
    Kh
  );
}
var Hh, sp;
function _g() {
  if (sp) return Hh;
  sp = 1;
  var r = yn(),
    e = uo(),
    t = Ns(),
    i = r.rotr64_hi,
    s = r.rotr64_lo,
    a = r.shr64_hi,
    f = r.shr64_lo,
    g = r.sum64,
    v = r.sum64_hi,
    h = r.sum64_lo,
    y = r.sum64_4_hi,
    A = r.sum64_4_lo,
    P = r.sum64_5_hi,
    R = r.sum64_5_lo,
    C = e.BlockHash,
    q = [
      1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
      3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
      2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
      310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
      1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
      3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
      264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
      1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
      2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
      3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
      113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
      773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
      1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
      2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
      3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
      3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
      430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
      883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
      1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
      2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
      2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
      3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
      3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
      174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
      685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
      1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
      1607167915, 987167468, 1816402316, 1246189591,
    ];
  function L() {
    if (!(this instanceof L)) return new L();
    C.call(this),
      (this.h = [
        1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
        2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
        528734635, 4215389547, 1541459225, 327033209,
      ]),
      (this.k = q),
      (this.W = new Array(160));
  }
  r.inherits(L, C),
    (Hh = L),
    (L.blockSize = 1024),
    (L.outSize = 512),
    (L.hmacStrength = 192),
    (L.padLength = 128),
    (L.prototype._prepareBlock = function (u, b) {
      for (var w = this.W, I = 0; I < 32; I++) w[I] = u[b + I];
      for (; I < w.length; I += 2) {
        var S = F(w[I - 4], w[I - 3]),
          E = m(w[I - 4], w[I - 3]),
          l = w[I - 14],
          p = w[I - 13],
          O = fe(w[I - 30], w[I - 29]),
          te = xe(w[I - 30], w[I - 29]),
          se = w[I - 32],
          M = w[I - 31];
        (w[I] = y(S, E, l, p, O, te, se, M)),
          (w[I + 1] = A(S, E, l, p, O, te, se, M));
      }
    }),
    (L.prototype._update = function (u, b) {
      this._prepareBlock(u, b);
      var w = this.W,
        I = this.h[0],
        S = this.h[1],
        E = this.h[2],
        l = this.h[3],
        p = this.h[4],
        O = this.h[5],
        te = this.h[6],
        se = this.h[7],
        M = this.h[8],
        Z = this.h[9],
        B = this.h[10],
        $ = this.h[11],
        U = this.h[12],
        _ = this.h[13],
        k = this.h[14],
        re = this.h[15];
      t(this.k.length === w.length);
      for (var oe = 0; oe < w.length; oe += 2) {
        var ce = k,
          ge = re,
          ve = ne(M, Z),
          Ee = de(M, Z),
          We = j(M, Z, B, $, U),
          Ie = H(M, Z, B, $, U, _),
          He = this.k[oe],
          Fe = this.k[oe + 1],
          we = w[oe],
          $e = w[oe + 1],
          Ue = P(ce, ge, ve, Ee, We, Ie, He, Fe, we, $e),
          me = R(ce, ge, ve, Ee, We, Ie, He, Fe, we, $e);
        (ce = G(I, S)),
          (ge = ee(I, S)),
          (ve = Y(I, S, E, l, p)),
          (Ee = Q(I, S, E, l, p, O));
        var je = v(ce, ge, ve, Ee),
          De = h(ce, ge, ve, Ee);
        (k = U),
          (re = _),
          (U = B),
          (_ = $),
          (B = M),
          ($ = Z),
          (M = v(te, se, Ue, me)),
          (Z = h(se, se, Ue, me)),
          (te = p),
          (se = O),
          (p = E),
          (O = l),
          (E = I),
          (l = S),
          (I = v(Ue, me, je, De)),
          (S = h(Ue, me, je, De));
      }
      g(this.h, 0, I, S),
        g(this.h, 2, E, l),
        g(this.h, 4, p, O),
        g(this.h, 6, te, se),
        g(this.h, 8, M, Z),
        g(this.h, 10, B, $),
        g(this.h, 12, U, _),
        g(this.h, 14, k, re);
    }),
    (L.prototype._digest = function (u) {
      return u === "hex" ? r.toHex32(this.h, "big") : r.split32(this.h, "big");
    });
  function j(c, u, b, w, I) {
    var S = (c & b) ^ (~c & I);
    return S < 0 && (S += 4294967296), S;
  }
  function H(c, u, b, w, I, S) {
    var E = (u & w) ^ (~u & S);
    return E < 0 && (E += 4294967296), E;
  }
  function Y(c, u, b, w, I) {
    var S = (c & b) ^ (c & I) ^ (b & I);
    return S < 0 && (S += 4294967296), S;
  }
  function Q(c, u, b, w, I, S) {
    var E = (u & w) ^ (u & S) ^ (w & S);
    return E < 0 && (E += 4294967296), E;
  }
  function G(c, u) {
    var b = i(c, u, 28),
      w = i(u, c, 2),
      I = i(u, c, 7),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function ee(c, u) {
    var b = s(c, u, 28),
      w = s(u, c, 2),
      I = s(u, c, 7),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function ne(c, u) {
    var b = i(c, u, 14),
      w = i(c, u, 18),
      I = i(u, c, 9),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function de(c, u) {
    var b = s(c, u, 14),
      w = s(c, u, 18),
      I = s(u, c, 9),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function fe(c, u) {
    var b = i(c, u, 1),
      w = i(c, u, 8),
      I = a(c, u, 7),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function xe(c, u) {
    var b = s(c, u, 1),
      w = s(c, u, 8),
      I = f(c, u, 7),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function F(c, u) {
    var b = i(c, u, 19),
      w = i(u, c, 29),
      I = a(c, u, 6),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  function m(c, u) {
    var b = s(c, u, 19),
      w = s(u, c, 29),
      I = f(c, u, 6),
      S = b ^ w ^ I;
    return S < 0 && (S += 4294967296), S;
  }
  return Hh;
}
var Vh, ap;
function s8() {
  if (ap) return Vh;
  ap = 1;
  var r = yn(),
    e = _g();
  function t() {
    if (!(this instanceof t)) return new t();
    e.call(this),
      (this.h = [
        3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
        355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
        3675008525, 1694076839, 1203062813, 3204075428,
      ]);
  }
  return (
    r.inherits(t, e),
    (Vh = t),
    (t.blockSize = 1024),
    (t.outSize = 384),
    (t.hmacStrength = 192),
    (t.padLength = 128),
    (t.prototype._digest = function (s) {
      return s === "hex"
        ? r.toHex32(this.h.slice(0, 12), "big")
        : r.split32(this.h.slice(0, 12), "big");
    }),
    Vh
  );
}
var op;
function a8() {
  return (
    op ||
      ((op = 1),
      (ms.sha1 = i8()),
      (ms.sha224 = n8()),
      (ms.sha256 = wg()),
      (ms.sha384 = s8()),
      (ms.sha512 = _g())),
    ms
  );
}
var Gh = {},
  cp;
function o8() {
  if (cp) return Gh;
  cp = 1;
  var r = yn(),
    e = uo(),
    t = r.rotl32,
    i = r.sum32,
    s = r.sum32_3,
    a = r.sum32_4,
    f = e.BlockHash;
  function g() {
    if (!(this instanceof g)) return new g();
    f.call(this),
      (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
      (this.endian = "little");
  }
  r.inherits(g, f),
    (Gh.ripemd160 = g),
    (g.blockSize = 512),
    (g.outSize = 160),
    (g.hmacStrength = 192),
    (g.padLength = 64),
    (g.prototype._update = function (L, j) {
      for (
        var H = this.h[0],
          Y = this.h[1],
          Q = this.h[2],
          G = this.h[3],
          ee = this.h[4],
          ne = H,
          de = Y,
          fe = Q,
          xe = G,
          F = ee,
          m = 0;
        m < 80;
        m++
      ) {
        var c = i(t(a(H, v(m, Y, Q, G), L[A[m] + j], h(m)), R[m]), ee);
        (H = ee),
          (ee = G),
          (G = t(Q, 10)),
          (Q = Y),
          (Y = c),
          (c = i(t(a(ne, v(79 - m, de, fe, xe), L[P[m] + j], y(m)), C[m]), F)),
          (ne = F),
          (F = xe),
          (xe = t(fe, 10)),
          (fe = de),
          (de = c);
      }
      (c = s(this.h[1], Q, xe)),
        (this.h[1] = s(this.h[2], G, F)),
        (this.h[2] = s(this.h[3], ee, ne)),
        (this.h[3] = s(this.h[4], H, de)),
        (this.h[4] = s(this.h[0], Y, fe)),
        (this.h[0] = c);
    }),
    (g.prototype._digest = function (L) {
      return L === "hex"
        ? r.toHex32(this.h, "little")
        : r.split32(this.h, "little");
    });
  function v(q, L, j, H) {
    return q <= 15
      ? L ^ j ^ H
      : q <= 31
      ? (L & j) | (~L & H)
      : q <= 47
      ? (L | ~j) ^ H
      : q <= 63
      ? (L & H) | (j & ~H)
      : L ^ (j | ~H);
  }
  function h(q) {
    return q <= 15
      ? 0
      : q <= 31
      ? 1518500249
      : q <= 47
      ? 1859775393
      : q <= 63
      ? 2400959708
      : 2840853838;
  }
  function y(q) {
    return q <= 15
      ? 1352829926
      : q <= 31
      ? 1548603684
      : q <= 47
      ? 1836072691
      : q <= 63
      ? 2053994217
      : 0;
  }
  var A = [
      0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
      15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6,
      13, 11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0,
      5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
    ],
    P = [
      5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13,
      5, 10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2,
      10, 0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12,
      15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
    ],
    R = [
      11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11,
      9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8,
      13, 6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5,
      12, 9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
    ],
    C = [
      8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12,
      8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13,
      5, 14, 13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15,
      8, 8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
    ];
  return Gh;
}
var Jh, fp;
function c8() {
  if (fp) return Jh;
  fp = 1;
  var r = yn(),
    e = Ns();
  function t(i, s, a) {
    if (!(this instanceof t)) return new t(i, s, a);
    (this.Hash = i),
      (this.blockSize = i.blockSize / 8),
      (this.outSize = i.outSize / 8),
      (this.inner = null),
      (this.outer = null),
      this._init(r.toArray(s, a));
  }
  return (
    (Jh = t),
    (t.prototype._init = function (s) {
      s.length > this.blockSize && (s = new this.Hash().update(s).digest()),
        e(s.length <= this.blockSize);
      for (var a = s.length; a < this.blockSize; a++) s.push(0);
      for (a = 0; a < s.length; a++) s[a] ^= 54;
      for (this.inner = new this.Hash().update(s), a = 0; a < s.length; a++)
        s[a] ^= 106;
      this.outer = new this.Hash().update(s);
    }),
    (t.prototype.update = function (s, a) {
      return this.inner.update(s, a), this;
    }),
    (t.prototype.digest = function (s) {
      return this.outer.update(this.inner.digest()), this.outer.digest(s);
    }),
    Jh
  );
}
var hp;
function Wu() {
  return (
    hp ||
      ((hp = 1),
      (function (r) {
        var e = r;
        (e.utils = yn()),
          (e.common = uo()),
          (e.sha = a8()),
          (e.ripemd = o8()),
          (e.hmac = c8()),
          (e.sha1 = e.sha.sha1),
          (e.sha256 = e.sha.sha256),
          (e.sha224 = e.sha.sha224),
          (e.sha384 = e.sha.sha384),
          (e.sha512 = e.sha.sha512),
          (e.ripemd160 = e.ripemd.ripemd160);
      })(zh)),
    zh
  );
}
var Wh, up;
function f8() {
  return (
    up ||
      ((up = 1),
      (Wh = {
        doubles: {
          step: 4,
          points: [
            [
              "e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a",
              "f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821",
            ],
            [
              "8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508",
              "11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf",
            ],
            [
              "175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739",
              "d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695",
            ],
            [
              "363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640",
              "4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9",
            ],
            [
              "8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c",
              "4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36",
            ],
            [
              "723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda",
              "96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f",
            ],
            [
              "eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa",
              "5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999",
            ],
            [
              "100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0",
              "cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09",
            ],
            [
              "e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d",
              "9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d",
            ],
            [
              "feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d",
              "e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088",
            ],
            [
              "da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1",
              "9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d",
            ],
            [
              "53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0",
              "5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8",
            ],
            [
              "8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047",
              "10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a",
            ],
            [
              "385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862",
              "283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453",
            ],
            [
              "6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7",
              "7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160",
            ],
            [
              "3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd",
              "56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0",
            ],
            [
              "85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83",
              "7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6",
            ],
            [
              "948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a",
              "53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589",
            ],
            [
              "6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8",
              "bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17",
            ],
            [
              "e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d",
              "4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda",
            ],
            [
              "e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725",
              "7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd",
            ],
            [
              "213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754",
              "4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2",
            ],
            [
              "4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c",
              "17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6",
            ],
            [
              "fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6",
              "6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f",
            ],
            [
              "76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39",
              "c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01",
            ],
            [
              "c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891",
              "893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3",
            ],
            [
              "d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b",
              "febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f",
            ],
            [
              "b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03",
              "2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7",
            ],
            [
              "e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d",
              "eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78",
            ],
            [
              "a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070",
              "7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1",
            ],
            [
              "90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4",
              "e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150",
            ],
            [
              "8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da",
              "662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82",
            ],
            [
              "e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11",
              "1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc",
            ],
            [
              "8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e",
              "efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b",
            ],
            [
              "e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41",
              "2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51",
            ],
            [
              "b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef",
              "67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45",
            ],
            [
              "d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8",
              "db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120",
            ],
            [
              "324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d",
              "648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84",
            ],
            [
              "4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96",
              "35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d",
            ],
            [
              "9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd",
              "ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d",
            ],
            [
              "6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5",
              "9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8",
            ],
            [
              "a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266",
              "40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8",
            ],
            [
              "7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71",
              "34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac",
            ],
            [
              "928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac",
              "c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f",
            ],
            [
              "85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751",
              "1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962",
            ],
            [
              "ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e",
              "493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907",
            ],
            [
              "827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241",
              "c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec",
            ],
            [
              "eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3",
              "be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d",
            ],
            [
              "e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f",
              "4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414",
            ],
            [
              "1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19",
              "aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd",
            ],
            [
              "146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be",
              "b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0",
            ],
            [
              "fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9",
              "6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811",
            ],
            [
              "da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2",
              "8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1",
            ],
            [
              "a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13",
              "7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c",
            ],
            [
              "174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c",
              "ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73",
            ],
            [
              "959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba",
              "2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd",
            ],
            [
              "d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151",
              "e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405",
            ],
            [
              "64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073",
              "d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589",
            ],
            [
              "8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458",
              "38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e",
            ],
            [
              "13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b",
              "69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27",
            ],
            [
              "bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366",
              "d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1",
            ],
            [
              "8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa",
              "40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482",
            ],
            [
              "8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0",
              "620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945",
            ],
            [
              "dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787",
              "7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573",
            ],
            [
              "f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e",
              "ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82",
            ],
          ],
        },
        naf: {
          wnd: 7,
          points: [
            [
              "f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9",
              "388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672",
            ],
            [
              "2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4",
              "d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6",
            ],
            [
              "5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc",
              "6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da",
            ],
            [
              "acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe",
              "cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37",
            ],
            [
              "774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb",
              "d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b",
            ],
            [
              "f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8",
              "ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81",
            ],
            [
              "d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e",
              "581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58",
            ],
            [
              "defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34",
              "4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77",
            ],
            [
              "2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c",
              "85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a",
            ],
            [
              "352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5",
              "321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c",
            ],
            [
              "2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f",
              "2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67",
            ],
            [
              "9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714",
              "73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402",
            ],
            [
              "daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729",
              "a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55",
            ],
            [
              "c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db",
              "2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482",
            ],
            [
              "6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4",
              "e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82",
            ],
            [
              "1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5",
              "b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396",
            ],
            [
              "605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479",
              "2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49",
            ],
            [
              "62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d",
              "80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf",
            ],
            [
              "80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f",
              "1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a",
            ],
            [
              "7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb",
              "d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7",
            ],
            [
              "d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9",
              "eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933",
            ],
            [
              "49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963",
              "758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a",
            ],
            [
              "77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74",
              "958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6",
            ],
            [
              "f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530",
              "e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37",
            ],
            [
              "463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b",
              "5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e",
            ],
            [
              "f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247",
              "cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6",
            ],
            [
              "caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1",
              "cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476",
            ],
            [
              "2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120",
              "4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40",
            ],
            [
              "7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435",
              "91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61",
            ],
            [
              "754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18",
              "673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683",
            ],
            [
              "e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8",
              "59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5",
            ],
            [
              "186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb",
              "3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b",
            ],
            [
              "df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f",
              "55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417",
            ],
            [
              "5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143",
              "efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868",
            ],
            [
              "290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba",
              "e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a",
            ],
            [
              "af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45",
              "f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6",
            ],
            [
              "766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a",
              "744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996",
            ],
            [
              "59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e",
              "c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e",
            ],
            [
              "f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8",
              "e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d",
            ],
            [
              "7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c",
              "30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2",
            ],
            [
              "948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519",
              "e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e",
            ],
            [
              "7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab",
              "100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437",
            ],
            [
              "3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca",
              "ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311",
            ],
            [
              "d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf",
              "8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4",
            ],
            [
              "1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610",
              "68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575",
            ],
            [
              "733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4",
              "f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d",
            ],
            [
              "15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c",
              "d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d",
            ],
            [
              "a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940",
              "edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629",
            ],
            [
              "e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980",
              "a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06",
            ],
            [
              "311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3",
              "66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374",
            ],
            [
              "34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf",
              "9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee",
            ],
            [
              "f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63",
              "4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1",
            ],
            [
              "d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448",
              "fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b",
            ],
            [
              "32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf",
              "5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661",
            ],
            [
              "7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5",
              "8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6",
            ],
            [
              "ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6",
              "8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e",
            ],
            [
              "16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5",
              "5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d",
            ],
            [
              "eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99",
              "f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc",
            ],
            [
              "78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51",
              "f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4",
            ],
            [
              "494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5",
              "42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c",
            ],
            [
              "a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5",
              "204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b",
            ],
            [
              "c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997",
              "4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913",
            ],
            [
              "841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881",
              "73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154",
            ],
            [
              "5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5",
              "39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865",
            ],
            [
              "36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66",
              "d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc",
            ],
            [
              "336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726",
              "ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224",
            ],
            [
              "8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede",
              "6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e",
            ],
            [
              "1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94",
              "60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6",
            ],
            [
              "85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31",
              "3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511",
            ],
            [
              "29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51",
              "b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b",
            ],
            [
              "a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252",
              "ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2",
            ],
            [
              "4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5",
              "cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c",
            ],
            [
              "d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b",
              "6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3",
            ],
            [
              "ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4",
              "322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d",
            ],
            [
              "af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f",
              "6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700",
            ],
            [
              "e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889",
              "2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4",
            ],
            [
              "591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246",
              "b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196",
            ],
            [
              "11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984",
              "998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4",
            ],
            [
              "3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a",
              "b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257",
            ],
            [
              "cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030",
              "bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13",
            ],
            [
              "c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197",
              "6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096",
            ],
            [
              "c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593",
              "c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38",
            ],
            [
              "a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef",
              "21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f",
            ],
            [
              "347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38",
              "60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448",
            ],
            [
              "da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a",
              "49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a",
            ],
            [
              "c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111",
              "5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4",
            ],
            [
              "4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502",
              "7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437",
            ],
            [
              "3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea",
              "be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7",
            ],
            [
              "cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26",
              "8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d",
            ],
            [
              "b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986",
              "39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a",
            ],
            [
              "d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e",
              "62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54",
            ],
            [
              "48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4",
              "25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77",
            ],
            [
              "dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda",
              "ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517",
            ],
            [
              "6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859",
              "cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10",
            ],
            [
              "e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f",
              "f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125",
            ],
            [
              "eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c",
              "6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e",
            ],
            [
              "13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942",
              "fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1",
            ],
            [
              "ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a",
              "1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2",
            ],
            [
              "b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80",
              "5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423",
            ],
            [
              "ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d",
              "438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8",
            ],
            [
              "8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1",
              "cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758",
            ],
            [
              "52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63",
              "c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375",
            ],
            [
              "e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352",
              "6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d",
            ],
            [
              "7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193",
              "ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec",
            ],
            [
              "5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00",
              "9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0",
            ],
            [
              "32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58",
              "ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c",
            ],
            [
              "e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7",
              "d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4",
            ],
            [
              "8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8",
              "c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f",
            ],
            [
              "4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e",
              "67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649",
            ],
            [
              "3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d",
              "cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826",
            ],
            [
              "674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b",
              "299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5",
            ],
            [
              "d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f",
              "f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87",
            ],
            [
              "30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6",
              "462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b",
            ],
            [
              "be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297",
              "62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc",
            ],
            [
              "93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a",
              "7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c",
            ],
            [
              "b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c",
              "ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f",
            ],
            [
              "d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52",
              "4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a",
            ],
            [
              "d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb",
              "bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46",
            ],
            [
              "463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065",
              "bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f",
            ],
            [
              "7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917",
              "603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03",
            ],
            [
              "74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9",
              "cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08",
            ],
            [
              "30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3",
              "553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8",
            ],
            [
              "9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57",
              "712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373",
            ],
            [
              "176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66",
              "ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3",
            ],
            [
              "75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8",
              "9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8",
            ],
            [
              "809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721",
              "9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1",
            ],
            [
              "1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180",
              "4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9",
            ],
          ],
        },
      })),
    Wh
  );
}
var dp;
function Qu() {
  return (
    dp ||
      ((dp = 1),
      (function (r) {
        var e = r,
          t = Wu(),
          i = mg(),
          s = Ri(),
          a = s.assert;
        function f(h) {
          h.type === "short"
            ? (this.curve = new i.short(h))
            : h.type === "edwards"
            ? (this.curve = new i.edwards(h))
            : (this.curve = new i.mont(h)),
            (this.g = this.curve.g),
            (this.n = this.curve.n),
            (this.hash = h.hash),
            a(this.g.validate(), "Invalid curve"),
            a(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
        }
        e.PresetCurve = f;
        function g(h, y) {
          Object.defineProperty(e, h, {
            configurable: !0,
            enumerable: !0,
            get: function () {
              var A = new f(y);
              return (
                Object.defineProperty(e, h, {
                  configurable: !0,
                  enumerable: !0,
                  value: A,
                }),
                A
              );
            },
          });
        }
        g("p192", {
          type: "short",
          prime: "p192",
          p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
          a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
          b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
          n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
          hash: t.sha256,
          gRed: !1,
          g: [
            "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
            "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
          ],
        }),
          g("p224", {
            type: "short",
            prime: "p224",
            p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
            a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
            b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
            n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
            hash: t.sha256,
            gRed: !1,
            g: [
              "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
              "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
            ],
          }),
          g("p256", {
            type: "short",
            prime: null,
            p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
            a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
            b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
            n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
            hash: t.sha256,
            gRed: !1,
            g: [
              "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
              "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
            ],
          }),
          g("p384", {
            type: "short",
            prime: null,
            p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
            a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
            b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
            n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
            hash: t.sha384,
            gRed: !1,
            g: [
              "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
              "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
            ],
          }),
          g("p521", {
            type: "short",
            prime: null,
            p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
            a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
            b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
            n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
            hash: t.sha512,
            gRed: !1,
            g: [
              "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
              "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
            ],
          }),
          g("curve25519", {
            type: "mont",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "76d06",
            b: "1",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: t.sha256,
            gRed: !1,
            g: ["9"],
          }),
          g("ed25519", {
            type: "edwards",
            prime: "p25519",
            p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
            a: "-1",
            c: "1",
            d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
            n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
            hash: t.sha256,
            gRed: !1,
            g: [
              "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
              "6666666666666666666666666666666666666666666666666666666666666658",
            ],
          });
        var v;
        try {
          v = f8();
        } catch {
          v = void 0;
        }
        g("secp256k1", {
          type: "short",
          prime: "k256",
          p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
          a: "0",
          b: "7",
          n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
          h: "1",
          hash: t.sha256,
          beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
          lambda:
            "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
          basis: [
            {
              a: "3086d221a7d46bcde86c90e49284eb15",
              b: "-e4437ed6010e88286f547fa90abfe4c3",
            },
            {
              a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
              b: "3086d221a7d46bcde86c90e49284eb15",
            },
          ],
          gRed: !1,
          g: [
            "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
            "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
            v,
          ],
        });
      })(kh)),
    kh
  );
}
var Qh, lp;
function h8() {
  if (lp) return Qh;
  lp = 1;
  var r = Wu(),
    e = vg(),
    t = Ns();
  function i(s) {
    if (!(this instanceof i)) return new i(s);
    (this.hash = s.hash),
      (this.predResist = !!s.predResist),
      (this.outLen = this.hash.outSize),
      (this.minEntropy = s.minEntropy || this.hash.hmacStrength),
      (this._reseed = null),
      (this.reseedInterval = null),
      (this.K = null),
      (this.V = null);
    var a = e.toArray(s.entropy, s.entropyEnc || "hex"),
      f = e.toArray(s.nonce, s.nonceEnc || "hex"),
      g = e.toArray(s.pers, s.persEnc || "hex");
    t(
      a.length >= this.minEntropy / 8,
      "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
    ),
      this._init(a, f, g);
  }
  return (
    (Qh = i),
    (i.prototype._init = function (a, f, g) {
      var v = a.concat(f).concat(g);
      (this.K = new Array(this.outLen / 8)),
        (this.V = new Array(this.outLen / 8));
      for (var h = 0; h < this.V.length; h++) (this.K[h] = 0), (this.V[h] = 1);
      this._update(v),
        (this._reseed = 1),
        (this.reseedInterval = 281474976710656);
    }),
    (i.prototype._hmac = function () {
      return new r.hmac(this.hash, this.K);
    }),
    (i.prototype._update = function (a) {
      var f = this._hmac().update(this.V).update([0]);
      a && (f = f.update(a)),
        (this.K = f.digest()),
        (this.V = this._hmac().update(this.V).digest()),
        a &&
          ((this.K = this._hmac()
            .update(this.V)
            .update([1])
            .update(a)
            .digest()),
          (this.V = this._hmac().update(this.V).digest()));
    }),
    (i.prototype.reseed = function (a, f, g, v) {
      typeof f != "string" && ((v = g), (g = f), (f = null)),
        (a = e.toArray(a, f)),
        (g = e.toArray(g, v)),
        t(
          a.length >= this.minEntropy / 8,
          "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
        ),
        this._update(a.concat(g || [])),
        (this._reseed = 1);
    }),
    (i.prototype.generate = function (a, f, g, v) {
      if (this._reseed > this.reseedInterval)
        throw new Error("Reseed is required");
      typeof f != "string" && ((v = g), (g = f), (f = null)),
        g && ((g = e.toArray(g, v || "hex")), this._update(g));
      for (var h = []; h.length < a; )
        (this.V = this._hmac().update(this.V).digest()), (h = h.concat(this.V));
      var y = h.slice(0, a);
      return this._update(g), this._reseed++, e.encode(y, f);
    }),
    Qh
  );
}
var Yh, pp;
function u8() {
  if (pp) return Yh;
  pp = 1;
  var r = kn(),
    e = Ri(),
    t = e.assert;
  function i(s, a) {
    (this.ec = s),
      (this.priv = null),
      (this.pub = null),
      a.priv && this._importPrivate(a.priv, a.privEnc),
      a.pub && this._importPublic(a.pub, a.pubEnc);
  }
  return (
    (Yh = i),
    (i.fromPublic = function (a, f, g) {
      return f instanceof i ? f : new i(a, { pub: f, pubEnc: g });
    }),
    (i.fromPrivate = function (a, f, g) {
      return f instanceof i ? f : new i(a, { priv: f, privEnc: g });
    }),
    (i.prototype.validate = function () {
      var a = this.getPublic();
      return a.isInfinity()
        ? { result: !1, reason: "Invalid public key" }
        : a.validate()
        ? a.mul(this.ec.curve.n).isInfinity()
          ? { result: !0, reason: null }
          : { result: !1, reason: "Public key * N != O" }
        : { result: !1, reason: "Public key is not a point" };
    }),
    (i.prototype.getPublic = function (a, f) {
      return (
        typeof a == "string" && ((f = a), (a = null)),
        this.pub || (this.pub = this.ec.g.mul(this.priv)),
        f ? this.pub.encode(f, a) : this.pub
      );
    }),
    (i.prototype.getPrivate = function (a) {
      return a === "hex" ? this.priv.toString(16, 2) : this.priv;
    }),
    (i.prototype._importPrivate = function (a, f) {
      (this.priv = new r(a, f || 16)),
        (this.priv = this.priv.umod(this.ec.curve.n));
    }),
    (i.prototype._importPublic = function (a, f) {
      if (a.x || a.y) {
        this.ec.curve.type === "mont"
          ? t(a.x, "Need x coordinate")
          : (this.ec.curve.type === "short" ||
              this.ec.curve.type === "edwards") &&
            t(a.x && a.y, "Need both x and y coordinate"),
          (this.pub = this.ec.curve.point(a.x, a.y));
        return;
      }
      this.pub = this.ec.curve.decodePoint(a, f);
    }),
    (i.prototype.derive = function (a) {
      return (
        a.validate() || t(a.validate(), "public point not validated"),
        a.mul(this.priv).getX()
      );
    }),
    (i.prototype.sign = function (a, f, g) {
      return this.ec.sign(a, this, f, g);
    }),
    (i.prototype.verify = function (a, f, g) {
      return this.ec.verify(a, f, this, void 0, g);
    }),
    (i.prototype.inspect = function () {
      return (
        "<Key priv: " +
        (this.priv && this.priv.toString(16, 2)) +
        " pub: " +
        (this.pub && this.pub.inspect()) +
        " >"
      );
    }),
    Yh
  );
}
var Xh, gp;
function d8() {
  if (gp) return Xh;
  gp = 1;
  var r = kn(),
    e = Ri(),
    t = e.assert;
  function i(v, h) {
    if (v instanceof i) return v;
    this._importDER(v, h) ||
      (t(v.r && v.s, "Signature without r or s"),
      (this.r = new r(v.r, 16)),
      (this.s = new r(v.s, 16)),
      v.recoveryParam === void 0
        ? (this.recoveryParam = null)
        : (this.recoveryParam = v.recoveryParam));
  }
  Xh = i;
  function s() {
    this.place = 0;
  }
  function a(v, h) {
    var y = v[h.place++];
    if (!(y & 128)) return y;
    var A = y & 15;
    if (A === 0 || A > 4 || v[h.place] === 0) return !1;
    for (var P = 0, R = 0, C = h.place; R < A; R++, C++)
      (P <<= 8), (P |= v[C]), (P >>>= 0);
    return P <= 127 ? !1 : ((h.place = C), P);
  }
  function f(v) {
    for (var h = 0, y = v.length - 1; !v[h] && !(v[h + 1] & 128) && h < y; )
      h++;
    return h === 0 ? v : v.slice(h);
  }
  i.prototype._importDER = function (h, y) {
    h = e.toArray(h, y);
    var A = new s();
    if (h[A.place++] !== 48) return !1;
    var P = a(h, A);
    if (P === !1 || P + A.place !== h.length || h[A.place++] !== 2) return !1;
    var R = a(h, A);
    if (R === !1 || h[A.place] & 128) return !1;
    var C = h.slice(A.place, R + A.place);
    if (((A.place += R), h[A.place++] !== 2)) return !1;
    var q = a(h, A);
    if (q === !1 || h.length !== q + A.place || h[A.place] & 128) return !1;
    var L = h.slice(A.place, q + A.place);
    if (C[0] === 0)
      if (C[1] & 128) C = C.slice(1);
      else return !1;
    if (L[0] === 0)
      if (L[1] & 128) L = L.slice(1);
      else return !1;
    return (
      (this.r = new r(C)), (this.s = new r(L)), (this.recoveryParam = null), !0
    );
  };
  function g(v, h) {
    if (h < 128) {
      v.push(h);
      return;
    }
    var y = 1 + ((Math.log(h) / Math.LN2) >>> 3);
    for (v.push(y | 128); --y; ) v.push((h >>> (y << 3)) & 255);
    v.push(h);
  }
  return (
    (i.prototype.toDER = function (h) {
      var y = this.r.toArray(),
        A = this.s.toArray();
      for (
        y[0] & 128 && (y = [0].concat(y)),
          A[0] & 128 && (A = [0].concat(A)),
          y = f(y),
          A = f(A);
        !A[0] && !(A[1] & 128);

      )
        A = A.slice(1);
      var P = [2];
      g(P, y.length), (P = P.concat(y)), P.push(2), g(P, A.length);
      var R = P.concat(A),
        C = [48];
      return g(C, R.length), (C = C.concat(R)), e.encode(C, h);
    }),
    Xh
  );
}
var Zh, vp;
function l8() {
  if (vp) return Zh;
  vp = 1;
  var r = kn(),
    e = h8(),
    t = Ri(),
    i = Qu(),
    s = bg(),
    a = t.assert,
    f = u8(),
    g = d8();
  function v(h) {
    if (!(this instanceof v)) return new v(h);
    typeof h == "string" &&
      (a(Object.prototype.hasOwnProperty.call(i, h), "Unknown curve " + h),
      (h = i[h])),
      h instanceof i.PresetCurve && (h = { curve: h }),
      (this.curve = h.curve.curve),
      (this.n = this.curve.n),
      (this.nh = this.n.ushrn(1)),
      (this.g = this.curve.g),
      (this.g = h.curve.g),
      this.g.precompute(h.curve.n.bitLength() + 1),
      (this.hash = h.hash || h.curve.hash);
  }
  return (
    (Zh = v),
    (v.prototype.keyPair = function (y) {
      return new f(this, y);
    }),
    (v.prototype.keyFromPrivate = function (y, A) {
      return f.fromPrivate(this, y, A);
    }),
    (v.prototype.keyFromPublic = function (y, A) {
      return f.fromPublic(this, y, A);
    }),
    (v.prototype.genKeyPair = function (y) {
      y || (y = {});
      for (
        var A = new e({
            hash: this.hash,
            pers: y.pers,
            persEnc: y.persEnc || "utf8",
            entropy: y.entropy || s(this.hash.hmacStrength),
            entropyEnc: (y.entropy && y.entropyEnc) || "utf8",
            nonce: this.n.toArray(),
          }),
          P = this.n.byteLength(),
          R = this.n.sub(new r(2));
        ;

      ) {
        var C = new r(A.generate(P));
        if (!(C.cmp(R) > 0)) return C.iaddn(1), this.keyFromPrivate(C);
      }
    }),
    (v.prototype._truncateToN = function (y, A, P) {
      var R;
      if (r.isBN(y) || typeof y == "number")
        (y = new r(y, 16)), (R = y.byteLength());
      else if (typeof y == "object") (R = y.length), (y = new r(y, 16));
      else {
        var C = y.toString();
        (R = (C.length + 1) >>> 1), (y = new r(C, 16));
      }
      typeof P != "number" && (P = R * 8);
      var q = P - this.n.bitLength();
      return (
        q > 0 && (y = y.ushrn(q)), !A && y.cmp(this.n) >= 0 ? y.sub(this.n) : y
      );
    }),
    (v.prototype.sign = function (y, A, P, R) {
      if (
        (typeof P == "object" && ((R = P), (P = null)),
        R || (R = {}),
        typeof y != "string" && typeof y != "number" && !r.isBN(y))
      ) {
        a(
          typeof y == "object" && y && typeof y.length == "number",
          "Expected message to be an array-like, a hex string, or a BN instance"
        ),
          a(y.length >>> 0 === y.length);
        for (var C = 0; C < y.length; C++) a((y[C] & 255) === y[C]);
      }
      (A = this.keyFromPrivate(A, P)),
        (y = this._truncateToN(y, !1, R.msgBitLength)),
        a(!y.isNeg(), "Can not sign a negative message");
      var q = this.n.byteLength(),
        L = A.getPrivate().toArray("be", q),
        j = y.toArray("be", q);
      a(new r(j).eq(y), "Can not sign message");
      for (
        var H = new e({
            hash: this.hash,
            entropy: L,
            nonce: j,
            pers: R.pers,
            persEnc: R.persEnc || "utf8",
          }),
          Y = this.n.sub(new r(1)),
          Q = 0;
        ;
        Q++
      ) {
        var G = R.k ? R.k(Q) : new r(H.generate(this.n.byteLength()));
        if (
          ((G = this._truncateToN(G, !0)), !(G.cmpn(1) <= 0 || G.cmp(Y) >= 0))
        ) {
          var ee = this.g.mul(G);
          if (!ee.isInfinity()) {
            var ne = ee.getX(),
              de = ne.umod(this.n);
            if (de.cmpn(0) !== 0) {
              var fe = G.invm(this.n).mul(de.mul(A.getPrivate()).iadd(y));
              if (((fe = fe.umod(this.n)), fe.cmpn(0) !== 0)) {
                var xe =
                  (ee.getY().isOdd() ? 1 : 0) | (ne.cmp(de) !== 0 ? 2 : 0);
                return (
                  R.canonical &&
                    fe.cmp(this.nh) > 0 &&
                    ((fe = this.n.sub(fe)), (xe ^= 1)),
                  new g({ r: de, s: fe, recoveryParam: xe })
                );
              }
            }
          }
        }
      }
    }),
    (v.prototype.verify = function (y, A, P, R, C) {
      C || (C = {}),
        (y = this._truncateToN(y, !1, C.msgBitLength)),
        (P = this.keyFromPublic(P, R)),
        (A = new g(A, "hex"));
      var q = A.r,
        L = A.s;
      if (
        q.cmpn(1) < 0 ||
        q.cmp(this.n) >= 0 ||
        L.cmpn(1) < 0 ||
        L.cmp(this.n) >= 0
      )
        return !1;
      var j = L.invm(this.n),
        H = j.mul(y).umod(this.n),
        Y = j.mul(q).umod(this.n),
        Q;
      return this.curve._maxwellTrick
        ? ((Q = this.g.jmulAdd(H, P.getPublic(), Y)),
          Q.isInfinity() ? !1 : Q.eqXToP(q))
        : ((Q = this.g.mulAdd(H, P.getPublic(), Y)),
          Q.isInfinity() ? !1 : Q.getX().umod(this.n).cmp(q) === 0);
    }),
    (v.prototype.recoverPubKey = function (h, y, A, P) {
      a((3 & A) === A, "The recovery param is more than two bits"),
        (y = new g(y, P));
      var R = this.n,
        C = new r(h),
        q = y.r,
        L = y.s,
        j = A & 1,
        H = A >> 1;
      if (q.cmp(this.curve.p.umod(this.curve.n)) >= 0 && H)
        throw new Error("Unable to find sencond key candinate");
      H
        ? (q = this.curve.pointFromX(q.add(this.curve.n), j))
        : (q = this.curve.pointFromX(q, j));
      var Y = y.r.invm(R),
        Q = R.sub(C).mul(Y).umod(R),
        G = L.mul(Y).umod(R);
      return this.g.mulAdd(Q, q, G);
    }),
    (v.prototype.getKeyRecoveryParam = function (h, y, A, P) {
      if (((y = new g(y, P)), y.recoveryParam !== null)) return y.recoveryParam;
      for (var R = 0; R < 4; R++) {
        var C;
        try {
          C = this.recoverPubKey(h, y, R);
        } catch {
          continue;
        }
        if (C.eq(A)) return R;
      }
      throw new Error("Unable to find valid recovery factor");
    }),
    Zh
  );
}
var eu, bp;
function p8() {
  if (bp) return eu;
  bp = 1;
  var r = Ri(),
    e = r.assert,
    t = r.parseBytes,
    i = r.cachedProperty;
  function s(a, f) {
    (this.eddsa = a),
      (this._secret = t(f.secret)),
      a.isPoint(f.pub) ? (this._pub = f.pub) : (this._pubBytes = t(f.pub));
  }
  return (
    (s.fromPublic = function (f, g) {
      return g instanceof s ? g : new s(f, { pub: g });
    }),
    (s.fromSecret = function (f, g) {
      return g instanceof s ? g : new s(f, { secret: g });
    }),
    (s.prototype.secret = function () {
      return this._secret;
    }),
    i(s, "pubBytes", function () {
      return this.eddsa.encodePoint(this.pub());
    }),
    i(s, "pub", function () {
      return this._pubBytes
        ? this.eddsa.decodePoint(this._pubBytes)
        : this.eddsa.g.mul(this.priv());
    }),
    i(s, "privBytes", function () {
      var f = this.eddsa,
        g = this.hash(),
        v = f.encodingLength - 1,
        h = g.slice(0, f.encodingLength);
      return (h[0] &= 248), (h[v] &= 127), (h[v] |= 64), h;
    }),
    i(s, "priv", function () {
      return this.eddsa.decodeInt(this.privBytes());
    }),
    i(s, "hash", function () {
      return this.eddsa.hash().update(this.secret()).digest();
    }),
    i(s, "messagePrefix", function () {
      return this.hash().slice(this.eddsa.encodingLength);
    }),
    (s.prototype.sign = function (f) {
      return (
        e(this._secret, "KeyPair can only verify"), this.eddsa.sign(f, this)
      );
    }),
    (s.prototype.verify = function (f, g) {
      return this.eddsa.verify(f, g, this);
    }),
    (s.prototype.getSecret = function (f) {
      return (
        e(this._secret, "KeyPair is public only"), r.encode(this.secret(), f)
      );
    }),
    (s.prototype.getPublic = function (f) {
      return r.encode(this.pubBytes(), f);
    }),
    (eu = s),
    eu
  );
}
var tu, mp;
function g8() {
  if (mp) return tu;
  mp = 1;
  var r = kn(),
    e = Ri(),
    t = e.assert,
    i = e.cachedProperty,
    s = e.parseBytes;
  function a(f, g) {
    (this.eddsa = f),
      typeof g != "object" && (g = s(g)),
      Array.isArray(g) &&
        (t(g.length === f.encodingLength * 2, "Signature has invalid size"),
        (g = {
          R: g.slice(0, f.encodingLength),
          S: g.slice(f.encodingLength),
        })),
      t(g.R && g.S, "Signature without R or S"),
      f.isPoint(g.R) && (this._R = g.R),
      g.S instanceof r && (this._S = g.S),
      (this._Rencoded = Array.isArray(g.R) ? g.R : g.Rencoded),
      (this._Sencoded = Array.isArray(g.S) ? g.S : g.Sencoded);
  }
  return (
    i(a, "S", function () {
      return this.eddsa.decodeInt(this.Sencoded());
    }),
    i(a, "R", function () {
      return this.eddsa.decodePoint(this.Rencoded());
    }),
    i(a, "Rencoded", function () {
      return this.eddsa.encodePoint(this.R());
    }),
    i(a, "Sencoded", function () {
      return this.eddsa.encodeInt(this.S());
    }),
    (a.prototype.toBytes = function () {
      return this.Rencoded().concat(this.Sencoded());
    }),
    (a.prototype.toHex = function () {
      return e.encode(this.toBytes(), "hex").toUpperCase();
    }),
    (tu = a),
    tu
  );
}
var ru, yp;
function v8() {
  if (yp) return ru;
  yp = 1;
  var r = Wu(),
    e = Qu(),
    t = Ri(),
    i = t.assert,
    s = t.parseBytes,
    a = p8(),
    f = g8();
  function g(v) {
    if (
      (i(v === "ed25519", "only tested with ed25519 so far"),
      !(this instanceof g))
    )
      return new g(v);
    (v = e[v].curve),
      (this.curve = v),
      (this.g = v.g),
      this.g.precompute(v.n.bitLength() + 1),
      (this.pointClass = v.point().constructor),
      (this.encodingLength = Math.ceil(v.n.bitLength() / 8)),
      (this.hash = r.sha512);
  }
  return (
    (ru = g),
    (g.prototype.sign = function (h, y) {
      h = s(h);
      var A = this.keyFromSecret(y),
        P = this.hashInt(A.messagePrefix(), h),
        R = this.g.mul(P),
        C = this.encodePoint(R),
        q = this.hashInt(C, A.pubBytes(), h).mul(A.priv()),
        L = P.add(q).umod(this.curve.n);
      return this.makeSignature({ R, S: L, Rencoded: C });
    }),
    (g.prototype.verify = function (h, y, A) {
      if (
        ((h = s(h)),
        (y = this.makeSignature(y)),
        y.S().gte(y.eddsa.curve.n) || y.S().isNeg())
      )
        return !1;
      var P = this.keyFromPublic(A),
        R = this.hashInt(y.Rencoded(), P.pubBytes(), h),
        C = this.g.mul(y.S()),
        q = y.R().add(P.pub().mul(R));
      return q.eq(C);
    }),
    (g.prototype.hashInt = function () {
      for (var h = this.hash(), y = 0; y < arguments.length; y++)
        h.update(arguments[y]);
      return t.intFromLE(h.digest()).umod(this.curve.n);
    }),
    (g.prototype.keyFromPublic = function (h) {
      return a.fromPublic(this, h);
    }),
    (g.prototype.keyFromSecret = function (h) {
      return a.fromSecret(this, h);
    }),
    (g.prototype.makeSignature = function (h) {
      return h instanceof f ? h : new f(this, h);
    }),
    (g.prototype.encodePoint = function (h) {
      var y = h.getY().toArray("le", this.encodingLength);
      return (y[this.encodingLength - 1] |= h.getX().isOdd() ? 128 : 0), y;
    }),
    (g.prototype.decodePoint = function (h) {
      h = t.parseBytes(h);
      var y = h.length - 1,
        A = h.slice(0, y).concat(h[y] & -129),
        P = (h[y] & 128) !== 0,
        R = t.intFromLE(A);
      return this.curve.pointFromY(R, P);
    }),
    (g.prototype.encodeInt = function (h) {
      return h.toArray("le", this.encodingLength);
    }),
    (g.prototype.decodeInt = function (h) {
      return t.intFromLE(h);
    }),
    (g.prototype.isPoint = function (h) {
      return h instanceof this.pointClass;
    }),
    ru
  );
}
var wp;
function b8() {
  return (
    wp ||
      ((wp = 1),
      (function (r) {
        var e = r;
        (e.version = Xw.version),
          (e.utils = Ri()),
          (e.rand = bg()),
          (e.curve = mg()),
          (e.curves = Qu()),
          (e.ec = l8()),
          (e.eddsa = v8());
      })(Ch)),
    Ch
  );
}
var m8 = b8();
const y8 = {
  waku: {
    publish: "waku_publish",
    batchPublish: "waku_batchPublish",
    subscribe: "waku_subscribe",
    batchSubscribe: "waku_batchSubscribe",
    subscription: "waku_subscription",
    unsubscribe: "waku_unsubscribe",
    batchUnsubscribe: "waku_batchUnsubscribe",
    batchFetchMessages: "waku_batchFetchMessages",
  },
  irn: {
    publish: "irn_publish",
    batchPublish: "irn_batchPublish",
    subscribe: "irn_subscribe",
    batchSubscribe: "irn_batchSubscribe",
    subscription: "irn_subscription",
    unsubscribe: "irn_unsubscribe",
    batchUnsubscribe: "irn_batchUnsubscribe",
    batchFetchMessages: "irn_batchFetchMessages",
  },
  iridium: {
    publish: "iridium_publish",
    batchPublish: "iridium_batchPublish",
    subscribe: "iridium_subscribe",
    batchSubscribe: "iridium_batchSubscribe",
    subscription: "iridium_subscription",
    unsubscribe: "iridium_unsubscribe",
    batchUnsubscribe: "iridium_batchUnsubscribe",
    batchFetchMessages: "iridium_batchFetchMessages",
  },
};
var w8 = {
  VITE_APP_PUBLIC_WALLET_CONNECT_PROJECT_ID: "cc33347b5737ae5618a3cc717773fa5e",
  VITE_APP_ZAI_TOKEN_ADDRESS: "5A97E558168Ef558f770D156699912cDc317DAdA",
  VITE_APP_ZAI_STAKE_ADDRESS: "1e42BE067a043cFa077eC211144066533db79605",
  VITE_APP_MINIMUM_TOKENS_WEI: "10000000000000000000000",
  VITE_APP_ENV_TYPE: "development",
};
const _8 = ":";
function Xa(r) {
  const [e, t] = r.split(_8);
  return { namespace: e, reference: t };
}
function _p(r, e = []) {
  const t = [];
  return (
    Object.keys(r).forEach((i) => {
      if (e.length && !e.includes(i)) return;
      const s = r[i];
      t.push(...s.accounts);
    }),
    t
  );
}
function Ag(r, e) {
  return r.includes(":") ? [r] : e.chains || [];
}
var A8 = Object.defineProperty,
  Ap = Object.getOwnPropertySymbols,
  x8 = Object.prototype.hasOwnProperty,
  E8 = Object.prototype.propertyIsEnumerable,
  xp = (r, e, t) =>
    e in r
      ? A8(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ep = (r, e) => {
    for (var t in e || (e = {})) x8.call(e, t) && xp(r, t, e[t]);
    if (Ap) for (var t of Ap(e)) E8.call(e, t) && xp(r, t, e[t]);
    return r;
  };
const I8 = "ReactNative",
  ci = {
    reactNative: "react-native",
    node: "node",
    browser: "browser",
    unknown: "unknown",
  },
  S8 = "js";
function Qc() {
  return (
    typeof process < "u" &&
    typeof process.versions < "u" &&
    typeof process.versions.node < "u"
  );
}
function ha() {
  return !aa.getDocument() && !!aa.getNavigator() && navigator.product === I8;
}
function lo() {
  return !Qc() && !!aa.getNavigator() && !!aa.getDocument();
}
function po() {
  return ha()
    ? ci.reactNative
    : Qc()
    ? ci.node
    : lo()
    ? ci.browser
    : ci.unknown;
}
function M8() {
  var r;
  try {
    return ha() &&
      typeof global < "u" &&
      typeof (global == null ? void 0 : global.Application) < "u"
      ? (r = global.Application) == null
        ? void 0
        : r.applicationId
      : void 0;
  } catch {
    return;
  }
}
function P8(r, e) {
  let t = Hc.parse(r);
  return (t = Ep(Ep({}, t), e)), (r = Hc.stringify(t)), r;
}
function xg() {
  return (
    D5.getWindowMetadata() || {
      name: "",
      description: "",
      url: "",
      icons: [""],
    }
  );
}
function R8() {
  if (
    po() === ci.reactNative &&
    typeof global < "u" &&
    typeof (global == null ? void 0 : global.Platform) < "u"
  ) {
    const { OS: t, Version: i } = global.Platform;
    return [t, i].join("-");
  }
  const r = H5();
  if (r === null) return "unknown";
  const e = r.os ? r.os.replace(" ", "").toLowerCase() : "unknown";
  return r.type === "browser"
    ? [e, r.name, r.version].join("-")
    : [e, r.version].join("-");
}
function C8() {
  var r;
  const e = po();
  return e === ci.browser
    ? [e, ((r = aa.getLocation()) == null ? void 0 : r.host) || "unknown"].join(
        ":"
      )
    : e;
}
function Eg(r, e, t) {
  const i = R8(),
    s = C8();
  return [[r, e].join("-"), [S8, t].join("-"), i, s].join("/");
}
function N8({
  protocol: r,
  version: e,
  relayUrl: t,
  sdkVersion: i,
  auth: s,
  projectId: a,
  useOnCloseEvent: f,
  bundleId: g,
}) {
  const v = t.split("?"),
    h = Eg(r, e, i),
    y = {
      auth: s,
      ua: h,
      projectId: a,
      useOnCloseEvent: f || void 0,
      origin: g || void 0,
    },
    A = P8(v[1] || "", y);
  return v[0] + "?" + A;
}
function Es(r, e) {
  return r.filter((t) => e.includes(t)).length === r.length;
}
function Ig(r) {
  return Object.fromEntries(r.entries());
}
function Sg(r) {
  return new Map(Object.entries(r));
}
function _s(r = ye.FIVE_MINUTES, e) {
  const t = ye.toMiliseconds(r || ye.FIVE_MINUTES);
  let i, s, a;
  return {
    resolve: (f) => {
      a && i && (clearTimeout(a), i(f));
    },
    reject: (f) => {
      a && s && (clearTimeout(a), s(f));
    },
    done: () =>
      new Promise((f, g) => {
        (a = setTimeout(() => {
          g(new Error(e));
        }, t)),
          (i = f),
          (s = g);
      }),
  };
}
function ia(r, e, t) {
  return new Promise(async (i, s) => {
    const a = setTimeout(() => s(new Error(t)), e);
    try {
      const f = await r;
      i(f);
    } catch (f) {
      s(f);
    }
    clearTimeout(a);
  });
}
function Mg(r, e) {
  if (typeof e == "string" && e.startsWith(`${r}:`)) return e;
  if (r.toLowerCase() === "topic") {
    if (typeof e != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${e}`;
  } else if (r.toLowerCase() === "id") {
    if (typeof e != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${e}`;
  }
  throw new Error(`Unknown expirer target type: ${r}`);
}
function O8(r) {
  return Mg("topic", r);
}
function T8(r) {
  return Mg("id", r);
}
function Pg(r) {
  const [e, t] = r.split(":"),
    i = { id: void 0, topic: void 0 };
  if (e === "topic" && typeof t == "string") i.topic = t;
  else if (e === "id" && Number.isInteger(Number(t))) i.id = Number(t);
  else
    throw new Error(
      `Invalid target, expected id:number or topic:string, got ${e}:${t}`
    );
  return i;
}
function dr(r, e) {
  return ye.fromMiliseconds(Date.now() + ye.toMiliseconds(r));
}
function Xn(r) {
  return Date.now() >= ye.toMiliseconds(r);
}
function Et(r, e) {
  return `${r}${e ? `:${e}` : ""}`;
}
function Lc(r = [], e = []) {
  return [...new Set([...r, ...e])];
}
async function q8({ id: r, topic: e, wcDeepLink: t }) {
  var i;
  try {
    if (!t) return;
    const s = typeof t == "string" ? JSON.parse(t) : t,
      a = s == null ? void 0 : s.href;
    if (typeof a != "string") return;
    const f = D8(a, r, e),
      g = po();
    if (g === ci.browser) {
      if (!((i = aa.getDocument()) != null && i.hasFocus())) {
        console.warn("Document does not have focus, skipping deeplink.");
        return;
      }
      f.startsWith("https://") || f.startsWith("http://")
        ? window.open(f, "_blank", "noreferrer noopener")
        : window.open(f, F8() ? "_blank" : "_self", "noreferrer noopener");
    } else
      g === ci.reactNative &&
        typeof (global == null ? void 0 : global.Linking) < "u" &&
        (await global.Linking.openURL(f));
  } catch (s) {
    console.error(s);
  }
}
function D8(r, e, t) {
  const i = `requestId=${e}&sessionTopic=${t}`;
  r.endsWith("/") && (r = r.slice(0, -1));
  let s = `${r}`;
  if (r.startsWith("https://t.me")) {
    const a = r.includes("?") ? "&startapp=" : "?startapp=";
    s = `${s}${a}${L8(i, !0)}`;
  } else s = `${s}/wc?${i}`;
  return s;
}
async function B8(r, e) {
  let t = "";
  try {
    if (lo() && ((t = localStorage.getItem(e)), t)) return t;
    t = await r.getItem(e);
  } catch (i) {
    console.error(i);
  }
  return t;
}
function Ip(r, e) {
  if (!r.includes(e)) return null;
  const t = r.split(/([&,?,=])/),
    i = t.indexOf(e);
  return t[i + 2];
}
function Sp() {
  return typeof crypto < "u" && crypto != null && crypto.randomUUID
    ? crypto.randomUUID()
    : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu, (r) => {
        const e = (Math.random() * 16) | 0;
        return (r === "x" ? e : (e & 3) | 8).toString(16);
      });
}
function Yu() {
  return typeof process < "u" && w8.IS_VITEST === "true";
}
function F8() {
  return (
    typeof window < "u" &&
    (!!window.TelegramWebviewProxy ||
      !!window.Telegram ||
      !!window.TelegramWebviewProxyProto)
  );
}
function L8(r, e = !1) {
  const t = Buffer.from(r).toString("base64");
  return e ? t.replace(/[=]/g, "") : t;
}
function Rg(r) {
  return Buffer.from(r, "base64").toString("utf-8");
}
var Cg =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
function k8(r) {
  var e = r.default;
  if (typeof e == "function") {
    var t = function () {
      return e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (i) {
      var s = Object.getOwnPropertyDescriptor(r, i);
      Object.defineProperty(
        t,
        i,
        s.get
          ? s
          : {
              enumerable: !0,
              get: function () {
                return r[i];
              },
            }
      );
    }),
    t
  );
}
var Ng = { exports: {} };
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */ (function (r) {
  (function () {
    var e = "input is invalid type",
      t = "finalize already called",
      i = typeof window == "object",
      s = i ? window : {};
    s.JS_SHA3_NO_WINDOW && (i = !1);
    var a = !i && typeof self == "object",
      f =
        !s.JS_SHA3_NO_NODE_JS &&
        typeof process == "object" &&
        process.versions &&
        process.versions.node;
    f ? (s = Cg) : a && (s = self);
    var g = !s.JS_SHA3_NO_COMMON_JS && !0 && r.exports,
      v = !s.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < "u",
      h = "0123456789abcdef".split(""),
      y = [31, 7936, 2031616, 520093696],
      A = [4, 1024, 262144, 67108864],
      P = [1, 256, 65536, 16777216],
      R = [6, 1536, 393216, 100663296],
      C = [0, 8, 16, 24],
      q = [
        1, 0, 32898, 0, 32906, 2147483648, 2147516416, 2147483648, 32907, 0,
        2147483649, 0, 2147516545, 2147483648, 32777, 2147483648, 138, 0, 136,
        0, 2147516425, 0, 2147483658, 0, 2147516555, 0, 139, 2147483648, 32905,
        2147483648, 32771, 2147483648, 32770, 2147483648, 128, 2147483648,
        32778, 0, 2147483658, 2147483648, 2147516545, 2147483648, 32896,
        2147483648, 2147483649, 0, 2147516424, 2147483648,
      ],
      L = [224, 256, 384, 512],
      j = [128, 256],
      H = ["hex", "buffer", "arrayBuffer", "array", "digest"],
      Y = { 128: 168, 256: 136 };
    (s.JS_SHA3_NO_NODE_JS || !Array.isArray) &&
      (Array.isArray = function (M) {
        return Object.prototype.toString.call(M) === "[object Array]";
      }),
      v &&
        (s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) &&
        (ArrayBuffer.isView = function (M) {
          return (
            typeof M == "object" &&
            M.buffer &&
            M.buffer.constructor === ArrayBuffer
          );
        });
    for (
      var Q = function (M, Z, B) {
          return function ($) {
            return new O(M, Z, M).update($)[B]();
          };
        },
        G = function (M, Z, B) {
          return function ($, U) {
            return new O(M, Z, U).update($)[B]();
          };
        },
        ee = function (M, Z, B) {
          return function ($, U, _, k) {
            return u["cshake" + M].update($, U, _, k)[B]();
          };
        },
        ne = function (M, Z, B) {
          return function ($, U, _, k) {
            return u["kmac" + M].update($, U, _, k)[B]();
          };
        },
        de = function (M, Z, B, $) {
          for (var U = 0; U < H.length; ++U) {
            var _ = H[U];
            M[_] = Z(B, $, _);
          }
          return M;
        },
        fe = function (M, Z) {
          var B = Q(M, Z, "hex");
          return (
            (B.create = function () {
              return new O(M, Z, M);
            }),
            (B.update = function ($) {
              return B.create().update($);
            }),
            de(B, Q, M, Z)
          );
        },
        xe = function (M, Z) {
          var B = G(M, Z, "hex");
          return (
            (B.create = function ($) {
              return new O(M, Z, $);
            }),
            (B.update = function ($, U) {
              return B.create(U).update($);
            }),
            de(B, G, M, Z)
          );
        },
        F = function (M, Z) {
          var B = Y[M],
            $ = ee(M, Z, "hex");
          return (
            ($.create = function (U, _, k) {
              return !_ && !k
                ? u["shake" + M].create(U)
                : new O(M, Z, U).bytepad([_, k], B);
            }),
            ($.update = function (U, _, k, re) {
              return $.create(_, k, re).update(U);
            }),
            de($, ee, M, Z)
          );
        },
        m = function (M, Z) {
          var B = Y[M],
            $ = ne(M, Z, "hex");
          return (
            ($.create = function (U, _, k) {
              return new te(M, Z, _).bytepad(["KMAC", k], B).bytepad([U], B);
            }),
            ($.update = function (U, _, k, re) {
              return $.create(U, k, re).update(_);
            }),
            de($, ne, M, Z)
          );
        },
        c = [
          { name: "keccak", padding: P, bits: L, createMethod: fe },
          { name: "sha3", padding: R, bits: L, createMethod: fe },
          { name: "shake", padding: y, bits: j, createMethod: xe },
          { name: "cshake", padding: A, bits: j, createMethod: F },
          { name: "kmac", padding: A, bits: j, createMethod: m },
        ],
        u = {},
        b = [],
        w = 0;
      w < c.length;
      ++w
    )
      for (var I = c[w], S = I.bits, E = 0; E < S.length; ++E) {
        var l = I.name + "_" + S[E];
        if (
          (b.push(l),
          (u[l] = I.createMethod(S[E], I.padding)),
          I.name !== "sha3")
        ) {
          var p = I.name + S[E];
          b.push(p), (u[p] = u[l]);
        }
      }
    function O(M, Z, B) {
      (this.blocks = []),
        (this.s = []),
        (this.padding = Z),
        (this.outputBits = B),
        (this.reset = !0),
        (this.finalized = !1),
        (this.block = 0),
        (this.start = 0),
        (this.blockCount = (1600 - (M << 1)) >> 5),
        (this.byteCount = this.blockCount << 2),
        (this.outputBlocks = B >> 5),
        (this.extraBytes = (B & 31) >> 3);
      for (var $ = 0; $ < 50; ++$) this.s[$] = 0;
    }
    (O.prototype.update = function (M) {
      if (this.finalized) throw new Error(t);
      var Z,
        B = typeof M;
      if (B !== "string") {
        if (B === "object") {
          if (M === null) throw new Error(e);
          if (v && M.constructor === ArrayBuffer) M = new Uint8Array(M);
          else if (!Array.isArray(M) && (!v || !ArrayBuffer.isView(M)))
            throw new Error(e);
        } else throw new Error(e);
        Z = !0;
      }
      for (
        var $ = this.blocks,
          U = this.byteCount,
          _ = M.length,
          k = this.blockCount,
          re = 0,
          oe = this.s,
          ce,
          ge;
        re < _;

      ) {
        if (this.reset)
          for (this.reset = !1, $[0] = this.block, ce = 1; ce < k + 1; ++ce)
            $[ce] = 0;
        if (Z)
          for (ce = this.start; re < _ && ce < U; ++re)
            $[ce >> 2] |= M[re] << C[ce++ & 3];
        else
          for (ce = this.start; re < _ && ce < U; ++re)
            (ge = M.charCodeAt(re)),
              ge < 128
                ? ($[ce >> 2] |= ge << C[ce++ & 3])
                : ge < 2048
                ? (($[ce >> 2] |= (192 | (ge >> 6)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | (ge & 63)) << C[ce++ & 3]))
                : ge < 55296 || ge >= 57344
                ? (($[ce >> 2] |= (224 | (ge >> 12)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | ((ge >> 6) & 63)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | (ge & 63)) << C[ce++ & 3]))
                : ((ge =
                    65536 +
                    (((ge & 1023) << 10) | (M.charCodeAt(++re) & 1023))),
                  ($[ce >> 2] |= (240 | (ge >> 18)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | ((ge >> 12) & 63)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | ((ge >> 6) & 63)) << C[ce++ & 3]),
                  ($[ce >> 2] |= (128 | (ge & 63)) << C[ce++ & 3]));
        if (((this.lastByteIndex = ce), ce >= U)) {
          for (this.start = ce - U, this.block = $[k], ce = 0; ce < k; ++ce)
            oe[ce] ^= $[ce];
          se(oe), (this.reset = !0);
        } else this.start = ce;
      }
      return this;
    }),
      (O.prototype.encode = function (M, Z) {
        var B = M & 255,
          $ = 1,
          U = [B];
        for (M = M >> 8, B = M & 255; B > 0; )
          U.unshift(B), (M = M >> 8), (B = M & 255), ++$;
        return Z ? U.push($) : U.unshift($), this.update(U), U.length;
      }),
      (O.prototype.encodeString = function (M) {
        var Z,
          B = typeof M;
        if (B !== "string") {
          if (B === "object") {
            if (M === null) throw new Error(e);
            if (v && M.constructor === ArrayBuffer) M = new Uint8Array(M);
            else if (!Array.isArray(M) && (!v || !ArrayBuffer.isView(M)))
              throw new Error(e);
          } else throw new Error(e);
          Z = !0;
        }
        var $ = 0,
          U = M.length;
        if (Z) $ = U;
        else
          for (var _ = 0; _ < M.length; ++_) {
            var k = M.charCodeAt(_);
            k < 128
              ? ($ += 1)
              : k < 2048
              ? ($ += 2)
              : k < 55296 || k >= 57344
              ? ($ += 3)
              : ((k =
                  65536 + (((k & 1023) << 10) | (M.charCodeAt(++_) & 1023))),
                ($ += 4));
          }
        return ($ += this.encode($ * 8)), this.update(M), $;
      }),
      (O.prototype.bytepad = function (M, Z) {
        for (var B = this.encode(Z), $ = 0; $ < M.length; ++$)
          B += this.encodeString(M[$]);
        var U = Z - (B % Z),
          _ = [];
        return (_.length = U), this.update(_), this;
      }),
      (O.prototype.finalize = function () {
        if (!this.finalized) {
          this.finalized = !0;
          var M = this.blocks,
            Z = this.lastByteIndex,
            B = this.blockCount,
            $ = this.s;
          if (
            ((M[Z >> 2] |= this.padding[Z & 3]),
            this.lastByteIndex === this.byteCount)
          )
            for (M[0] = M[B], Z = 1; Z < B + 1; ++Z) M[Z] = 0;
          for (M[B - 1] |= 2147483648, Z = 0; Z < B; ++Z) $[Z] ^= M[Z];
          se($);
        }
      }),
      (O.prototype.toString = O.prototype.hex =
        function () {
          this.finalize();
          for (
            var M = this.blockCount,
              Z = this.s,
              B = this.outputBlocks,
              $ = this.extraBytes,
              U = 0,
              _ = 0,
              k = "",
              re;
            _ < B;

          ) {
            for (U = 0; U < M && _ < B; ++U, ++_)
              (re = Z[U]),
                (k +=
                  h[(re >> 4) & 15] +
                  h[re & 15] +
                  h[(re >> 12) & 15] +
                  h[(re >> 8) & 15] +
                  h[(re >> 20) & 15] +
                  h[(re >> 16) & 15] +
                  h[(re >> 28) & 15] +
                  h[(re >> 24) & 15]);
            _ % M === 0 && (se(Z), (U = 0));
          }
          return (
            $ &&
              ((re = Z[U]),
              (k += h[(re >> 4) & 15] + h[re & 15]),
              $ > 1 && (k += h[(re >> 12) & 15] + h[(re >> 8) & 15]),
              $ > 2 && (k += h[(re >> 20) & 15] + h[(re >> 16) & 15])),
            k
          );
        }),
      (O.prototype.arrayBuffer = function () {
        this.finalize();
        var M = this.blockCount,
          Z = this.s,
          B = this.outputBlocks,
          $ = this.extraBytes,
          U = 0,
          _ = 0,
          k = this.outputBits >> 3,
          re;
        $ ? (re = new ArrayBuffer((B + 1) << 2)) : (re = new ArrayBuffer(k));
        for (var oe = new Uint32Array(re); _ < B; ) {
          for (U = 0; U < M && _ < B; ++U, ++_) oe[_] = Z[U];
          _ % M === 0 && se(Z);
        }
        return $ && ((oe[U] = Z[U]), (re = re.slice(0, k))), re;
      }),
      (O.prototype.buffer = O.prototype.arrayBuffer),
      (O.prototype.digest = O.prototype.array =
        function () {
          this.finalize();
          for (
            var M = this.blockCount,
              Z = this.s,
              B = this.outputBlocks,
              $ = this.extraBytes,
              U = 0,
              _ = 0,
              k = [],
              re,
              oe;
            _ < B;

          ) {
            for (U = 0; U < M && _ < B; ++U, ++_)
              (re = _ << 2),
                (oe = Z[U]),
                (k[re] = oe & 255),
                (k[re + 1] = (oe >> 8) & 255),
                (k[re + 2] = (oe >> 16) & 255),
                (k[re + 3] = (oe >> 24) & 255);
            _ % M === 0 && se(Z);
          }
          return (
            $ &&
              ((re = _ << 2),
              (oe = Z[U]),
              (k[re] = oe & 255),
              $ > 1 && (k[re + 1] = (oe >> 8) & 255),
              $ > 2 && (k[re + 2] = (oe >> 16) & 255)),
            k
          );
        });
    function te(M, Z, B) {
      O.call(this, M, Z, B);
    }
    (te.prototype = new O()),
      (te.prototype.finalize = function () {
        return (
          this.encode(this.outputBits, !0), O.prototype.finalize.call(this)
        );
      });
    var se = function (M) {
      var Z,
        B,
        $,
        U,
        _,
        k,
        re,
        oe,
        ce,
        ge,
        ve,
        Ee,
        We,
        Ie,
        He,
        Fe,
        we,
        $e,
        Ue,
        me,
        je,
        De,
        Ae,
        Ye,
        ze,
        Ce,
        ct,
        ht,
        Be,
        ft,
        ut,
        Le,
        wt,
        dt,
        Ke,
        At,
        It,
        Se,
        Ge,
        Xe,
        Me,
        Qe,
        Je,
        Ne,
        at,
        Ze,
        Oe,
        et,
        rt,
        Pe,
        Ve,
        ot,
        Te,
        Nt,
        Ot,
        it,
        bt,
        Er,
        Ir,
        Sr,
        Mr,
        Pr,
        Yt;
      for ($ = 0; $ < 48; $ += 2)
        (U = M[0] ^ M[10] ^ M[20] ^ M[30] ^ M[40]),
          (_ = M[1] ^ M[11] ^ M[21] ^ M[31] ^ M[41]),
          (k = M[2] ^ M[12] ^ M[22] ^ M[32] ^ M[42]),
          (re = M[3] ^ M[13] ^ M[23] ^ M[33] ^ M[43]),
          (oe = M[4] ^ M[14] ^ M[24] ^ M[34] ^ M[44]),
          (ce = M[5] ^ M[15] ^ M[25] ^ M[35] ^ M[45]),
          (ge = M[6] ^ M[16] ^ M[26] ^ M[36] ^ M[46]),
          (ve = M[7] ^ M[17] ^ M[27] ^ M[37] ^ M[47]),
          (Ee = M[8] ^ M[18] ^ M[28] ^ M[38] ^ M[48]),
          (We = M[9] ^ M[19] ^ M[29] ^ M[39] ^ M[49]),
          (Z = Ee ^ ((k << 1) | (re >>> 31))),
          (B = We ^ ((re << 1) | (k >>> 31))),
          (M[0] ^= Z),
          (M[1] ^= B),
          (M[10] ^= Z),
          (M[11] ^= B),
          (M[20] ^= Z),
          (M[21] ^= B),
          (M[30] ^= Z),
          (M[31] ^= B),
          (M[40] ^= Z),
          (M[41] ^= B),
          (Z = U ^ ((oe << 1) | (ce >>> 31))),
          (B = _ ^ ((ce << 1) | (oe >>> 31))),
          (M[2] ^= Z),
          (M[3] ^= B),
          (M[12] ^= Z),
          (M[13] ^= B),
          (M[22] ^= Z),
          (M[23] ^= B),
          (M[32] ^= Z),
          (M[33] ^= B),
          (M[42] ^= Z),
          (M[43] ^= B),
          (Z = k ^ ((ge << 1) | (ve >>> 31))),
          (B = re ^ ((ve << 1) | (ge >>> 31))),
          (M[4] ^= Z),
          (M[5] ^= B),
          (M[14] ^= Z),
          (M[15] ^= B),
          (M[24] ^= Z),
          (M[25] ^= B),
          (M[34] ^= Z),
          (M[35] ^= B),
          (M[44] ^= Z),
          (M[45] ^= B),
          (Z = oe ^ ((Ee << 1) | (We >>> 31))),
          (B = ce ^ ((We << 1) | (Ee >>> 31))),
          (M[6] ^= Z),
          (M[7] ^= B),
          (M[16] ^= Z),
          (M[17] ^= B),
          (M[26] ^= Z),
          (M[27] ^= B),
          (M[36] ^= Z),
          (M[37] ^= B),
          (M[46] ^= Z),
          (M[47] ^= B),
          (Z = ge ^ ((U << 1) | (_ >>> 31))),
          (B = ve ^ ((_ << 1) | (U >>> 31))),
          (M[8] ^= Z),
          (M[9] ^= B),
          (M[18] ^= Z),
          (M[19] ^= B),
          (M[28] ^= Z),
          (M[29] ^= B),
          (M[38] ^= Z),
          (M[39] ^= B),
          (M[48] ^= Z),
          (M[49] ^= B),
          (Ie = M[0]),
          (He = M[1]),
          (Ze = (M[11] << 4) | (M[10] >>> 28)),
          (Oe = (M[10] << 4) | (M[11] >>> 28)),
          (ht = (M[20] << 3) | (M[21] >>> 29)),
          (Be = (M[21] << 3) | (M[20] >>> 29)),
          (Sr = (M[31] << 9) | (M[30] >>> 23)),
          (Mr = (M[30] << 9) | (M[31] >>> 23)),
          (Qe = (M[40] << 18) | (M[41] >>> 14)),
          (Je = (M[41] << 18) | (M[40] >>> 14)),
          (dt = (M[2] << 1) | (M[3] >>> 31)),
          (Ke = (M[3] << 1) | (M[2] >>> 31)),
          (Fe = (M[13] << 12) | (M[12] >>> 20)),
          (we = (M[12] << 12) | (M[13] >>> 20)),
          (et = (M[22] << 10) | (M[23] >>> 22)),
          (rt = (M[23] << 10) | (M[22] >>> 22)),
          (ft = (M[33] << 13) | (M[32] >>> 19)),
          (ut = (M[32] << 13) | (M[33] >>> 19)),
          (Pr = (M[42] << 2) | (M[43] >>> 30)),
          (Yt = (M[43] << 2) | (M[42] >>> 30)),
          (Nt = (M[5] << 30) | (M[4] >>> 2)),
          (Ot = (M[4] << 30) | (M[5] >>> 2)),
          (At = (M[14] << 6) | (M[15] >>> 26)),
          (It = (M[15] << 6) | (M[14] >>> 26)),
          ($e = (M[25] << 11) | (M[24] >>> 21)),
          (Ue = (M[24] << 11) | (M[25] >>> 21)),
          (Pe = (M[34] << 15) | (M[35] >>> 17)),
          (Ve = (M[35] << 15) | (M[34] >>> 17)),
          (Le = (M[45] << 29) | (M[44] >>> 3)),
          (wt = (M[44] << 29) | (M[45] >>> 3)),
          (Ye = (M[6] << 28) | (M[7] >>> 4)),
          (ze = (M[7] << 28) | (M[6] >>> 4)),
          (it = (M[17] << 23) | (M[16] >>> 9)),
          (bt = (M[16] << 23) | (M[17] >>> 9)),
          (Se = (M[26] << 25) | (M[27] >>> 7)),
          (Ge = (M[27] << 25) | (M[26] >>> 7)),
          (me = (M[36] << 21) | (M[37] >>> 11)),
          (je = (M[37] << 21) | (M[36] >>> 11)),
          (ot = (M[47] << 24) | (M[46] >>> 8)),
          (Te = (M[46] << 24) | (M[47] >>> 8)),
          (Ne = (M[8] << 27) | (M[9] >>> 5)),
          (at = (M[9] << 27) | (M[8] >>> 5)),
          (Ce = (M[18] << 20) | (M[19] >>> 12)),
          (ct = (M[19] << 20) | (M[18] >>> 12)),
          (Er = (M[29] << 7) | (M[28] >>> 25)),
          (Ir = (M[28] << 7) | (M[29] >>> 25)),
          (Xe = (M[38] << 8) | (M[39] >>> 24)),
          (Me = (M[39] << 8) | (M[38] >>> 24)),
          (De = (M[48] << 14) | (M[49] >>> 18)),
          (Ae = (M[49] << 14) | (M[48] >>> 18)),
          (M[0] = Ie ^ (~Fe & $e)),
          (M[1] = He ^ (~we & Ue)),
          (M[10] = Ye ^ (~Ce & ht)),
          (M[11] = ze ^ (~ct & Be)),
          (M[20] = dt ^ (~At & Se)),
          (M[21] = Ke ^ (~It & Ge)),
          (M[30] = Ne ^ (~Ze & et)),
          (M[31] = at ^ (~Oe & rt)),
          (M[40] = Nt ^ (~it & Er)),
          (M[41] = Ot ^ (~bt & Ir)),
          (M[2] = Fe ^ (~$e & me)),
          (M[3] = we ^ (~Ue & je)),
          (M[12] = Ce ^ (~ht & ft)),
          (M[13] = ct ^ (~Be & ut)),
          (M[22] = At ^ (~Se & Xe)),
          (M[23] = It ^ (~Ge & Me)),
          (M[32] = Ze ^ (~et & Pe)),
          (M[33] = Oe ^ (~rt & Ve)),
          (M[42] = it ^ (~Er & Sr)),
          (M[43] = bt ^ (~Ir & Mr)),
          (M[4] = $e ^ (~me & De)),
          (M[5] = Ue ^ (~je & Ae)),
          (M[14] = ht ^ (~ft & Le)),
          (M[15] = Be ^ (~ut & wt)),
          (M[24] = Se ^ (~Xe & Qe)),
          (M[25] = Ge ^ (~Me & Je)),
          (M[34] = et ^ (~Pe & ot)),
          (M[35] = rt ^ (~Ve & Te)),
          (M[44] = Er ^ (~Sr & Pr)),
          (M[45] = Ir ^ (~Mr & Yt)),
          (M[6] = me ^ (~De & Ie)),
          (M[7] = je ^ (~Ae & He)),
          (M[16] = ft ^ (~Le & Ye)),
          (M[17] = ut ^ (~wt & ze)),
          (M[26] = Xe ^ (~Qe & dt)),
          (M[27] = Me ^ (~Je & Ke)),
          (M[36] = Pe ^ (~ot & Ne)),
          (M[37] = Ve ^ (~Te & at)),
          (M[46] = Sr ^ (~Pr & Nt)),
          (M[47] = Mr ^ (~Yt & Ot)),
          (M[8] = De ^ (~Ie & Fe)),
          (M[9] = Ae ^ (~He & we)),
          (M[18] = Le ^ (~Ye & Ce)),
          (M[19] = wt ^ (~ze & ct)),
          (M[28] = Qe ^ (~dt & At)),
          (M[29] = Je ^ (~Ke & It)),
          (M[38] = ot ^ (~Ne & Ze)),
          (M[39] = Te ^ (~at & Oe)),
          (M[48] = Pr ^ (~Nt & it)),
          (M[49] = Yt ^ (~Ot & bt)),
          (M[0] ^= q[$]),
          (M[1] ^= q[$ + 1]);
    };
    if (g) r.exports = u;
    else for (w = 0; w < b.length; ++w) s[b[w]] = u[b[w]];
  })();
})(Ng);
var z8 = Ng.exports;
const $8 = "logger/5.7.0";
let Mp = !1,
  Pp = !1;
const kc = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let Rp = kc.default,
  iu = null;
function U8() {
  try {
    const r = [];
    if (
      (["NFD", "NFC", "NFKD", "NFKC"].forEach((e) => {
        try {
          if ("test".normalize(e) !== "test") throw new Error("bad normalize");
        } catch {
          r.push(e);
        }
      }),
      r.length)
    )
      throw new Error("missing " + r.join(", "));
    if ("".normalize("NFD") !== "e") throw new Error("broken implementation");
  } catch (r) {
    return r.message;
  }
  return null;
}
const Cp = U8();
var Nu;
(function (r) {
  (r.DEBUG = "DEBUG"),
    (r.INFO = "INFO"),
    (r.WARNING = "WARNING"),
    (r.ERROR = "ERROR"),
    (r.OFF = "OFF");
})(Nu || (Nu = {}));
var Hi;
(function (r) {
  (r.UNKNOWN_ERROR = "UNKNOWN_ERROR"),
    (r.NOT_IMPLEMENTED = "NOT_IMPLEMENTED"),
    (r.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION"),
    (r.NETWORK_ERROR = "NETWORK_ERROR"),
    (r.SERVER_ERROR = "SERVER_ERROR"),
    (r.TIMEOUT = "TIMEOUT"),
    (r.BUFFER_OVERRUN = "BUFFER_OVERRUN"),
    (r.NUMERIC_FAULT = "NUMERIC_FAULT"),
    (r.MISSING_NEW = "MISSING_NEW"),
    (r.INVALID_ARGUMENT = "INVALID_ARGUMENT"),
    (r.MISSING_ARGUMENT = "MISSING_ARGUMENT"),
    (r.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT"),
    (r.CALL_EXCEPTION = "CALL_EXCEPTION"),
    (r.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS"),
    (r.NONCE_EXPIRED = "NONCE_EXPIRED"),
    (r.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED"),
    (r.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT"),
    (r.TRANSACTION_REPLACED = "TRANSACTION_REPLACED"),
    (r.ACTION_REJECTED = "ACTION_REJECTED");
})(Hi || (Hi = {}));
const Np = "0123456789abcdef";
let Ar = class ur {
  constructor(e) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: e,
      writable: !1,
    });
  }
  _log(e, t) {
    const i = e.toLowerCase();
    kc[i] == null &&
      this.throwArgumentError("invalid log level name", "logLevel", e),
      !(Rp > kc[i]) && console.log.apply(console, t);
  }
  debug(...e) {
    this._log(ur.levels.DEBUG, e);
  }
  info(...e) {
    this._log(ur.levels.INFO, e);
  }
  warn(...e) {
    this._log(ur.levels.WARNING, e);
  }
  makeError(e, t, i) {
    if (Pp) return this.makeError("censored error", t, {});
    t || (t = ur.errors.UNKNOWN_ERROR), i || (i = {});
    const s = [];
    Object.keys(i).forEach((v) => {
      const h = i[v];
      try {
        if (h instanceof Uint8Array) {
          let y = "";
          for (let A = 0; A < h.length; A++)
            (y += Np[h[A] >> 4]), (y += Np[h[A] & 15]);
          s.push(v + "=Uint8Array(0x" + y + ")");
        } else s.push(v + "=" + JSON.stringify(h));
      } catch {
        s.push(v + "=" + JSON.stringify(i[v].toString()));
      }
    }),
      s.push(`code=${t}`),
      s.push(`version=${this.version}`);
    const a = e;
    let f = "";
    switch (t) {
      case Hi.NUMERIC_FAULT: {
        f = "NUMERIC_FAULT";
        const v = e;
        switch (v) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            f += "-" + v;
            break;
          case "negative-power":
          case "negative-width":
            f += "-unsupported";
            break;
          case "unbound-bitwise-result":
            f += "-unbound-result";
            break;
        }
        break;
      }
      case Hi.CALL_EXCEPTION:
      case Hi.INSUFFICIENT_FUNDS:
      case Hi.MISSING_NEW:
      case Hi.NONCE_EXPIRED:
      case Hi.REPLACEMENT_UNDERPRICED:
      case Hi.TRANSACTION_REPLACED:
      case Hi.UNPREDICTABLE_GAS_LIMIT:
        f = t;
        break;
    }
    f && (e += " [ See: https://links.ethers.org/v5-errors-" + f + " ]"),
      s.length && (e += " (" + s.join(", ") + ")");
    const g = new Error(e);
    return (
      (g.reason = a),
      (g.code = t),
      Object.keys(i).forEach(function (v) {
        g[v] = i[v];
      }),
      g
    );
  }
  throwError(e, t, i) {
    throw this.makeError(e, t, i);
  }
  throwArgumentError(e, t, i) {
    return this.throwError(e, ur.errors.INVALID_ARGUMENT, {
      argument: t,
      value: i,
    });
  }
  assert(e, t, i, s) {
    e || this.throwError(t, i, s);
  }
  assertArgument(e, t, i, s) {
    e || this.throwArgumentError(t, i, s);
  }
  checkNormalize(e) {
    Cp &&
      this.throwError(
        "platform missing String.prototype.normalize",
        ur.errors.UNSUPPORTED_OPERATION,
        { operation: "String.prototype.normalize", form: Cp }
      );
  }
  checkSafeUint53(e, t) {
    typeof e == "number" &&
      (t == null && (t = "value not safe"),
      (e < 0 || e >= 9007199254740991) &&
        this.throwError(t, ur.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "out-of-safe-range",
          value: e,
        }),
      e % 1 &&
        this.throwError(t, ur.errors.NUMERIC_FAULT, {
          operation: "checkSafeInteger",
          fault: "non-integer",
          value: e,
        }));
  }
  checkArgumentCount(e, t, i) {
    i ? (i = ": " + i) : (i = ""),
      e < t &&
        this.throwError("missing argument" + i, ur.errors.MISSING_ARGUMENT, {
          count: e,
          expectedCount: t,
        }),
      e > t &&
        this.throwError(
          "too many arguments" + i,
          ur.errors.UNEXPECTED_ARGUMENT,
          { count: e, expectedCount: t }
        );
  }
  checkNew(e, t) {
    (e === Object || e == null) &&
      this.throwError("missing new", ur.errors.MISSING_NEW, { name: t.name });
  }
  checkAbstract(e, t) {
    e === t
      ? this.throwError(
          "cannot instantiate abstract class " +
            JSON.stringify(t.name) +
            " directly; use a sub-class",
          ur.errors.UNSUPPORTED_OPERATION,
          { name: e.name, operation: "new" }
        )
      : (e === Object || e == null) &&
        this.throwError("missing new", ur.errors.MISSING_NEW, { name: t.name });
  }
  static globalLogger() {
    return iu || (iu = new ur($8)), iu;
  }
  static setCensorship(e, t) {
    if (
      (!e &&
        t &&
        this.globalLogger().throwError(
          "cannot permanently disable censorship",
          ur.errors.UNSUPPORTED_OPERATION,
          { operation: "setCensorship" }
        ),
      Mp)
    ) {
      if (!e) return;
      this.globalLogger().throwError(
        "error censorship permanent",
        ur.errors.UNSUPPORTED_OPERATION,
        { operation: "setCensorship" }
      );
    }
    (Pp = !!e), (Mp = !!t);
  }
  static setLogLevel(e) {
    const t = kc[e.toLowerCase()];
    if (t == null) {
      ur.globalLogger().warn("invalid log level - " + e);
      return;
    }
    Rp = t;
  }
  static from(e) {
    return new ur(e);
  }
};
(Ar.errors = Hi), (Ar.levels = Nu);
const j8 = "bytes/5.7.0",
  nr = new Ar(j8);
function Og(r) {
  return !!r.toHexString;
}
function na(r) {
  return (
    r.slice ||
      (r.slice = function () {
        const e = Array.prototype.slice.call(arguments);
        return na(new Uint8Array(Array.prototype.slice.apply(r, e)));
      }),
    r
  );
}
function K8(r) {
  return (fi(r) && !(r.length % 2)) || ua(r);
}
function Op(r) {
  return typeof r == "number" && r == r && r % 1 === 0;
}
function ua(r) {
  if (r == null) return !1;
  if (r.constructor === Uint8Array) return !0;
  if (typeof r == "string" || !Op(r.length) || r.length < 0) return !1;
  for (let e = 0; e < r.length; e++) {
    const t = r[e];
    if (!Op(t) || t < 0 || t >= 256) return !1;
  }
  return !0;
}
function er(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    nr.checkSafeUint53(r, "invalid arrayify value");
    const t = [];
    for (; r; ) t.unshift(r & 255), (r = parseInt(String(r / 256)));
    return t.length === 0 && t.push(0), na(new Uint8Array(t));
  }
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Og(r) && (r = r.toHexString()),
    fi(r))
  ) {
    let t = r.substring(2);
    t.length % 2 &&
      (e.hexPad === "left"
        ? (t = "0" + t)
        : e.hexPad === "right"
        ? (t += "0")
        : nr.throwArgumentError("hex data is odd-length", "value", r));
    const i = [];
    for (let s = 0; s < t.length; s += 2)
      i.push(parseInt(t.substring(s, s + 2), 16));
    return na(new Uint8Array(i));
  }
  return ua(r)
    ? na(new Uint8Array(r))
    : nr.throwArgumentError("invalid arrayify value", "value", r);
}
function H8(r) {
  const e = r.map((s) => er(s)),
    t = e.reduce((s, a) => s + a.length, 0),
    i = new Uint8Array(t);
  return e.reduce((s, a) => (i.set(a, s), s + a.length), 0), na(i);
}
function V8(r, e) {
  (r = er(r)),
    r.length > e &&
      nr.throwArgumentError("value out of range", "value", arguments[0]);
  const t = new Uint8Array(e);
  return t.set(r, e - r.length), na(t);
}
function fi(r, e) {
  return !(
    typeof r != "string" ||
    !r.match(/^0x[0-9A-Fa-f]*$/) ||
    (e && r.length !== 2 + 2 * e)
  );
}
const nu = "0123456789abcdef";
function Zr(r, e) {
  if ((e || (e = {}), typeof r == "number")) {
    nr.checkSafeUint53(r, "invalid hexlify value");
    let t = "";
    for (; r; ) (t = nu[r & 15] + t), (r = Math.floor(r / 16));
    return t.length ? (t.length % 2 && (t = "0" + t), "0x" + t) : "0x00";
  }
  if (typeof r == "bigint")
    return (r = r.toString(16)), r.length % 2 ? "0x0" + r : "0x" + r;
  if (
    (e.allowMissingPrefix &&
      typeof r == "string" &&
      r.substring(0, 2) !== "0x" &&
      (r = "0x" + r),
    Og(r))
  )
    return r.toHexString();
  if (fi(r))
    return (
      r.length % 2 &&
        (e.hexPad === "left"
          ? (r = "0x0" + r.substring(2))
          : e.hexPad === "right"
          ? (r += "0")
          : nr.throwArgumentError("hex data is odd-length", "value", r)),
      r.toLowerCase()
    );
  if (ua(r)) {
    let t = "0x";
    for (let i = 0; i < r.length; i++) {
      let s = r[i];
      t += nu[(s & 240) >> 4] + nu[s & 15];
    }
    return t;
  }
  return nr.throwArgumentError("invalid hexlify value", "value", r);
}
function G8(r) {
  if (typeof r != "string") r = Zr(r);
  else if (!fi(r) || r.length % 2) return null;
  return (r.length - 2) / 2;
}
function Tp(r, e, t) {
  return (
    typeof r != "string"
      ? (r = Zr(r))
      : (!fi(r) || r.length % 2) &&
        nr.throwArgumentError("invalid hexData", "value", r),
    (e = 2 + 2 * e),
    t != null ? "0x" + r.substring(e, 2 + 2 * t) : "0x" + r.substring(e)
  );
}
function dn(r, e) {
  for (
    typeof r != "string"
      ? (r = Zr(r))
      : fi(r) || nr.throwArgumentError("invalid hex string", "value", r),
      r.length > 2 * e + 2 &&
        nr.throwArgumentError("value out of range", "value", arguments[1]);
    r.length < 2 * e + 2;

  )
    r = "0x0" + r.substring(2);
  return r;
}
function Tg(r) {
  const e = {
    r: "0x",
    s: "0x",
    _vs: "0x",
    recoveryParam: 0,
    v: 0,
    yParityAndS: "0x",
    compact: "0x",
  };
  if (K8(r)) {
    let t = er(r);
    t.length === 64
      ? ((e.v = 27 + (t[32] >> 7)),
        (t[32] &= 127),
        (e.r = Zr(t.slice(0, 32))),
        (e.s = Zr(t.slice(32, 64))))
      : t.length === 65
      ? ((e.r = Zr(t.slice(0, 32))), (e.s = Zr(t.slice(32, 64))), (e.v = t[64]))
      : nr.throwArgumentError("invalid signature string", "signature", r),
      e.v < 27 &&
        (e.v === 0 || e.v === 1
          ? (e.v += 27)
          : nr.throwArgumentError("signature invalid v byte", "signature", r)),
      (e.recoveryParam = 1 - (e.v % 2)),
      e.recoveryParam && (t[32] |= 128),
      (e._vs = Zr(t.slice(32, 64)));
  } else {
    if (
      ((e.r = r.r),
      (e.s = r.s),
      (e.v = r.v),
      (e.recoveryParam = r.recoveryParam),
      (e._vs = r._vs),
      e._vs != null)
    ) {
      const s = V8(er(e._vs), 32);
      e._vs = Zr(s);
      const a = s[0] >= 128 ? 1 : 0;
      e.recoveryParam == null
        ? (e.recoveryParam = a)
        : e.recoveryParam !== a &&
          nr.throwArgumentError(
            "signature recoveryParam mismatch _vs",
            "signature",
            r
          ),
        (s[0] &= 127);
      const f = Zr(s);
      e.s == null
        ? (e.s = f)
        : e.s !== f &&
          nr.throwArgumentError("signature v mismatch _vs", "signature", r);
    }
    if (e.recoveryParam == null)
      e.v == null
        ? nr.throwArgumentError(
            "signature missing v and recoveryParam",
            "signature",
            r
          )
        : e.v === 0 || e.v === 1
        ? (e.recoveryParam = e.v)
        : (e.recoveryParam = 1 - (e.v % 2));
    else if (e.v == null) e.v = 27 + e.recoveryParam;
    else {
      const s = e.v === 0 || e.v === 1 ? e.v : 1 - (e.v % 2);
      e.recoveryParam !== s &&
        nr.throwArgumentError(
          "signature recoveryParam mismatch v",
          "signature",
          r
        );
    }
    e.r == null || !fi(e.r)
      ? nr.throwArgumentError("signature missing or invalid r", "signature", r)
      : (e.r = dn(e.r, 32)),
      e.s == null || !fi(e.s)
        ? nr.throwArgumentError(
            "signature missing or invalid s",
            "signature",
            r
          )
        : (e.s = dn(e.s, 32));
    const t = er(e.s);
    t[0] >= 128 &&
      nr.throwArgumentError("signature s out of range", "signature", r),
      e.recoveryParam && (t[0] |= 128);
    const i = Zr(t);
    e._vs &&
      (fi(e._vs) ||
        nr.throwArgumentError("signature invalid _vs", "signature", r),
      (e._vs = dn(e._vs, 32))),
      e._vs == null
        ? (e._vs = i)
        : e._vs !== i &&
          nr.throwArgumentError(
            "signature _vs mismatch v and s",
            "signature",
            r
          );
  }
  return (
    (e.yParityAndS = e._vs), (e.compact = e.r + e.yParityAndS.substring(2)), e
  );
}
function Xu(r) {
  return "0x" + z8.keccak_256(er(r));
}
var qg = { exports: {} },
  J8 = {},
  W8 = Object.freeze({ __proto__: null, default: J8 }),
  Q8 = k8(W8);
(function (r) {
  (function (e, t) {
    function i(c, u) {
      if (!c) throw new Error(u || "Assertion failed");
    }
    function s(c, u) {
      c.super_ = u;
      var b = function () {};
      (b.prototype = u.prototype),
        (c.prototype = new b()),
        (c.prototype.constructor = c);
    }
    function a(c, u, b) {
      if (a.isBN(c)) return c;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        c !== null &&
          ((u === "le" || u === "be") && ((b = u), (u = 10)),
          this._init(c || 0, u || 10, b || "be"));
    }
    typeof e == "object" ? (e.exports = a) : (t.BN = a),
      (a.BN = a),
      (a.wordSize = 26);
    var f;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (f = window.Buffer)
        : (f = Q8.Buffer);
    } catch {}
    (a.isBN = function (c) {
      return c instanceof a
        ? !0
        : c !== null &&
            typeof c == "object" &&
            c.constructor.wordSize === a.wordSize &&
            Array.isArray(c.words);
    }),
      (a.max = function (c, u) {
        return c.cmp(u) > 0 ? c : u;
      }),
      (a.min = function (c, u) {
        return c.cmp(u) < 0 ? c : u;
      }),
      (a.prototype._init = function (c, u, b) {
        if (typeof c == "number") return this._initNumber(c, u, b);
        if (typeof c == "object") return this._initArray(c, u, b);
        u === "hex" && (u = 16),
          i(u === (u | 0) && u >= 2 && u <= 36),
          (c = c.toString().replace(/\s+/g, ""));
        var w = 0;
        c[0] === "-" && (w++, (this.negative = 1)),
          w < c.length &&
            (u === 16
              ? this._parseHex(c, w, b)
              : (this._parseBase(c, u, w),
                b === "le" && this._initArray(this.toArray(), u, b)));
      }),
      (a.prototype._initNumber = function (c, u, b) {
        c < 0 && ((this.negative = 1), (c = -c)),
          c < 67108864
            ? ((this.words = [c & 67108863]), (this.length = 1))
            : c < 4503599627370496
            ? ((this.words = [c & 67108863, (c / 67108864) & 67108863]),
              (this.length = 2))
            : (i(c < 9007199254740992),
              (this.words = [c & 67108863, (c / 67108864) & 67108863, 1]),
              (this.length = 3)),
          b === "le" && this._initArray(this.toArray(), u, b);
      }),
      (a.prototype._initArray = function (c, u, b) {
        if ((i(typeof c.length == "number"), c.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(c.length / 3)),
          (this.words = new Array(this.length));
        for (var w = 0; w < this.length; w++) this.words[w] = 0;
        var I,
          S,
          E = 0;
        if (b === "be")
          for (w = c.length - 1, I = 0; w >= 0; w -= 3)
            (S = c[w] | (c[w - 1] << 8) | (c[w - 2] << 16)),
              (this.words[I] |= (S << E) & 67108863),
              (this.words[I + 1] = (S >>> (26 - E)) & 67108863),
              (E += 24),
              E >= 26 && ((E -= 26), I++);
        else if (b === "le")
          for (w = 0, I = 0; w < c.length; w += 3)
            (S = c[w] | (c[w + 1] << 8) | (c[w + 2] << 16)),
              (this.words[I] |= (S << E) & 67108863),
              (this.words[I + 1] = (S >>> (26 - E)) & 67108863),
              (E += 24),
              E >= 26 && ((E -= 26), I++);
        return this._strip();
      });
    function g(c, u) {
      var b = c.charCodeAt(u);
      if (b >= 48 && b <= 57) return b - 48;
      if (b >= 65 && b <= 70) return b - 55;
      if (b >= 97 && b <= 102) return b - 87;
      i(!1, "Invalid character in " + c);
    }
    function v(c, u, b) {
      var w = g(c, b);
      return b - 1 >= u && (w |= g(c, b - 1) << 4), w;
    }
    a.prototype._parseHex = function (c, u, b) {
      (this.length = Math.ceil((c.length - u) / 6)),
        (this.words = new Array(this.length));
      for (var w = 0; w < this.length; w++) this.words[w] = 0;
      var I = 0,
        S = 0,
        E;
      if (b === "be")
        for (w = c.length - 1; w >= u; w -= 2)
          (E = v(c, u, w) << I),
            (this.words[S] |= E & 67108863),
            I >= 18
              ? ((I -= 18), (S += 1), (this.words[S] |= E >>> 26))
              : (I += 8);
      else {
        var l = c.length - u;
        for (w = l % 2 === 0 ? u + 1 : u; w < c.length; w += 2)
          (E = v(c, u, w) << I),
            (this.words[S] |= E & 67108863),
            I >= 18
              ? ((I -= 18), (S += 1), (this.words[S] |= E >>> 26))
              : (I += 8);
      }
      this._strip();
    };
    function h(c, u, b, w) {
      for (var I = 0, S = 0, E = Math.min(c.length, b), l = u; l < E; l++) {
        var p = c.charCodeAt(l) - 48;
        (I *= w),
          p >= 49 ? (S = p - 49 + 10) : p >= 17 ? (S = p - 17 + 10) : (S = p),
          i(p >= 0 && S < w, "Invalid character"),
          (I += S);
      }
      return I;
    }
    (a.prototype._parseBase = function (c, u, b) {
      (this.words = [0]), (this.length = 1);
      for (var w = 0, I = 1; I <= 67108863; I *= u) w++;
      w--, (I = (I / u) | 0);
      for (
        var S = c.length - b,
          E = S % w,
          l = Math.min(S, S - E) + b,
          p = 0,
          O = b;
        O < l;
        O += w
      )
        (p = h(c, O, O + w, u)),
          this.imuln(I),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      if (E !== 0) {
        var te = 1;
        for (p = h(c, O, c.length, u), O = 0; O < E; O++) te *= u;
        this.imuln(te),
          this.words[0] + p < 67108864 ? (this.words[0] += p) : this._iaddn(p);
      }
      this._strip();
    }),
      (a.prototype.copy = function (c) {
        c.words = new Array(this.length);
        for (var u = 0; u < this.length; u++) c.words[u] = this.words[u];
        (c.length = this.length),
          (c.negative = this.negative),
          (c.red = this.red);
      });
    function y(c, u) {
      (c.words = u.words),
        (c.length = u.length),
        (c.negative = u.negative),
        (c.red = u.red);
    }
    if (
      ((a.prototype._move = function (c) {
        y(c, this);
      }),
      (a.prototype.clone = function () {
        var c = new a(null);
        return this.copy(c), c;
      }),
      (a.prototype._expand = function (c) {
        for (; this.length < c; ) this.words[this.length++] = 0;
        return this;
      }),
      (a.prototype._strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (a.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      typeof Symbol < "u" && typeof Symbol.for == "function")
    )
      try {
        a.prototype[Symbol.for("nodejs.util.inspect.custom")] = A;
      } catch {
        a.prototype.inspect = A;
      }
    else a.prototype.inspect = A;
    function A() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var P = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      R = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      C = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (a.prototype.toString = function (c, u) {
      (c = c || 10), (u = u | 0 || 1);
      var b;
      if (c === 16 || c === "hex") {
        b = "";
        for (var w = 0, I = 0, S = 0; S < this.length; S++) {
          var E = this.words[S],
            l = (((E << w) | I) & 16777215).toString(16);
          (I = (E >>> (24 - w)) & 16777215),
            (w += 2),
            w >= 26 && ((w -= 26), S--),
            I !== 0 || S !== this.length - 1
              ? (b = P[6 - l.length] + l + b)
              : (b = l + b);
        }
        for (I !== 0 && (b = I.toString(16) + b); b.length % u !== 0; )
          b = "0" + b;
        return this.negative !== 0 && (b = "-" + b), b;
      }
      if (c === (c | 0) && c >= 2 && c <= 36) {
        var p = R[c],
          O = C[c];
        b = "";
        var te = this.clone();
        for (te.negative = 0; !te.isZero(); ) {
          var se = te.modrn(O).toString(c);
          (te = te.idivn(O)),
            te.isZero() ? (b = se + b) : (b = P[p - se.length] + se + b);
        }
        for (this.isZero() && (b = "0" + b); b.length % u !== 0; ) b = "0" + b;
        return this.negative !== 0 && (b = "-" + b), b;
      }
      i(!1, "Base should be between 2 and 36");
    }),
      (a.prototype.toNumber = function () {
        var c = this.words[0];
        return (
          this.length === 2
            ? (c += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (c += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              i(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -c : c
        );
      }),
      (a.prototype.toJSON = function () {
        return this.toString(16, 2);
      }),
      f &&
        (a.prototype.toBuffer = function (c, u) {
          return this.toArrayLike(f, c, u);
        }),
      (a.prototype.toArray = function (c, u) {
        return this.toArrayLike(Array, c, u);
      });
    var q = function (c, u) {
      return c.allocUnsafe ? c.allocUnsafe(u) : new c(u);
    };
    (a.prototype.toArrayLike = function (c, u, b) {
      this._strip();
      var w = this.byteLength(),
        I = b || Math.max(1, w);
      i(w <= I, "byte array longer than desired length"),
        i(I > 0, "Requested array length <= 0");
      var S = q(c, I),
        E = u === "le" ? "LE" : "BE";
      return this["_toArrayLike" + E](S, w), S;
    }),
      (a.prototype._toArrayLikeLE = function (c, u) {
        for (var b = 0, w = 0, I = 0, S = 0; I < this.length; I++) {
          var E = (this.words[I] << S) | w;
          (c[b++] = E & 255),
            b < c.length && (c[b++] = (E >> 8) & 255),
            b < c.length && (c[b++] = (E >> 16) & 255),
            S === 6
              ? (b < c.length && (c[b++] = (E >> 24) & 255), (w = 0), (S = 0))
              : ((w = E >>> 24), (S += 2));
        }
        if (b < c.length) for (c[b++] = w; b < c.length; ) c[b++] = 0;
      }),
      (a.prototype._toArrayLikeBE = function (c, u) {
        for (var b = c.length - 1, w = 0, I = 0, S = 0; I < this.length; I++) {
          var E = (this.words[I] << S) | w;
          (c[b--] = E & 255),
            b >= 0 && (c[b--] = (E >> 8) & 255),
            b >= 0 && (c[b--] = (E >> 16) & 255),
            S === 6
              ? (b >= 0 && (c[b--] = (E >> 24) & 255), (w = 0), (S = 0))
              : ((w = E >>> 24), (S += 2));
        }
        if (b >= 0) for (c[b--] = w; b >= 0; ) c[b--] = 0;
      }),
      Math.clz32
        ? (a.prototype._countBits = function (c) {
            return 32 - Math.clz32(c);
          })
        : (a.prototype._countBits = function (c) {
            var u = c,
              b = 0;
            return (
              u >= 4096 && ((b += 13), (u >>>= 13)),
              u >= 64 && ((b += 7), (u >>>= 7)),
              u >= 8 && ((b += 4), (u >>>= 4)),
              u >= 2 && ((b += 2), (u >>>= 2)),
              b + u
            );
          }),
      (a.prototype._zeroBits = function (c) {
        if (c === 0) return 26;
        var u = c,
          b = 0;
        return (
          u & 8191 || ((b += 13), (u >>>= 13)),
          u & 127 || ((b += 7), (u >>>= 7)),
          u & 15 || ((b += 4), (u >>>= 4)),
          u & 3 || ((b += 2), (u >>>= 2)),
          u & 1 || b++,
          b
        );
      }),
      (a.prototype.bitLength = function () {
        var c = this.words[this.length - 1],
          u = this._countBits(c);
        return (this.length - 1) * 26 + u;
      });
    function L(c) {
      for (var u = new Array(c.bitLength()), b = 0; b < u.length; b++) {
        var w = (b / 26) | 0,
          I = b % 26;
        u[b] = (c.words[w] >>> I) & 1;
      }
      return u;
    }
    (a.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var c = 0, u = 0; u < this.length; u++) {
        var b = this._zeroBits(this.words[u]);
        if (((c += b), b !== 26)) break;
      }
      return c;
    }),
      (a.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (a.prototype.toTwos = function (c) {
        return this.negative !== 0
          ? this.abs().inotn(c).iaddn(1)
          : this.clone();
      }),
      (a.prototype.fromTwos = function (c) {
        return this.testn(c - 1) ? this.notn(c).iaddn(1).ineg() : this.clone();
      }),
      (a.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (a.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (a.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (a.prototype.iuor = function (c) {
        for (; this.length < c.length; ) this.words[this.length++] = 0;
        for (var u = 0; u < c.length; u++)
          this.words[u] = this.words[u] | c.words[u];
        return this._strip();
      }),
      (a.prototype.ior = function (c) {
        return i((this.negative | c.negative) === 0), this.iuor(c);
      }),
      (a.prototype.or = function (c) {
        return this.length > c.length
          ? this.clone().ior(c)
          : c.clone().ior(this);
      }),
      (a.prototype.uor = function (c) {
        return this.length > c.length
          ? this.clone().iuor(c)
          : c.clone().iuor(this);
      }),
      (a.prototype.iuand = function (c) {
        var u;
        this.length > c.length ? (u = c) : (u = this);
        for (var b = 0; b < u.length; b++)
          this.words[b] = this.words[b] & c.words[b];
        return (this.length = u.length), this._strip();
      }),
      (a.prototype.iand = function (c) {
        return i((this.negative | c.negative) === 0), this.iuand(c);
      }),
      (a.prototype.and = function (c) {
        return this.length > c.length
          ? this.clone().iand(c)
          : c.clone().iand(this);
      }),
      (a.prototype.uand = function (c) {
        return this.length > c.length
          ? this.clone().iuand(c)
          : c.clone().iuand(this);
      }),
      (a.prototype.iuxor = function (c) {
        var u, b;
        this.length > c.length ? ((u = this), (b = c)) : ((u = c), (b = this));
        for (var w = 0; w < b.length; w++)
          this.words[w] = u.words[w] ^ b.words[w];
        if (this !== u) for (; w < u.length; w++) this.words[w] = u.words[w];
        return (this.length = u.length), this._strip();
      }),
      (a.prototype.ixor = function (c) {
        return i((this.negative | c.negative) === 0), this.iuxor(c);
      }),
      (a.prototype.xor = function (c) {
        return this.length > c.length
          ? this.clone().ixor(c)
          : c.clone().ixor(this);
      }),
      (a.prototype.uxor = function (c) {
        return this.length > c.length
          ? this.clone().iuxor(c)
          : c.clone().iuxor(this);
      }),
      (a.prototype.inotn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = Math.ceil(c / 26) | 0,
          b = c % 26;
        this._expand(u), b > 0 && u--;
        for (var w = 0; w < u; w++) this.words[w] = ~this.words[w] & 67108863;
        return (
          b > 0 && (this.words[w] = ~this.words[w] & (67108863 >> (26 - b))),
          this._strip()
        );
      }),
      (a.prototype.notn = function (c) {
        return this.clone().inotn(c);
      }),
      (a.prototype.setn = function (c, u) {
        i(typeof c == "number" && c >= 0);
        var b = (c / 26) | 0,
          w = c % 26;
        return (
          this._expand(b + 1),
          u
            ? (this.words[b] = this.words[b] | (1 << w))
            : (this.words[b] = this.words[b] & ~(1 << w)),
          this._strip()
        );
      }),
      (a.prototype.iadd = function (c) {
        var u;
        if (this.negative !== 0 && c.negative === 0)
          return (
            (this.negative = 0),
            (u = this.isub(c)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && c.negative !== 0)
          return (
            (c.negative = 0),
            (u = this.isub(c)),
            (c.negative = 1),
            u._normSign()
          );
        var b, w;
        this.length > c.length ? ((b = this), (w = c)) : ((b = c), (w = this));
        for (var I = 0, S = 0; S < w.length; S++)
          (u = (b.words[S] | 0) + (w.words[S] | 0) + I),
            (this.words[S] = u & 67108863),
            (I = u >>> 26);
        for (; I !== 0 && S < b.length; S++)
          (u = (b.words[S] | 0) + I),
            (this.words[S] = u & 67108863),
            (I = u >>> 26);
        if (((this.length = b.length), I !== 0))
          (this.words[this.length] = I), this.length++;
        else if (b !== this)
          for (; S < b.length; S++) this.words[S] = b.words[S];
        return this;
      }),
      (a.prototype.add = function (c) {
        var u;
        return c.negative !== 0 && this.negative === 0
          ? ((c.negative = 0), (u = this.sub(c)), (c.negative ^= 1), u)
          : c.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (u = c.sub(this)), (this.negative = 1), u)
          : this.length > c.length
          ? this.clone().iadd(c)
          : c.clone().iadd(this);
      }),
      (a.prototype.isub = function (c) {
        if (c.negative !== 0) {
          c.negative = 0;
          var u = this.iadd(c);
          return (c.negative = 1), u._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(c),
            (this.negative = 1),
            this._normSign()
          );
        var b = this.cmp(c);
        if (b === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var w, I;
        b > 0 ? ((w = this), (I = c)) : ((w = c), (I = this));
        for (var S = 0, E = 0; E < I.length; E++)
          (u = (w.words[E] | 0) - (I.words[E] | 0) + S),
            (S = u >> 26),
            (this.words[E] = u & 67108863);
        for (; S !== 0 && E < w.length; E++)
          (u = (w.words[E] | 0) + S),
            (S = u >> 26),
            (this.words[E] = u & 67108863);
        if (S === 0 && E < w.length && w !== this)
          for (; E < w.length; E++) this.words[E] = w.words[E];
        return (
          (this.length = Math.max(this.length, E)),
          w !== this && (this.negative = 1),
          this._strip()
        );
      }),
      (a.prototype.sub = function (c) {
        return this.clone().isub(c);
      });
    function j(c, u, b) {
      b.negative = u.negative ^ c.negative;
      var w = (c.length + u.length) | 0;
      (b.length = w), (w = (w - 1) | 0);
      var I = c.words[0] | 0,
        S = u.words[0] | 0,
        E = I * S,
        l = E & 67108863,
        p = (E / 67108864) | 0;
      b.words[0] = l;
      for (var O = 1; O < w; O++) {
        for (
          var te = p >>> 26,
            se = p & 67108863,
            M = Math.min(O, u.length - 1),
            Z = Math.max(0, O - c.length + 1);
          Z <= M;
          Z++
        ) {
          var B = (O - Z) | 0;
          (I = c.words[B] | 0),
            (S = u.words[Z] | 0),
            (E = I * S + se),
            (te += (E / 67108864) | 0),
            (se = E & 67108863);
        }
        (b.words[O] = se | 0), (p = te | 0);
      }
      return p !== 0 ? (b.words[O] = p | 0) : b.length--, b._strip();
    }
    var H = function (c, u, b) {
      var w = c.words,
        I = u.words,
        S = b.words,
        E = 0,
        l,
        p,
        O,
        te = w[0] | 0,
        se = te & 8191,
        M = te >>> 13,
        Z = w[1] | 0,
        B = Z & 8191,
        $ = Z >>> 13,
        U = w[2] | 0,
        _ = U & 8191,
        k = U >>> 13,
        re = w[3] | 0,
        oe = re & 8191,
        ce = re >>> 13,
        ge = w[4] | 0,
        ve = ge & 8191,
        Ee = ge >>> 13,
        We = w[5] | 0,
        Ie = We & 8191,
        He = We >>> 13,
        Fe = w[6] | 0,
        we = Fe & 8191,
        $e = Fe >>> 13,
        Ue = w[7] | 0,
        me = Ue & 8191,
        je = Ue >>> 13,
        De = w[8] | 0,
        Ae = De & 8191,
        Ye = De >>> 13,
        ze = w[9] | 0,
        Ce = ze & 8191,
        ct = ze >>> 13,
        ht = I[0] | 0,
        Be = ht & 8191,
        ft = ht >>> 13,
        ut = I[1] | 0,
        Le = ut & 8191,
        wt = ut >>> 13,
        dt = I[2] | 0,
        Ke = dt & 8191,
        At = dt >>> 13,
        It = I[3] | 0,
        Se = It & 8191,
        Ge = It >>> 13,
        Xe = I[4] | 0,
        Me = Xe & 8191,
        Qe = Xe >>> 13,
        Je = I[5] | 0,
        Ne = Je & 8191,
        at = Je >>> 13,
        Ze = I[6] | 0,
        Oe = Ze & 8191,
        et = Ze >>> 13,
        rt = I[7] | 0,
        Pe = rt & 8191,
        Ve = rt >>> 13,
        ot = I[8] | 0,
        Te = ot & 8191,
        Nt = ot >>> 13,
        Ot = I[9] | 0,
        it = Ot & 8191,
        bt = Ot >>> 13;
      (b.negative = c.negative ^ u.negative),
        (b.length = 19),
        (l = Math.imul(se, Be)),
        (p = Math.imul(se, ft)),
        (p = (p + Math.imul(M, Be)) | 0),
        (O = Math.imul(M, ft));
      var Er = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Er >>> 26)) | 0),
        (Er &= 67108863),
        (l = Math.imul(B, Be)),
        (p = Math.imul(B, ft)),
        (p = (p + Math.imul($, Be)) | 0),
        (O = Math.imul($, ft)),
        (l = (l + Math.imul(se, Le)) | 0),
        (p = (p + Math.imul(se, wt)) | 0),
        (p = (p + Math.imul(M, Le)) | 0),
        (O = (O + Math.imul(M, wt)) | 0);
      var Ir = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Ir >>> 26)) | 0),
        (Ir &= 67108863),
        (l = Math.imul(_, Be)),
        (p = Math.imul(_, ft)),
        (p = (p + Math.imul(k, Be)) | 0),
        (O = Math.imul(k, ft)),
        (l = (l + Math.imul(B, Le)) | 0),
        (p = (p + Math.imul(B, wt)) | 0),
        (p = (p + Math.imul($, Le)) | 0),
        (O = (O + Math.imul($, wt)) | 0),
        (l = (l + Math.imul(se, Ke)) | 0),
        (p = (p + Math.imul(se, At)) | 0),
        (p = (p + Math.imul(M, Ke)) | 0),
        (O = (O + Math.imul(M, At)) | 0);
      var Sr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Sr >>> 26)) | 0),
        (Sr &= 67108863),
        (l = Math.imul(oe, Be)),
        (p = Math.imul(oe, ft)),
        (p = (p + Math.imul(ce, Be)) | 0),
        (O = Math.imul(ce, ft)),
        (l = (l + Math.imul(_, Le)) | 0),
        (p = (p + Math.imul(_, wt)) | 0),
        (p = (p + Math.imul(k, Le)) | 0),
        (O = (O + Math.imul(k, wt)) | 0),
        (l = (l + Math.imul(B, Ke)) | 0),
        (p = (p + Math.imul(B, At)) | 0),
        (p = (p + Math.imul($, Ke)) | 0),
        (O = (O + Math.imul($, At)) | 0),
        (l = (l + Math.imul(se, Se)) | 0),
        (p = (p + Math.imul(se, Ge)) | 0),
        (p = (p + Math.imul(M, Se)) | 0),
        (O = (O + Math.imul(M, Ge)) | 0);
      var Mr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Mr >>> 26)) | 0),
        (Mr &= 67108863),
        (l = Math.imul(ve, Be)),
        (p = Math.imul(ve, ft)),
        (p = (p + Math.imul(Ee, Be)) | 0),
        (O = Math.imul(Ee, ft)),
        (l = (l + Math.imul(oe, Le)) | 0),
        (p = (p + Math.imul(oe, wt)) | 0),
        (p = (p + Math.imul(ce, Le)) | 0),
        (O = (O + Math.imul(ce, wt)) | 0),
        (l = (l + Math.imul(_, Ke)) | 0),
        (p = (p + Math.imul(_, At)) | 0),
        (p = (p + Math.imul(k, Ke)) | 0),
        (O = (O + Math.imul(k, At)) | 0),
        (l = (l + Math.imul(B, Se)) | 0),
        (p = (p + Math.imul(B, Ge)) | 0),
        (p = (p + Math.imul($, Se)) | 0),
        (O = (O + Math.imul($, Ge)) | 0),
        (l = (l + Math.imul(se, Me)) | 0),
        (p = (p + Math.imul(se, Qe)) | 0),
        (p = (p + Math.imul(M, Me)) | 0),
        (O = (O + Math.imul(M, Qe)) | 0);
      var Pr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Pr >>> 26)) | 0),
        (Pr &= 67108863),
        (l = Math.imul(Ie, Be)),
        (p = Math.imul(Ie, ft)),
        (p = (p + Math.imul(He, Be)) | 0),
        (O = Math.imul(He, ft)),
        (l = (l + Math.imul(ve, Le)) | 0),
        (p = (p + Math.imul(ve, wt)) | 0),
        (p = (p + Math.imul(Ee, Le)) | 0),
        (O = (O + Math.imul(Ee, wt)) | 0),
        (l = (l + Math.imul(oe, Ke)) | 0),
        (p = (p + Math.imul(oe, At)) | 0),
        (p = (p + Math.imul(ce, Ke)) | 0),
        (O = (O + Math.imul(ce, At)) | 0),
        (l = (l + Math.imul(_, Se)) | 0),
        (p = (p + Math.imul(_, Ge)) | 0),
        (p = (p + Math.imul(k, Se)) | 0),
        (O = (O + Math.imul(k, Ge)) | 0),
        (l = (l + Math.imul(B, Me)) | 0),
        (p = (p + Math.imul(B, Qe)) | 0),
        (p = (p + Math.imul($, Me)) | 0),
        (O = (O + Math.imul($, Qe)) | 0),
        (l = (l + Math.imul(se, Ne)) | 0),
        (p = (p + Math.imul(se, at)) | 0),
        (p = (p + Math.imul(M, Ne)) | 0),
        (O = (O + Math.imul(M, at)) | 0);
      var Yt = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Yt >>> 26)) | 0),
        (Yt &= 67108863),
        (l = Math.imul(we, Be)),
        (p = Math.imul(we, ft)),
        (p = (p + Math.imul($e, Be)) | 0),
        (O = Math.imul($e, ft)),
        (l = (l + Math.imul(Ie, Le)) | 0),
        (p = (p + Math.imul(Ie, wt)) | 0),
        (p = (p + Math.imul(He, Le)) | 0),
        (O = (O + Math.imul(He, wt)) | 0),
        (l = (l + Math.imul(ve, Ke)) | 0),
        (p = (p + Math.imul(ve, At)) | 0),
        (p = (p + Math.imul(Ee, Ke)) | 0),
        (O = (O + Math.imul(Ee, At)) | 0),
        (l = (l + Math.imul(oe, Se)) | 0),
        (p = (p + Math.imul(oe, Ge)) | 0),
        (p = (p + Math.imul(ce, Se)) | 0),
        (O = (O + Math.imul(ce, Ge)) | 0),
        (l = (l + Math.imul(_, Me)) | 0),
        (p = (p + Math.imul(_, Qe)) | 0),
        (p = (p + Math.imul(k, Me)) | 0),
        (O = (O + Math.imul(k, Qe)) | 0),
        (l = (l + Math.imul(B, Ne)) | 0),
        (p = (p + Math.imul(B, at)) | 0),
        (p = (p + Math.imul($, Ne)) | 0),
        (O = (O + Math.imul($, at)) | 0),
        (l = (l + Math.imul(se, Oe)) | 0),
        (p = (p + Math.imul(se, et)) | 0),
        (p = (p + Math.imul(M, Oe)) | 0),
        (O = (O + Math.imul(M, et)) | 0);
      var Ur = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Ur >>> 26)) | 0),
        (Ur &= 67108863),
        (l = Math.imul(me, Be)),
        (p = Math.imul(me, ft)),
        (p = (p + Math.imul(je, Be)) | 0),
        (O = Math.imul(je, ft)),
        (l = (l + Math.imul(we, Le)) | 0),
        (p = (p + Math.imul(we, wt)) | 0),
        (p = (p + Math.imul($e, Le)) | 0),
        (O = (O + Math.imul($e, wt)) | 0),
        (l = (l + Math.imul(Ie, Ke)) | 0),
        (p = (p + Math.imul(Ie, At)) | 0),
        (p = (p + Math.imul(He, Ke)) | 0),
        (O = (O + Math.imul(He, At)) | 0),
        (l = (l + Math.imul(ve, Se)) | 0),
        (p = (p + Math.imul(ve, Ge)) | 0),
        (p = (p + Math.imul(Ee, Se)) | 0),
        (O = (O + Math.imul(Ee, Ge)) | 0),
        (l = (l + Math.imul(oe, Me)) | 0),
        (p = (p + Math.imul(oe, Qe)) | 0),
        (p = (p + Math.imul(ce, Me)) | 0),
        (O = (O + Math.imul(ce, Qe)) | 0),
        (l = (l + Math.imul(_, Ne)) | 0),
        (p = (p + Math.imul(_, at)) | 0),
        (p = (p + Math.imul(k, Ne)) | 0),
        (O = (O + Math.imul(k, at)) | 0),
        (l = (l + Math.imul(B, Oe)) | 0),
        (p = (p + Math.imul(B, et)) | 0),
        (p = (p + Math.imul($, Oe)) | 0),
        (O = (O + Math.imul($, et)) | 0),
        (l = (l + Math.imul(se, Pe)) | 0),
        (p = (p + Math.imul(se, Ve)) | 0),
        (p = (p + Math.imul(M, Pe)) | 0),
        (O = (O + Math.imul(M, Ve)) | 0);
      var Ci = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Ci >>> 26)) | 0),
        (Ci &= 67108863),
        (l = Math.imul(Ae, Be)),
        (p = Math.imul(Ae, ft)),
        (p = (p + Math.imul(Ye, Be)) | 0),
        (O = Math.imul(Ye, ft)),
        (l = (l + Math.imul(me, Le)) | 0),
        (p = (p + Math.imul(me, wt)) | 0),
        (p = (p + Math.imul(je, Le)) | 0),
        (O = (O + Math.imul(je, wt)) | 0),
        (l = (l + Math.imul(we, Ke)) | 0),
        (p = (p + Math.imul(we, At)) | 0),
        (p = (p + Math.imul($e, Ke)) | 0),
        (O = (O + Math.imul($e, At)) | 0),
        (l = (l + Math.imul(Ie, Se)) | 0),
        (p = (p + Math.imul(Ie, Ge)) | 0),
        (p = (p + Math.imul(He, Se)) | 0),
        (O = (O + Math.imul(He, Ge)) | 0),
        (l = (l + Math.imul(ve, Me)) | 0),
        (p = (p + Math.imul(ve, Qe)) | 0),
        (p = (p + Math.imul(Ee, Me)) | 0),
        (O = (O + Math.imul(Ee, Qe)) | 0),
        (l = (l + Math.imul(oe, Ne)) | 0),
        (p = (p + Math.imul(oe, at)) | 0),
        (p = (p + Math.imul(ce, Ne)) | 0),
        (O = (O + Math.imul(ce, at)) | 0),
        (l = (l + Math.imul(_, Oe)) | 0),
        (p = (p + Math.imul(_, et)) | 0),
        (p = (p + Math.imul(k, Oe)) | 0),
        (O = (O + Math.imul(k, et)) | 0),
        (l = (l + Math.imul(B, Pe)) | 0),
        (p = (p + Math.imul(B, Ve)) | 0),
        (p = (p + Math.imul($, Pe)) | 0),
        (O = (O + Math.imul($, Ve)) | 0),
        (l = (l + Math.imul(se, Te)) | 0),
        (p = (p + Math.imul(se, Nt)) | 0),
        (p = (p + Math.imul(M, Te)) | 0),
        (O = (O + Math.imul(M, Nt)) | 0);
      var jr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (jr >>> 26)) | 0),
        (jr &= 67108863),
        (l = Math.imul(Ce, Be)),
        (p = Math.imul(Ce, ft)),
        (p = (p + Math.imul(ct, Be)) | 0),
        (O = Math.imul(ct, ft)),
        (l = (l + Math.imul(Ae, Le)) | 0),
        (p = (p + Math.imul(Ae, wt)) | 0),
        (p = (p + Math.imul(Ye, Le)) | 0),
        (O = (O + Math.imul(Ye, wt)) | 0),
        (l = (l + Math.imul(me, Ke)) | 0),
        (p = (p + Math.imul(me, At)) | 0),
        (p = (p + Math.imul(je, Ke)) | 0),
        (O = (O + Math.imul(je, At)) | 0),
        (l = (l + Math.imul(we, Se)) | 0),
        (p = (p + Math.imul(we, Ge)) | 0),
        (p = (p + Math.imul($e, Se)) | 0),
        (O = (O + Math.imul($e, Ge)) | 0),
        (l = (l + Math.imul(Ie, Me)) | 0),
        (p = (p + Math.imul(Ie, Qe)) | 0),
        (p = (p + Math.imul(He, Me)) | 0),
        (O = (O + Math.imul(He, Qe)) | 0),
        (l = (l + Math.imul(ve, Ne)) | 0),
        (p = (p + Math.imul(ve, at)) | 0),
        (p = (p + Math.imul(Ee, Ne)) | 0),
        (O = (O + Math.imul(Ee, at)) | 0),
        (l = (l + Math.imul(oe, Oe)) | 0),
        (p = (p + Math.imul(oe, et)) | 0),
        (p = (p + Math.imul(ce, Oe)) | 0),
        (O = (O + Math.imul(ce, et)) | 0),
        (l = (l + Math.imul(_, Pe)) | 0),
        (p = (p + Math.imul(_, Ve)) | 0),
        (p = (p + Math.imul(k, Pe)) | 0),
        (O = (O + Math.imul(k, Ve)) | 0),
        (l = (l + Math.imul(B, Te)) | 0),
        (p = (p + Math.imul(B, Nt)) | 0),
        (p = (p + Math.imul($, Te)) | 0),
        (O = (O + Math.imul($, Nt)) | 0),
        (l = (l + Math.imul(se, it)) | 0),
        (p = (p + Math.imul(se, bt)) | 0),
        (p = (p + Math.imul(M, it)) | 0),
        (O = (O + Math.imul(M, bt)) | 0);
      var Ni = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Ni >>> 26)) | 0),
        (Ni &= 67108863),
        (l = Math.imul(Ce, Le)),
        (p = Math.imul(Ce, wt)),
        (p = (p + Math.imul(ct, Le)) | 0),
        (O = Math.imul(ct, wt)),
        (l = (l + Math.imul(Ae, Ke)) | 0),
        (p = (p + Math.imul(Ae, At)) | 0),
        (p = (p + Math.imul(Ye, Ke)) | 0),
        (O = (O + Math.imul(Ye, At)) | 0),
        (l = (l + Math.imul(me, Se)) | 0),
        (p = (p + Math.imul(me, Ge)) | 0),
        (p = (p + Math.imul(je, Se)) | 0),
        (O = (O + Math.imul(je, Ge)) | 0),
        (l = (l + Math.imul(we, Me)) | 0),
        (p = (p + Math.imul(we, Qe)) | 0),
        (p = (p + Math.imul($e, Me)) | 0),
        (O = (O + Math.imul($e, Qe)) | 0),
        (l = (l + Math.imul(Ie, Ne)) | 0),
        (p = (p + Math.imul(Ie, at)) | 0),
        (p = (p + Math.imul(He, Ne)) | 0),
        (O = (O + Math.imul(He, at)) | 0),
        (l = (l + Math.imul(ve, Oe)) | 0),
        (p = (p + Math.imul(ve, et)) | 0),
        (p = (p + Math.imul(Ee, Oe)) | 0),
        (O = (O + Math.imul(Ee, et)) | 0),
        (l = (l + Math.imul(oe, Pe)) | 0),
        (p = (p + Math.imul(oe, Ve)) | 0),
        (p = (p + Math.imul(ce, Pe)) | 0),
        (O = (O + Math.imul(ce, Ve)) | 0),
        (l = (l + Math.imul(_, Te)) | 0),
        (p = (p + Math.imul(_, Nt)) | 0),
        (p = (p + Math.imul(k, Te)) | 0),
        (O = (O + Math.imul(k, Nt)) | 0),
        (l = (l + Math.imul(B, it)) | 0),
        (p = (p + Math.imul(B, bt)) | 0),
        (p = (p + Math.imul($, it)) | 0),
        (O = (O + Math.imul($, bt)) | 0);
      var Oi = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Oi >>> 26)) | 0),
        (Oi &= 67108863),
        (l = Math.imul(Ce, Ke)),
        (p = Math.imul(Ce, At)),
        (p = (p + Math.imul(ct, Ke)) | 0),
        (O = Math.imul(ct, At)),
        (l = (l + Math.imul(Ae, Se)) | 0),
        (p = (p + Math.imul(Ae, Ge)) | 0),
        (p = (p + Math.imul(Ye, Se)) | 0),
        (O = (O + Math.imul(Ye, Ge)) | 0),
        (l = (l + Math.imul(me, Me)) | 0),
        (p = (p + Math.imul(me, Qe)) | 0),
        (p = (p + Math.imul(je, Me)) | 0),
        (O = (O + Math.imul(je, Qe)) | 0),
        (l = (l + Math.imul(we, Ne)) | 0),
        (p = (p + Math.imul(we, at)) | 0),
        (p = (p + Math.imul($e, Ne)) | 0),
        (O = (O + Math.imul($e, at)) | 0),
        (l = (l + Math.imul(Ie, Oe)) | 0),
        (p = (p + Math.imul(Ie, et)) | 0),
        (p = (p + Math.imul(He, Oe)) | 0),
        (O = (O + Math.imul(He, et)) | 0),
        (l = (l + Math.imul(ve, Pe)) | 0),
        (p = (p + Math.imul(ve, Ve)) | 0),
        (p = (p + Math.imul(Ee, Pe)) | 0),
        (O = (O + Math.imul(Ee, Ve)) | 0),
        (l = (l + Math.imul(oe, Te)) | 0),
        (p = (p + Math.imul(oe, Nt)) | 0),
        (p = (p + Math.imul(ce, Te)) | 0),
        (O = (O + Math.imul(ce, Nt)) | 0),
        (l = (l + Math.imul(_, it)) | 0),
        (p = (p + Math.imul(_, bt)) | 0),
        (p = (p + Math.imul(k, it)) | 0),
        (O = (O + Math.imul(k, bt)) | 0);
      var Kr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Kr >>> 26)) | 0),
        (Kr &= 67108863),
        (l = Math.imul(Ce, Se)),
        (p = Math.imul(Ce, Ge)),
        (p = (p + Math.imul(ct, Se)) | 0),
        (O = Math.imul(ct, Ge)),
        (l = (l + Math.imul(Ae, Me)) | 0),
        (p = (p + Math.imul(Ae, Qe)) | 0),
        (p = (p + Math.imul(Ye, Me)) | 0),
        (O = (O + Math.imul(Ye, Qe)) | 0),
        (l = (l + Math.imul(me, Ne)) | 0),
        (p = (p + Math.imul(me, at)) | 0),
        (p = (p + Math.imul(je, Ne)) | 0),
        (O = (O + Math.imul(je, at)) | 0),
        (l = (l + Math.imul(we, Oe)) | 0),
        (p = (p + Math.imul(we, et)) | 0),
        (p = (p + Math.imul($e, Oe)) | 0),
        (O = (O + Math.imul($e, et)) | 0),
        (l = (l + Math.imul(Ie, Pe)) | 0),
        (p = (p + Math.imul(Ie, Ve)) | 0),
        (p = (p + Math.imul(He, Pe)) | 0),
        (O = (O + Math.imul(He, Ve)) | 0),
        (l = (l + Math.imul(ve, Te)) | 0),
        (p = (p + Math.imul(ve, Nt)) | 0),
        (p = (p + Math.imul(Ee, Te)) | 0),
        (O = (O + Math.imul(Ee, Nt)) | 0),
        (l = (l + Math.imul(oe, it)) | 0),
        (p = (p + Math.imul(oe, bt)) | 0),
        (p = (p + Math.imul(ce, it)) | 0),
        (O = (O + Math.imul(ce, bt)) | 0);
      var ui = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (ui >>> 26)) | 0),
        (ui &= 67108863),
        (l = Math.imul(Ce, Me)),
        (p = Math.imul(Ce, Qe)),
        (p = (p + Math.imul(ct, Me)) | 0),
        (O = Math.imul(ct, Qe)),
        (l = (l + Math.imul(Ae, Ne)) | 0),
        (p = (p + Math.imul(Ae, at)) | 0),
        (p = (p + Math.imul(Ye, Ne)) | 0),
        (O = (O + Math.imul(Ye, at)) | 0),
        (l = (l + Math.imul(me, Oe)) | 0),
        (p = (p + Math.imul(me, et)) | 0),
        (p = (p + Math.imul(je, Oe)) | 0),
        (O = (O + Math.imul(je, et)) | 0),
        (l = (l + Math.imul(we, Pe)) | 0),
        (p = (p + Math.imul(we, Ve)) | 0),
        (p = (p + Math.imul($e, Pe)) | 0),
        (O = (O + Math.imul($e, Ve)) | 0),
        (l = (l + Math.imul(Ie, Te)) | 0),
        (p = (p + Math.imul(Ie, Nt)) | 0),
        (p = (p + Math.imul(He, Te)) | 0),
        (O = (O + Math.imul(He, Nt)) | 0),
        (l = (l + Math.imul(ve, it)) | 0),
        (p = (p + Math.imul(ve, bt)) | 0),
        (p = (p + Math.imul(Ee, it)) | 0),
        (O = (O + Math.imul(Ee, bt)) | 0);
      var di = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (di >>> 26)) | 0),
        (di &= 67108863),
        (l = Math.imul(Ce, Ne)),
        (p = Math.imul(Ce, at)),
        (p = (p + Math.imul(ct, Ne)) | 0),
        (O = Math.imul(ct, at)),
        (l = (l + Math.imul(Ae, Oe)) | 0),
        (p = (p + Math.imul(Ae, et)) | 0),
        (p = (p + Math.imul(Ye, Oe)) | 0),
        (O = (O + Math.imul(Ye, et)) | 0),
        (l = (l + Math.imul(me, Pe)) | 0),
        (p = (p + Math.imul(me, Ve)) | 0),
        (p = (p + Math.imul(je, Pe)) | 0),
        (O = (O + Math.imul(je, Ve)) | 0),
        (l = (l + Math.imul(we, Te)) | 0),
        (p = (p + Math.imul(we, Nt)) | 0),
        (p = (p + Math.imul($e, Te)) | 0),
        (O = (O + Math.imul($e, Nt)) | 0),
        (l = (l + Math.imul(Ie, it)) | 0),
        (p = (p + Math.imul(Ie, bt)) | 0),
        (p = (p + Math.imul(He, it)) | 0),
        (O = (O + Math.imul(He, bt)) | 0);
      var cr = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (cr >>> 26)) | 0),
        (cr &= 67108863),
        (l = Math.imul(Ce, Oe)),
        (p = Math.imul(Ce, et)),
        (p = (p + Math.imul(ct, Oe)) | 0),
        (O = Math.imul(ct, et)),
        (l = (l + Math.imul(Ae, Pe)) | 0),
        (p = (p + Math.imul(Ae, Ve)) | 0),
        (p = (p + Math.imul(Ye, Pe)) | 0),
        (O = (O + Math.imul(Ye, Ve)) | 0),
        (l = (l + Math.imul(me, Te)) | 0),
        (p = (p + Math.imul(me, Nt)) | 0),
        (p = (p + Math.imul(je, Te)) | 0),
        (O = (O + Math.imul(je, Nt)) | 0),
        (l = (l + Math.imul(we, it)) | 0),
        (p = (p + Math.imul(we, bt)) | 0),
        (p = (p + Math.imul($e, it)) | 0),
        (O = (O + Math.imul($e, bt)) | 0);
      var Ti = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Ti >>> 26)) | 0),
        (Ti &= 67108863),
        (l = Math.imul(Ce, Pe)),
        (p = Math.imul(Ce, Ve)),
        (p = (p + Math.imul(ct, Pe)) | 0),
        (O = Math.imul(ct, Ve)),
        (l = (l + Math.imul(Ae, Te)) | 0),
        (p = (p + Math.imul(Ae, Nt)) | 0),
        (p = (p + Math.imul(Ye, Te)) | 0),
        (O = (O + Math.imul(Ye, Nt)) | 0),
        (l = (l + Math.imul(me, it)) | 0),
        (p = (p + Math.imul(me, bt)) | 0),
        (p = (p + Math.imul(je, it)) | 0),
        (O = (O + Math.imul(je, bt)) | 0);
      var qi = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (qi >>> 26)) | 0),
        (qi &= 67108863),
        (l = Math.imul(Ce, Te)),
        (p = Math.imul(Ce, Nt)),
        (p = (p + Math.imul(ct, Te)) | 0),
        (O = Math.imul(ct, Nt)),
        (l = (l + Math.imul(Ae, it)) | 0),
        (p = (p + Math.imul(Ae, bt)) | 0),
        (p = (p + Math.imul(Ye, it)) | 0),
        (O = (O + Math.imul(Ye, bt)) | 0);
      var Di = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      (E = (((O + (p >>> 13)) | 0) + (Di >>> 26)) | 0),
        (Di &= 67108863),
        (l = Math.imul(Ce, it)),
        (p = Math.imul(Ce, bt)),
        (p = (p + Math.imul(ct, it)) | 0),
        (O = Math.imul(ct, bt));
      var ns = (((E + l) | 0) + ((p & 8191) << 13)) | 0;
      return (
        (E = (((O + (p >>> 13)) | 0) + (ns >>> 26)) | 0),
        (ns &= 67108863),
        (S[0] = Er),
        (S[1] = Ir),
        (S[2] = Sr),
        (S[3] = Mr),
        (S[4] = Pr),
        (S[5] = Yt),
        (S[6] = Ur),
        (S[7] = Ci),
        (S[8] = jr),
        (S[9] = Ni),
        (S[10] = Oi),
        (S[11] = Kr),
        (S[12] = ui),
        (S[13] = di),
        (S[14] = cr),
        (S[15] = Ti),
        (S[16] = qi),
        (S[17] = Di),
        (S[18] = ns),
        E !== 0 && ((S[19] = E), b.length++),
        b
      );
    };
    Math.imul || (H = j);
    function Y(c, u, b) {
      (b.negative = u.negative ^ c.negative), (b.length = c.length + u.length);
      for (var w = 0, I = 0, S = 0; S < b.length - 1; S++) {
        var E = I;
        I = 0;
        for (
          var l = w & 67108863,
            p = Math.min(S, u.length - 1),
            O = Math.max(0, S - c.length + 1);
          O <= p;
          O++
        ) {
          var te = S - O,
            se = c.words[te] | 0,
            M = u.words[O] | 0,
            Z = se * M,
            B = Z & 67108863;
          (E = (E + ((Z / 67108864) | 0)) | 0),
            (B = (B + l) | 0),
            (l = B & 67108863),
            (E = (E + (B >>> 26)) | 0),
            (I += E >>> 26),
            (E &= 67108863);
        }
        (b.words[S] = l), (w = E), (E = I);
      }
      return w !== 0 ? (b.words[S] = w) : b.length--, b._strip();
    }
    function Q(c, u, b) {
      return Y(c, u, b);
    }
    (a.prototype.mulTo = function (c, u) {
      var b,
        w = this.length + c.length;
      return (
        this.length === 10 && c.length === 10
          ? (b = H(this, c, u))
          : w < 63
          ? (b = j(this, c, u))
          : w < 1024
          ? (b = Y(this, c, u))
          : (b = Q(this, c, u)),
        b
      );
    }),
      (a.prototype.mul = function (c) {
        var u = new a(null);
        return (u.words = new Array(this.length + c.length)), this.mulTo(c, u);
      }),
      (a.prototype.mulf = function (c) {
        var u = new a(null);
        return (u.words = new Array(this.length + c.length)), Q(this, c, u);
      }),
      (a.prototype.imul = function (c) {
        return this.clone().mulTo(c, this);
      }),
      (a.prototype.imuln = function (c) {
        var u = c < 0;
        u && (c = -c), i(typeof c == "number"), i(c < 67108864);
        for (var b = 0, w = 0; w < this.length; w++) {
          var I = (this.words[w] | 0) * c,
            S = (I & 67108863) + (b & 67108863);
          (b >>= 26),
            (b += (I / 67108864) | 0),
            (b += S >>> 26),
            (this.words[w] = S & 67108863);
        }
        return (
          b !== 0 && ((this.words[w] = b), this.length++),
          u ? this.ineg() : this
        );
      }),
      (a.prototype.muln = function (c) {
        return this.clone().imuln(c);
      }),
      (a.prototype.sqr = function () {
        return this.mul(this);
      }),
      (a.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (a.prototype.pow = function (c) {
        var u = L(c);
        if (u.length === 0) return new a(1);
        for (var b = this, w = 0; w < u.length && u[w] === 0; w++, b = b.sqr());
        if (++w < u.length)
          for (var I = b.sqr(); w < u.length; w++, I = I.sqr())
            u[w] !== 0 && (b = b.mul(I));
        return b;
      }),
      (a.prototype.iushln = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          b = (c - u) / 26,
          w = (67108863 >>> (26 - u)) << (26 - u),
          I;
        if (u !== 0) {
          var S = 0;
          for (I = 0; I < this.length; I++) {
            var E = this.words[I] & w,
              l = ((this.words[I] | 0) - E) << u;
            (this.words[I] = l | S), (S = E >>> (26 - u));
          }
          S && ((this.words[I] = S), this.length++);
        }
        if (b !== 0) {
          for (I = this.length - 1; I >= 0; I--)
            this.words[I + b] = this.words[I];
          for (I = 0; I < b; I++) this.words[I] = 0;
          this.length += b;
        }
        return this._strip();
      }),
      (a.prototype.ishln = function (c) {
        return i(this.negative === 0), this.iushln(c);
      }),
      (a.prototype.iushrn = function (c, u, b) {
        i(typeof c == "number" && c >= 0);
        var w;
        u ? (w = (u - (u % 26)) / 26) : (w = 0);
        var I = c % 26,
          S = Math.min((c - I) / 26, this.length),
          E = 67108863 ^ ((67108863 >>> I) << I),
          l = b;
        if (((w -= S), (w = Math.max(0, w)), l)) {
          for (var p = 0; p < S; p++) l.words[p] = this.words[p];
          l.length = S;
        }
        if (S !== 0)
          if (this.length > S)
            for (this.length -= S, p = 0; p < this.length; p++)
              this.words[p] = this.words[p + S];
          else (this.words[0] = 0), (this.length = 1);
        var O = 0;
        for (p = this.length - 1; p >= 0 && (O !== 0 || p >= w); p--) {
          var te = this.words[p] | 0;
          (this.words[p] = (O << (26 - I)) | (te >>> I)), (O = te & E);
        }
        return (
          l && O !== 0 && (l.words[l.length++] = O),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this._strip()
        );
      }),
      (a.prototype.ishrn = function (c, u, b) {
        return i(this.negative === 0), this.iushrn(c, u, b);
      }),
      (a.prototype.shln = function (c) {
        return this.clone().ishln(c);
      }),
      (a.prototype.ushln = function (c) {
        return this.clone().iushln(c);
      }),
      (a.prototype.shrn = function (c) {
        return this.clone().ishrn(c);
      }),
      (a.prototype.ushrn = function (c) {
        return this.clone().iushrn(c);
      }),
      (a.prototype.testn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          b = (c - u) / 26,
          w = 1 << u;
        if (this.length <= b) return !1;
        var I = this.words[b];
        return !!(I & w);
      }),
      (a.prototype.imaskn = function (c) {
        i(typeof c == "number" && c >= 0);
        var u = c % 26,
          b = (c - u) / 26;
        if (
          (i(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= b)
        )
          return this;
        if (
          (u !== 0 && b++, (this.length = Math.min(b, this.length)), u !== 0)
        ) {
          var w = 67108863 ^ ((67108863 >>> u) << u);
          this.words[this.length - 1] &= w;
        }
        return this._strip();
      }),
      (a.prototype.maskn = function (c) {
        return this.clone().imaskn(c);
      }),
      (a.prototype.iaddn = function (c) {
        return (
          i(typeof c == "number"),
          i(c < 67108864),
          c < 0
            ? this.isubn(-c)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) <= c
              ? ((this.words[0] = c - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(c), (this.negative = 1), this)
            : this._iaddn(c)
        );
      }),
      (a.prototype._iaddn = function (c) {
        this.words[0] += c;
        for (var u = 0; u < this.length && this.words[u] >= 67108864; u++)
          (this.words[u] -= 67108864),
            u === this.length - 1
              ? (this.words[u + 1] = 1)
              : this.words[u + 1]++;
        return (this.length = Math.max(this.length, u + 1)), this;
      }),
      (a.prototype.isubn = function (c) {
        if ((i(typeof c == "number"), i(c < 67108864), c < 0))
          return this.iaddn(-c);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(c), (this.negative = 1), this;
        if (((this.words[0] -= c), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var u = 0; u < this.length && this.words[u] < 0; u++)
            (this.words[u] += 67108864), (this.words[u + 1] -= 1);
        return this._strip();
      }),
      (a.prototype.addn = function (c) {
        return this.clone().iaddn(c);
      }),
      (a.prototype.subn = function (c) {
        return this.clone().isubn(c);
      }),
      (a.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (a.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (a.prototype._ishlnsubmul = function (c, u, b) {
        var w = c.length + b,
          I;
        this._expand(w);
        var S,
          E = 0;
        for (I = 0; I < c.length; I++) {
          S = (this.words[I + b] | 0) + E;
          var l = (c.words[I] | 0) * u;
          (S -= l & 67108863),
            (E = (S >> 26) - ((l / 67108864) | 0)),
            (this.words[I + b] = S & 67108863);
        }
        for (; I < this.length - b; I++)
          (S = (this.words[I + b] | 0) + E),
            (E = S >> 26),
            (this.words[I + b] = S & 67108863);
        if (E === 0) return this._strip();
        for (i(E === -1), E = 0, I = 0; I < this.length; I++)
          (S = -(this.words[I] | 0) + E),
            (E = S >> 26),
            (this.words[I] = S & 67108863);
        return (this.negative = 1), this._strip();
      }),
      (a.prototype._wordDiv = function (c, u) {
        var b = this.length - c.length,
          w = this.clone(),
          I = c,
          S = I.words[I.length - 1] | 0,
          E = this._countBits(S);
        (b = 26 - E),
          b !== 0 &&
            ((I = I.ushln(b)), w.iushln(b), (S = I.words[I.length - 1] | 0));
        var l = w.length - I.length,
          p;
        if (u !== "mod") {
          (p = new a(null)),
            (p.length = l + 1),
            (p.words = new Array(p.length));
          for (var O = 0; O < p.length; O++) p.words[O] = 0;
        }
        var te = w.clone()._ishlnsubmul(I, 1, l);
        te.negative === 0 && ((w = te), p && (p.words[l] = 1));
        for (var se = l - 1; se >= 0; se--) {
          var M =
            (w.words[I.length + se] | 0) * 67108864 +
            (w.words[I.length + se - 1] | 0);
          for (
            M = Math.min((M / S) | 0, 67108863), w._ishlnsubmul(I, M, se);
            w.negative !== 0;

          )
            M--,
              (w.negative = 0),
              w._ishlnsubmul(I, 1, se),
              w.isZero() || (w.negative ^= 1);
          p && (p.words[se] = M);
        }
        return (
          p && p._strip(),
          w._strip(),
          u !== "div" && b !== 0 && w.iushrn(b),
          { div: p || null, mod: w }
        );
      }),
      (a.prototype.divmod = function (c, u, b) {
        if ((i(!c.isZero()), this.isZero()))
          return { div: new a(0), mod: new a(0) };
        var w, I, S;
        return this.negative !== 0 && c.negative === 0
          ? ((S = this.neg().divmod(c, u)),
            u !== "mod" && (w = S.div.neg()),
            u !== "div" &&
              ((I = S.mod.neg()), b && I.negative !== 0 && I.iadd(c)),
            { div: w, mod: I })
          : this.negative === 0 && c.negative !== 0
          ? ((S = this.divmod(c.neg(), u)),
            u !== "mod" && (w = S.div.neg()),
            { div: w, mod: S.mod })
          : this.negative & c.negative
          ? ((S = this.neg().divmod(c.neg(), u)),
            u !== "div" &&
              ((I = S.mod.neg()), b && I.negative !== 0 && I.isub(c)),
            { div: S.div, mod: I })
          : c.length > this.length || this.cmp(c) < 0
          ? { div: new a(0), mod: this }
          : c.length === 1
          ? u === "div"
            ? { div: this.divn(c.words[0]), mod: null }
            : u === "mod"
            ? { div: null, mod: new a(this.modrn(c.words[0])) }
            : { div: this.divn(c.words[0]), mod: new a(this.modrn(c.words[0])) }
          : this._wordDiv(c, u);
      }),
      (a.prototype.div = function (c) {
        return this.divmod(c, "div", !1).div;
      }),
      (a.prototype.mod = function (c) {
        return this.divmod(c, "mod", !1).mod;
      }),
      (a.prototype.umod = function (c) {
        return this.divmod(c, "mod", !0).mod;
      }),
      (a.prototype.divRound = function (c) {
        var u = this.divmod(c);
        if (u.mod.isZero()) return u.div;
        var b = u.div.negative !== 0 ? u.mod.isub(c) : u.mod,
          w = c.ushrn(1),
          I = c.andln(1),
          S = b.cmp(w);
        return S < 0 || (I === 1 && S === 0)
          ? u.div
          : u.div.negative !== 0
          ? u.div.isubn(1)
          : u.div.iaddn(1);
      }),
      (a.prototype.modrn = function (c) {
        var u = c < 0;
        u && (c = -c), i(c <= 67108863);
        for (var b = (1 << 26) % c, w = 0, I = this.length - 1; I >= 0; I--)
          w = (b * w + (this.words[I] | 0)) % c;
        return u ? -w : w;
      }),
      (a.prototype.modn = function (c) {
        return this.modrn(c);
      }),
      (a.prototype.idivn = function (c) {
        var u = c < 0;
        u && (c = -c), i(c <= 67108863);
        for (var b = 0, w = this.length - 1; w >= 0; w--) {
          var I = (this.words[w] | 0) + b * 67108864;
          (this.words[w] = (I / c) | 0), (b = I % c);
        }
        return this._strip(), u ? this.ineg() : this;
      }),
      (a.prototype.divn = function (c) {
        return this.clone().idivn(c);
      }),
      (a.prototype.egcd = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var u = this,
          b = c.clone();
        u.negative !== 0 ? (u = u.umod(c)) : (u = u.clone());
        for (
          var w = new a(1), I = new a(0), S = new a(0), E = new a(1), l = 0;
          u.isEven() && b.isEven();

        )
          u.iushrn(1), b.iushrn(1), ++l;
        for (var p = b.clone(), O = u.clone(); !u.isZero(); ) {
          for (
            var te = 0, se = 1;
            !(u.words[0] & se) && te < 26;
            ++te, se <<= 1
          );
          if (te > 0)
            for (u.iushrn(te); te-- > 0; )
              (w.isOdd() || I.isOdd()) && (w.iadd(p), I.isub(O)),
                w.iushrn(1),
                I.iushrn(1);
          for (var M = 0, Z = 1; !(b.words[0] & Z) && M < 26; ++M, Z <<= 1);
          if (M > 0)
            for (b.iushrn(M); M-- > 0; )
              (S.isOdd() || E.isOdd()) && (S.iadd(p), E.isub(O)),
                S.iushrn(1),
                E.iushrn(1);
          u.cmp(b) >= 0
            ? (u.isub(b), w.isub(S), I.isub(E))
            : (b.isub(u), S.isub(w), E.isub(I));
        }
        return { a: S, b: E, gcd: b.iushln(l) };
      }),
      (a.prototype._invmp = function (c) {
        i(c.negative === 0), i(!c.isZero());
        var u = this,
          b = c.clone();
        u.negative !== 0 ? (u = u.umod(c)) : (u = u.clone());
        for (
          var w = new a(1), I = new a(0), S = b.clone();
          u.cmpn(1) > 0 && b.cmpn(1) > 0;

        ) {
          for (var E = 0, l = 1; !(u.words[0] & l) && E < 26; ++E, l <<= 1);
          if (E > 0)
            for (u.iushrn(E); E-- > 0; ) w.isOdd() && w.iadd(S), w.iushrn(1);
          for (var p = 0, O = 1; !(b.words[0] & O) && p < 26; ++p, O <<= 1);
          if (p > 0)
            for (b.iushrn(p); p-- > 0; ) I.isOdd() && I.iadd(S), I.iushrn(1);
          u.cmp(b) >= 0 ? (u.isub(b), w.isub(I)) : (b.isub(u), I.isub(w));
        }
        var te;
        return (
          u.cmpn(1) === 0 ? (te = w) : (te = I),
          te.cmpn(0) < 0 && te.iadd(c),
          te
        );
      }),
      (a.prototype.gcd = function (c) {
        if (this.isZero()) return c.abs();
        if (c.isZero()) return this.abs();
        var u = this.clone(),
          b = c.clone();
        (u.negative = 0), (b.negative = 0);
        for (var w = 0; u.isEven() && b.isEven(); w++) u.iushrn(1), b.iushrn(1);
        do {
          for (; u.isEven(); ) u.iushrn(1);
          for (; b.isEven(); ) b.iushrn(1);
          var I = u.cmp(b);
          if (I < 0) {
            var S = u;
            (u = b), (b = S);
          } else if (I === 0 || b.cmpn(1) === 0) break;
          u.isub(b);
        } while (!0);
        return b.iushln(w);
      }),
      (a.prototype.invm = function (c) {
        return this.egcd(c).a.umod(c);
      }),
      (a.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (a.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (a.prototype.andln = function (c) {
        return this.words[0] & c;
      }),
      (a.prototype.bincn = function (c) {
        i(typeof c == "number");
        var u = c % 26,
          b = (c - u) / 26,
          w = 1 << u;
        if (this.length <= b)
          return this._expand(b + 1), (this.words[b] |= w), this;
        for (var I = w, S = b; I !== 0 && S < this.length; S++) {
          var E = this.words[S] | 0;
          (E += I), (I = E >>> 26), (E &= 67108863), (this.words[S] = E);
        }
        return I !== 0 && ((this.words[S] = I), this.length++), this;
      }),
      (a.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (a.prototype.cmpn = function (c) {
        var u = c < 0;
        if (this.negative !== 0 && !u) return -1;
        if (this.negative === 0 && u) return 1;
        this._strip();
        var b;
        if (this.length > 1) b = 1;
        else {
          u && (c = -c), i(c <= 67108863, "Number is too big");
          var w = this.words[0] | 0;
          b = w === c ? 0 : w < c ? -1 : 1;
        }
        return this.negative !== 0 ? -b | 0 : b;
      }),
      (a.prototype.cmp = function (c) {
        if (this.negative !== 0 && c.negative === 0) return -1;
        if (this.negative === 0 && c.negative !== 0) return 1;
        var u = this.ucmp(c);
        return this.negative !== 0 ? -u | 0 : u;
      }),
      (a.prototype.ucmp = function (c) {
        if (this.length > c.length) return 1;
        if (this.length < c.length) return -1;
        for (var u = 0, b = this.length - 1; b >= 0; b--) {
          var w = this.words[b] | 0,
            I = c.words[b] | 0;
          if (w !== I) {
            w < I ? (u = -1) : w > I && (u = 1);
            break;
          }
        }
        return u;
      }),
      (a.prototype.gtn = function (c) {
        return this.cmpn(c) === 1;
      }),
      (a.prototype.gt = function (c) {
        return this.cmp(c) === 1;
      }),
      (a.prototype.gten = function (c) {
        return this.cmpn(c) >= 0;
      }),
      (a.prototype.gte = function (c) {
        return this.cmp(c) >= 0;
      }),
      (a.prototype.ltn = function (c) {
        return this.cmpn(c) === -1;
      }),
      (a.prototype.lt = function (c) {
        return this.cmp(c) === -1;
      }),
      (a.prototype.lten = function (c) {
        return this.cmpn(c) <= 0;
      }),
      (a.prototype.lte = function (c) {
        return this.cmp(c) <= 0;
      }),
      (a.prototype.eqn = function (c) {
        return this.cmpn(c) === 0;
      }),
      (a.prototype.eq = function (c) {
        return this.cmp(c) === 0;
      }),
      (a.red = function (c) {
        return new F(c);
      }),
      (a.prototype.toRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          i(this.negative === 0, "red works only with positives"),
          c.convertTo(this)._forceRed(c)
        );
      }),
      (a.prototype.fromRed = function () {
        return (
          i(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (a.prototype._forceRed = function (c) {
        return (this.red = c), this;
      }),
      (a.prototype.forceRed = function (c) {
        return (
          i(!this.red, "Already a number in reduction context"),
          this._forceRed(c)
        );
      }),
      (a.prototype.redAdd = function (c) {
        return (
          i(this.red, "redAdd works only with red numbers"),
          this.red.add(this, c)
        );
      }),
      (a.prototype.redIAdd = function (c) {
        return (
          i(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, c)
        );
      }),
      (a.prototype.redSub = function (c) {
        return (
          i(this.red, "redSub works only with red numbers"),
          this.red.sub(this, c)
        );
      }),
      (a.prototype.redISub = function (c) {
        return (
          i(this.red, "redISub works only with red numbers"),
          this.red.isub(this, c)
        );
      }),
      (a.prototype.redShl = function (c) {
        return (
          i(this.red, "redShl works only with red numbers"),
          this.red.shl(this, c)
        );
      }),
      (a.prototype.redMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.mul(this, c)
        );
      }),
      (a.prototype.redIMul = function (c) {
        return (
          i(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, c),
          this.red.imul(this, c)
        );
      }),
      (a.prototype.redSqr = function () {
        return (
          i(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (a.prototype.redISqr = function () {
        return (
          i(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (a.prototype.redSqrt = function () {
        return (
          i(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (a.prototype.redInvm = function () {
        return (
          i(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (a.prototype.redNeg = function () {
        return (
          i(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (a.prototype.redPow = function (c) {
        return (
          i(this.red && !c.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, c)
        );
      });
    var G = { k256: null, p224: null, p192: null, p25519: null };
    function ee(c, u) {
      (this.name = c),
        (this.p = new a(u, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new a(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (ee.prototype._tmp = function () {
      var c = new a(null);
      return (c.words = new Array(Math.ceil(this.n / 13))), c;
    }),
      (ee.prototype.ireduce = function (c) {
        var u = c,
          b;
        do
          this.split(u, this.tmp),
            (u = this.imulK(u)),
            (u = u.iadd(this.tmp)),
            (b = u.bitLength());
        while (b > this.n);
        var w = b < this.n ? -1 : u.ucmp(this.p);
        return (
          w === 0
            ? ((u.words[0] = 0), (u.length = 1))
            : w > 0
            ? u.isub(this.p)
            : u.strip !== void 0
            ? u.strip()
            : u._strip(),
          u
        );
      }),
      (ee.prototype.split = function (c, u) {
        c.iushrn(this.n, 0, u);
      }),
      (ee.prototype.imulK = function (c) {
        return c.imul(this.k);
      });
    function ne() {
      ee.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    s(ne, ee),
      (ne.prototype.split = function (c, u) {
        for (var b = 4194303, w = Math.min(c.length, 9), I = 0; I < w; I++)
          u.words[I] = c.words[I];
        if (((u.length = w), c.length <= 9)) {
          (c.words[0] = 0), (c.length = 1);
          return;
        }
        var S = c.words[9];
        for (u.words[u.length++] = S & b, I = 10; I < c.length; I++) {
          var E = c.words[I] | 0;
          (c.words[I - 10] = ((E & b) << 4) | (S >>> 22)), (S = E);
        }
        (S >>>= 22),
          (c.words[I - 10] = S),
          S === 0 && c.length > 10 ? (c.length -= 10) : (c.length -= 9);
      }),
      (ne.prototype.imulK = function (c) {
        (c.words[c.length] = 0), (c.words[c.length + 1] = 0), (c.length += 2);
        for (var u = 0, b = 0; b < c.length; b++) {
          var w = c.words[b] | 0;
          (u += w * 977),
            (c.words[b] = u & 67108863),
            (u = w * 64 + ((u / 67108864) | 0));
        }
        return (
          c.words[c.length - 1] === 0 &&
            (c.length--, c.words[c.length - 1] === 0 && c.length--),
          c
        );
      });
    function de() {
      ee.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    s(de, ee);
    function fe() {
      ee.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    s(fe, ee);
    function xe() {
      ee.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    s(xe, ee),
      (xe.prototype.imulK = function (c) {
        for (var u = 0, b = 0; b < c.length; b++) {
          var w = (c.words[b] | 0) * 19 + u,
            I = w & 67108863;
          (w >>>= 26), (c.words[b] = I), (u = w);
        }
        return u !== 0 && (c.words[c.length++] = u), c;
      }),
      (a._prime = function (c) {
        if (G[c]) return G[c];
        var u;
        if (c === "k256") u = new ne();
        else if (c === "p224") u = new de();
        else if (c === "p192") u = new fe();
        else if (c === "p25519") u = new xe();
        else throw new Error("Unknown prime " + c);
        return (G[c] = u), u;
      });
    function F(c) {
      if (typeof c == "string") {
        var u = a._prime(c);
        (this.m = u.p), (this.prime = u);
      } else
        i(c.gtn(1), "modulus must be greater than 1"),
          (this.m = c),
          (this.prime = null);
    }
    (F.prototype._verify1 = function (c) {
      i(c.negative === 0, "red works only with positives"),
        i(c.red, "red works only with red numbers");
    }),
      (F.prototype._verify2 = function (c, u) {
        i((c.negative | u.negative) === 0, "red works only with positives"),
          i(c.red && c.red === u.red, "red works only with red numbers");
      }),
      (F.prototype.imod = function (c) {
        return this.prime
          ? this.prime.ireduce(c)._forceRed(this)
          : (y(c, c.umod(this.m)._forceRed(this)), c);
      }),
      (F.prototype.neg = function (c) {
        return c.isZero() ? c.clone() : this.m.sub(c)._forceRed(this);
      }),
      (F.prototype.add = function (c, u) {
        this._verify2(c, u);
        var b = c.add(u);
        return b.cmp(this.m) >= 0 && b.isub(this.m), b._forceRed(this);
      }),
      (F.prototype.iadd = function (c, u) {
        this._verify2(c, u);
        var b = c.iadd(u);
        return b.cmp(this.m) >= 0 && b.isub(this.m), b;
      }),
      (F.prototype.sub = function (c, u) {
        this._verify2(c, u);
        var b = c.sub(u);
        return b.cmpn(0) < 0 && b.iadd(this.m), b._forceRed(this);
      }),
      (F.prototype.isub = function (c, u) {
        this._verify2(c, u);
        var b = c.isub(u);
        return b.cmpn(0) < 0 && b.iadd(this.m), b;
      }),
      (F.prototype.shl = function (c, u) {
        return this._verify1(c), this.imod(c.ushln(u));
      }),
      (F.prototype.imul = function (c, u) {
        return this._verify2(c, u), this.imod(c.imul(u));
      }),
      (F.prototype.mul = function (c, u) {
        return this._verify2(c, u), this.imod(c.mul(u));
      }),
      (F.prototype.isqr = function (c) {
        return this.imul(c, c.clone());
      }),
      (F.prototype.sqr = function (c) {
        return this.mul(c, c);
      }),
      (F.prototype.sqrt = function (c) {
        if (c.isZero()) return c.clone();
        var u = this.m.andln(3);
        if ((i(u % 2 === 1), u === 3)) {
          var b = this.m.add(new a(1)).iushrn(2);
          return this.pow(c, b);
        }
        for (var w = this.m.subn(1), I = 0; !w.isZero() && w.andln(1) === 0; )
          I++, w.iushrn(1);
        i(!w.isZero());
        var S = new a(1).toRed(this),
          E = S.redNeg(),
          l = this.m.subn(1).iushrn(1),
          p = this.m.bitLength();
        for (p = new a(2 * p * p).toRed(this); this.pow(p, l).cmp(E) !== 0; )
          p.redIAdd(E);
        for (
          var O = this.pow(p, w),
            te = this.pow(c, w.addn(1).iushrn(1)),
            se = this.pow(c, w),
            M = I;
          se.cmp(S) !== 0;

        ) {
          for (var Z = se, B = 0; Z.cmp(S) !== 0; B++) Z = Z.redSqr();
          i(B < M);
          var $ = this.pow(O, new a(1).iushln(M - B - 1));
          (te = te.redMul($)), (O = $.redSqr()), (se = se.redMul(O)), (M = B);
        }
        return te;
      }),
      (F.prototype.invm = function (c) {
        var u = c._invmp(this.m);
        return u.negative !== 0
          ? ((u.negative = 0), this.imod(u).redNeg())
          : this.imod(u);
      }),
      (F.prototype.pow = function (c, u) {
        if (u.isZero()) return new a(1).toRed(this);
        if (u.cmpn(1) === 0) return c.clone();
        var b = 4,
          w = new Array(1 << b);
        (w[0] = new a(1).toRed(this)), (w[1] = c);
        for (var I = 2; I < w.length; I++) w[I] = this.mul(w[I - 1], c);
        var S = w[0],
          E = 0,
          l = 0,
          p = u.bitLength() % 26;
        for (p === 0 && (p = 26), I = u.length - 1; I >= 0; I--) {
          for (var O = u.words[I], te = p - 1; te >= 0; te--) {
            var se = (O >> te) & 1;
            if ((S !== w[0] && (S = this.sqr(S)), se === 0 && E === 0)) {
              l = 0;
              continue;
            }
            (E <<= 1),
              (E |= se),
              l++,
              !(l !== b && (I !== 0 || te !== 0)) &&
                ((S = this.mul(S, w[E])), (l = 0), (E = 0));
          }
          p = 26;
        }
        return S;
      }),
      (F.prototype.convertTo = function (c) {
        var u = c.umod(this.m);
        return u === c ? u.clone() : u;
      }),
      (F.prototype.convertFrom = function (c) {
        var u = c.clone();
        return (u.red = null), u;
      }),
      (a.mont = function (c) {
        return new m(c);
      });
    function m(c) {
      F.call(this, c),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new a(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    s(m, F),
      (m.prototype.convertTo = function (c) {
        return this.imod(c.ushln(this.shift));
      }),
      (m.prototype.convertFrom = function (c) {
        var u = this.imod(c.mul(this.rinv));
        return (u.red = null), u;
      }),
      (m.prototype.imul = function (c, u) {
        if (c.isZero() || u.isZero())
          return (c.words[0] = 0), (c.length = 1), c;
        var b = c.imul(u),
          w = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          I = b.isub(w).iushrn(this.shift),
          S = I;
        return (
          I.cmp(this.m) >= 0
            ? (S = I.isub(this.m))
            : I.cmpn(0) < 0 && (S = I.iadd(this.m)),
          S._forceRed(this)
        );
      }),
      (m.prototype.mul = function (c, u) {
        if (c.isZero() || u.isZero()) return new a(0)._forceRed(this);
        var b = c.mul(u),
          w = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          I = b.isub(w).iushrn(this.shift),
          S = I;
        return (
          I.cmp(this.m) >= 0
            ? (S = I.isub(this.m))
            : I.cmpn(0) < 0 && (S = I.iadd(this.m)),
          S._forceRed(this)
        );
      }),
      (m.prototype.invm = function (c) {
        var u = this.imod(c._invmp(this.m).mul(this.r2));
        return u._forceRed(this);
      });
  })(r, Cg);
})(qg);
var vt = qg.exports;
const Dg = "bignumber/5.7.0";
var Yc = vt.BN;
const Tn = new Ar(Dg),
  su = {},
  Y8 = 9007199254740991;
function X8(r) {
  return (
    r != null &&
    (Ht.isBigNumber(r) ||
      (typeof r == "number" && r % 1 === 0) ||
      (typeof r == "string" && !!r.match(/^-?[0-9]+$/)) ||
      fi(r) ||
      typeof r == "bigint" ||
      ua(r))
  );
}
let qp = !1;
class Ht {
  constructor(e, t) {
    e !== su &&
      Tn.throwError(
        "cannot call constructor directly; use BigNumber.from",
        Ar.errors.UNSUPPORTED_OPERATION,
        { operation: "new (BigNumber)" }
      ),
      (this._hex = t),
      (this._isBigNumber = !0),
      Object.freeze(this);
  }
  fromTwos(e) {
    return Qr(Mt(this).fromTwos(e));
  }
  toTwos(e) {
    return Qr(Mt(this).toTwos(e));
  }
  abs() {
    return this._hex[0] === "-" ? Ht.from(this._hex.substring(1)) : this;
  }
  add(e) {
    return Qr(Mt(this).add(Mt(e)));
  }
  sub(e) {
    return Qr(Mt(this).sub(Mt(e)));
  }
  div(e) {
    return (
      Ht.from(e).isZero() && _i("division-by-zero", "div"),
      Qr(Mt(this).div(Mt(e)))
    );
  }
  mul(e) {
    return Qr(Mt(this).mul(Mt(e)));
  }
  mod(e) {
    const t = Mt(e);
    return t.isNeg() && _i("division-by-zero", "mod"), Qr(Mt(this).umod(t));
  }
  pow(e) {
    const t = Mt(e);
    return t.isNeg() && _i("negative-power", "pow"), Qr(Mt(this).pow(t));
  }
  and(e) {
    const t = Mt(e);
    return (
      (this.isNegative() || t.isNeg()) && _i("unbound-bitwise-result", "and"),
      Qr(Mt(this).and(t))
    );
  }
  or(e) {
    const t = Mt(e);
    return (
      (this.isNegative() || t.isNeg()) && _i("unbound-bitwise-result", "or"),
      Qr(Mt(this).or(t))
    );
  }
  xor(e) {
    const t = Mt(e);
    return (
      (this.isNegative() || t.isNeg()) && _i("unbound-bitwise-result", "xor"),
      Qr(Mt(this).xor(t))
    );
  }
  mask(e) {
    return (
      (this.isNegative() || e < 0) && _i("negative-width", "mask"),
      Qr(Mt(this).maskn(e))
    );
  }
  shl(e) {
    return (
      (this.isNegative() || e < 0) && _i("negative-width", "shl"),
      Qr(Mt(this).shln(e))
    );
  }
  shr(e) {
    return (
      (this.isNegative() || e < 0) && _i("negative-width", "shr"),
      Qr(Mt(this).shrn(e))
    );
  }
  eq(e) {
    return Mt(this).eq(Mt(e));
  }
  lt(e) {
    return Mt(this).lt(Mt(e));
  }
  lte(e) {
    return Mt(this).lte(Mt(e));
  }
  gt(e) {
    return Mt(this).gt(Mt(e));
  }
  gte(e) {
    return Mt(this).gte(Mt(e));
  }
  isNegative() {
    return this._hex[0] === "-";
  }
  isZero() {
    return Mt(this).isZero();
  }
  toNumber() {
    try {
      return Mt(this).toNumber();
    } catch {
      _i("overflow", "toNumber", this.toString());
    }
    return null;
  }
  toBigInt() {
    try {
      return BigInt(this.toString());
    } catch {}
    return Tn.throwError(
      "this platform does not support BigInt",
      Ar.errors.UNSUPPORTED_OPERATION,
      { value: this.toString() }
    );
  }
  toString() {
    return (
      arguments.length > 0 &&
        (arguments[0] === 10
          ? qp ||
            ((qp = !0),
            Tn.warn(
              "BigNumber.toString does not accept any parameters; base-10 is assumed"
            ))
          : arguments[0] === 16
          ? Tn.throwError(
              "BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",
              Ar.errors.UNEXPECTED_ARGUMENT,
              {}
            )
          : Tn.throwError(
              "BigNumber.toString does not accept parameters",
              Ar.errors.UNEXPECTED_ARGUMENT,
              {}
            )),
      Mt(this).toString(10)
    );
  }
  toHexString() {
    return this._hex;
  }
  toJSON(e) {
    return { type: "BigNumber", hex: this.toHexString() };
  }
  static from(e) {
    if (e instanceof Ht) return e;
    if (typeof e == "string")
      return e.match(/^-?0x[0-9a-f]+$/i)
        ? new Ht(su, io(e))
        : e.match(/^-?[0-9]+$/)
        ? new Ht(su, io(new Yc(e)))
        : Tn.throwArgumentError("invalid BigNumber string", "value", e);
    if (typeof e == "number")
      return (
        e % 1 && _i("underflow", "BigNumber.from", e),
        (e >= Y8 || e <= -9007199254740991) &&
          _i("overflow", "BigNumber.from", e),
        Ht.from(String(e))
      );
    const t = e;
    if (typeof t == "bigint") return Ht.from(t.toString());
    if (ua(t)) return Ht.from(Zr(t));
    if (t)
      if (t.toHexString) {
        const i = t.toHexString();
        if (typeof i == "string") return Ht.from(i);
      } else {
        let i = t._hex;
        if (
          (i == null && t.type === "BigNumber" && (i = t.hex),
          typeof i == "string" &&
            (fi(i) || (i[0] === "-" && fi(i.substring(1)))))
        )
          return Ht.from(i);
      }
    return Tn.throwArgumentError("invalid BigNumber value", "value", e);
  }
  static isBigNumber(e) {
    return !!(e && e._isBigNumber);
  }
}
function io(r) {
  if (typeof r != "string") return io(r.toString(16));
  if (r[0] === "-")
    return (
      (r = r.substring(1)),
      r[0] === "-" && Tn.throwArgumentError("invalid hex", "value", r),
      (r = io(r)),
      r === "0x00" ? r : "-" + r
    );
  if ((r.substring(0, 2) !== "0x" && (r = "0x" + r), r === "0x")) return "0x00";
  for (
    r.length % 2 && (r = "0x0" + r.substring(2));
    r.length > 4 && r.substring(0, 4) === "0x00";

  )
    r = "0x" + r.substring(4);
  return r;
}
function Qr(r) {
  return Ht.from(io(r));
}
function Mt(r) {
  const e = Ht.from(r).toHexString();
  return e[0] === "-"
    ? new Yc("-" + e.substring(3), 16)
    : new Yc(e.substring(2), 16);
}
function _i(r, e, t) {
  const i = { fault: r, operation: e };
  return (
    t != null && (i.value = t), Tn.throwError(r, Ar.errors.NUMERIC_FAULT, i)
  );
}
function Z8(r) {
  return new Yc(r, 36).toString(16);
}
const Lr = new Ar(Dg),
  Za = {},
  Bg = Ht.from(0),
  Fg = Ht.from(-1);
function Lg(r, e, t, i) {
  const s = { fault: e, operation: t };
  return (
    i !== void 0 && (s.value = i), Lr.throwError(r, Ar.errors.NUMERIC_FAULT, s)
  );
}
let eo = "0";
for (; eo.length < 256; ) eo += eo;
function Zu(r) {
  if (typeof r != "number")
    try {
      r = Ht.from(r).toNumber();
    } catch {}
  return typeof r == "number" && r >= 0 && r <= 256 && !(r % 1)
    ? "1" + eo.substring(0, r)
    : Lr.throwArgumentError("invalid decimal size", "decimals", r);
}
function au(r, e) {
  e == null && (e = 0);
  const t = Zu(e);
  r = Ht.from(r);
  const i = r.lt(Bg);
  i && (r = r.mul(Fg));
  let s = r.mod(t).toString();
  for (; s.length < t.length - 1; ) s = "0" + s;
  s = s.match(/^([0-9]*[1-9]|0)(0*)/)[1];
  const a = r.div(t).toString();
  return t.length === 1 ? (r = a) : (r = a + "." + s), i && (r = "-" + r), r;
}
function Nn(r, e) {
  e == null && (e = 0);
  const t = Zu(e);
  (typeof r != "string" || !r.match(/^-?[0-9.]+$/)) &&
    Lr.throwArgumentError("invalid decimal value", "value", r);
  const i = r.substring(0, 1) === "-";
  i && (r = r.substring(1)),
    r === "." && Lr.throwArgumentError("missing value", "value", r);
  const s = r.split(".");
  s.length > 2 && Lr.throwArgumentError("too many decimal points", "value", r);
  let a = s[0],
    f = s[1];
  for (a || (a = "0"), f || (f = "0"); f[f.length - 1] === "0"; )
    f = f.substring(0, f.length - 1);
  for (
    f.length > t.length - 1 &&
      Lg("fractional component exceeds decimals", "underflow", "parseFixed"),
      f === "" && (f = "0");
    f.length < t.length - 1;

  )
    f += "0";
  const g = Ht.from(a),
    v = Ht.from(f);
  let h = g.mul(t).add(v);
  return i && (h = h.mul(Fg)), h;
}
let ou = class Ou {
    constructor(e, t, i, s) {
      e !== Za &&
        Lr.throwError(
          "cannot use FixedFormat constructor; use FixedFormat.from",
          Ar.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.signed = t),
        (this.width = i),
        (this.decimals = s),
        (this.name = (t ? "" : "u") + "fixed" + String(i) + "x" + String(s)),
        (this._multiplier = Zu(s)),
        Object.freeze(this);
    }
    static from(e) {
      if (e instanceof Ou) return e;
      typeof e == "number" && (e = `fixed128x${e}`);
      let t = !0,
        i = 128,
        s = 18;
      if (typeof e == "string") {
        if (e !== "fixed")
          if (e === "ufixed") t = !1;
          else {
            const a = e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);
            a || Lr.throwArgumentError("invalid fixed format", "format", e),
              (t = a[1] !== "u"),
              (i = parseInt(a[2])),
              (s = parseInt(a[3]));
          }
      } else if (e) {
        const a = (f, g, v) =>
          e[f] == null
            ? v
            : (typeof e[f] !== g &&
                Lr.throwArgumentError(
                  "invalid fixed format (" + f + " not " + g + ")",
                  "format." + f,
                  e[f]
                ),
              e[f]);
        (t = a("signed", "boolean", t)),
          (i = a("width", "number", i)),
          (s = a("decimals", "number", s));
      }
      return (
        i % 8 &&
          Lr.throwArgumentError(
            "invalid fixed format width (not byte aligned)",
            "format.width",
            i
          ),
        s > 80 &&
          Lr.throwArgumentError(
            "invalid fixed format (decimals too large)",
            "format.decimals",
            s
          ),
        new Ou(Za, t, i, s)
      );
    }
  },
  kg = class Br {
    constructor(e, t, i, s) {
      e !== Za &&
        Lr.throwError(
          "cannot use FixedNumber constructor; use FixedNumber.from",
          Ar.errors.UNSUPPORTED_OPERATION,
          { operation: "new FixedFormat" }
        ),
        (this.format = s),
        (this._hex = t),
        (this._value = i),
        (this._isFixedNumber = !0),
        Object.freeze(this);
    }
    _checkFormat(e) {
      this.format.name !== e.format.name &&
        Lr.throwArgumentError(
          "incompatible format; use fixedNumber.toFormat",
          "other",
          e
        );
    }
    addUnsafe(e) {
      this._checkFormat(e);
      const t = Nn(this._value, this.format.decimals),
        i = Nn(e._value, e.format.decimals);
      return Br.fromValue(t.add(i), this.format.decimals, this.format);
    }
    subUnsafe(e) {
      this._checkFormat(e);
      const t = Nn(this._value, this.format.decimals),
        i = Nn(e._value, e.format.decimals);
      return Br.fromValue(t.sub(i), this.format.decimals, this.format);
    }
    mulUnsafe(e) {
      this._checkFormat(e);
      const t = Nn(this._value, this.format.decimals),
        i = Nn(e._value, e.format.decimals);
      return Br.fromValue(
        t.mul(i).div(this.format._multiplier),
        this.format.decimals,
        this.format
      );
    }
    divUnsafe(e) {
      this._checkFormat(e);
      const t = Nn(this._value, this.format.decimals),
        i = Nn(e._value, e.format.decimals);
      return Br.fromValue(
        t.mul(this.format._multiplier).div(i),
        this.format.decimals,
        this.format
      );
    }
    floor() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Br.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        this.isNegative() && i && (t = t.subUnsafe(Dp.toFormat(t.format))), t
      );
    }
    ceiling() {
      const e = this.toString().split(".");
      e.length === 1 && e.push("0");
      let t = Br.from(e[0], this.format);
      const i = !e[1].match(/^(0*)$/);
      return (
        !this.isNegative() && i && (t = t.addUnsafe(Dp.toFormat(t.format))), t
      );
    }
    round(e) {
      e == null && (e = 0);
      const t = this.toString().split(".");
      if (
        (t.length === 1 && t.push("0"),
        (e < 0 || e > 80 || e % 1) &&
          Lr.throwArgumentError("invalid decimal count", "decimals", e),
        t[1].length <= e)
      )
        return this;
      const i = Br.from("1" + eo.substring(0, e), this.format),
        s = e9.toFormat(this.format);
      return this.mulUnsafe(i).addUnsafe(s).floor().divUnsafe(i);
    }
    isZero() {
      return this._value === "0.0" || this._value === "0";
    }
    isNegative() {
      return this._value[0] === "-";
    }
    toString() {
      return this._value;
    }
    toHexString(e) {
      if (e == null) return this._hex;
      e % 8 && Lr.throwArgumentError("invalid byte width", "width", e);
      const t = Ht.from(this._hex)
        .fromTwos(this.format.width)
        .toTwos(e)
        .toHexString();
      return dn(t, e / 8);
    }
    toUnsafeFloat() {
      return parseFloat(this.toString());
    }
    toFormat(e) {
      return Br.fromString(this._value, e);
    }
    static fromValue(e, t, i) {
      return (
        i == null && t != null && !X8(t) && ((i = t), (t = null)),
        t == null && (t = 0),
        i == null && (i = "fixed"),
        Br.fromString(au(e, t), ou.from(i))
      );
    }
    static fromString(e, t) {
      t == null && (t = "fixed");
      const i = ou.from(t),
        s = Nn(e, i.decimals);
      !i.signed &&
        s.lt(Bg) &&
        Lg("unsigned value cannot be negative", "overflow", "value", e);
      let a = null;
      i.signed
        ? (a = s.toTwos(i.width).toHexString())
        : ((a = s.toHexString()), (a = dn(a, i.width / 8)));
      const f = au(s, i.decimals);
      return new Br(Za, a, f, i);
    }
    static fromBytes(e, t) {
      t == null && (t = "fixed");
      const i = ou.from(t);
      if (er(e).length > i.width / 8) throw new Error("overflow");
      let s = Ht.from(e);
      i.signed && (s = s.fromTwos(i.width));
      const a = s.toTwos((i.signed ? 0 : 1) + i.width).toHexString(),
        f = au(s, i.decimals);
      return new Br(Za, a, f, i);
    }
    static from(e, t) {
      if (typeof e == "string") return Br.fromString(e, t);
      if (ua(e)) return Br.fromBytes(e, t);
      try {
        return Br.fromValue(e, 0, t);
      } catch (i) {
        if (i.code !== Ar.errors.INVALID_ARGUMENT) throw i;
      }
      return Lr.throwArgumentError("invalid FixedNumber value", "value", e);
    }
    static isFixedNumber(e) {
      return !!(e && e._isFixedNumber);
    }
  };
const Dp = kg.from(1),
  e9 = kg.from("0.5"),
  t9 = "strings/5.7.0",
  r9 = new Ar(t9);
var Xc;
(function (r) {
  (r.current = ""),
    (r.NFC = "NFC"),
    (r.NFD = "NFD"),
    (r.NFKC = "NFKC"),
    (r.NFKD = "NFKD");
})(Xc || (Xc = {}));
var Bp;
(function (r) {
  (r.UNEXPECTED_CONTINUE = "unexpected continuation byte"),
    (r.BAD_PREFIX = "bad codepoint prefix"),
    (r.OVERRUN = "string overrun"),
    (r.MISSING_CONTINUE = "missing continuation byte"),
    (r.OUT_OF_RANGE = "out of UTF-8 range"),
    (r.UTF16_SURROGATE = "UTF-16 surrogate"),
    (r.OVERLONG = "overlong representation");
})(Bp || (Bp = {}));
function cu(r, e = Xc.current) {
  e != Xc.current && (r9.checkNormalize(), (r = r.normalize(e)));
  let t = [];
  for (let i = 0; i < r.length; i++) {
    const s = r.charCodeAt(i);
    if (s < 128) t.push(s);
    else if (s < 2048) t.push((s >> 6) | 192), t.push((s & 63) | 128);
    else if ((s & 64512) == 55296) {
      i++;
      const a = r.charCodeAt(i);
      if (i >= r.length || (a & 64512) !== 56320)
        throw new Error("invalid utf-8 string");
      const f = 65536 + ((s & 1023) << 10) + (a & 1023);
      t.push((f >> 18) | 240),
        t.push(((f >> 12) & 63) | 128),
        t.push(((f >> 6) & 63) | 128),
        t.push((f & 63) | 128);
    } else
      t.push((s >> 12) | 224),
        t.push(((s >> 6) & 63) | 128),
        t.push((s & 63) | 128);
  }
  return er(t);
}
function i9(r) {
  if (r.length % 4 !== 0) throw new Error("bad data");
  let e = [];
  for (let t = 0; t < r.length; t += 4)
    e.push(parseInt(r.substring(t, t + 4), 16));
  return e;
}
function fu(r, e) {
  e ||
    (e = function (s) {
      return [parseInt(s, 16)];
    });
  let t = 0,
    i = {};
  return (
    r.split(",").forEach((s) => {
      let a = s.split(":");
      (t += parseInt(a[0], 16)), (i[t] = e(a[1]));
    }),
    i
  );
}
function Fp(r) {
  let e = 0;
  return r.split(",").map((t) => {
    let i = t.split("-");
    i.length === 1 ? (i[1] = "0") : i[1] === "" && (i[1] = "1");
    let s = e + parseInt(i[0], 16);
    return (e = parseInt(i[1], 16)), { l: s, h: e };
  });
}
Fp(
  "221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"
),
  "ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff"
    .split(",")
    .map((r) => parseInt(r, 16)),
  fu(
    "b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"
  ),
  fu(
    "179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"
  ),
  fu(
    "df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",
    i9
  ),
  Fp(
    "80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001"
  );
function n9(r) {
  r = atob(r);
  const e = [];
  for (let t = 0; t < r.length; t++) e.push(r.charCodeAt(t));
  return er(e);
}
function zg(r, e) {
  e == null && (e = 1);
  const t = [],
    i = t.forEach,
    s = function (a, f) {
      i.call(a, function (g) {
        f > 0 && Array.isArray(g) ? s(g, f - 1) : t.push(g);
      });
    };
  return s(r, e), t;
}
function s9(r) {
  const e = {};
  for (let t = 0; t < r.length; t++) {
    const i = r[t];
    e[i[0]] = i[1];
  }
  return e;
}
function a9(r) {
  let e = 0;
  function t() {
    return (r[e++] << 8) | r[e++];
  }
  let i = t(),
    s = 1,
    a = [0, 1];
  for (let G = 1; G < i; G++) a.push((s += t()));
  let f = t(),
    g = e;
  e += f;
  let v = 0,
    h = 0;
  function y() {
    return v == 0 && ((h = (h << 8) | r[e++]), (v = 8)), (h >> --v) & 1;
  }
  const A = 31,
    P = Math.pow(2, A),
    R = P >>> 1,
    C = R >> 1,
    q = P - 1;
  let L = 0;
  for (let G = 0; G < A; G++) L = (L << 1) | y();
  let j = [],
    H = 0,
    Y = P;
  for (;;) {
    let G = Math.floor(((L - H + 1) * s - 1) / Y),
      ee = 0,
      ne = i;
    for (; ne - ee > 1; ) {
      let xe = (ee + ne) >>> 1;
      G < a[xe] ? (ne = xe) : (ee = xe);
    }
    if (ee == 0) break;
    j.push(ee);
    let de = H + Math.floor((Y * a[ee]) / s),
      fe = H + Math.floor((Y * a[ee + 1]) / s) - 1;
    for (; !((de ^ fe) & R); )
      (L = ((L << 1) & q) | y()),
        (de = (de << 1) & q),
        (fe = ((fe << 1) & q) | 1);
    for (; de & ~fe & C; )
      (L = (L & R) | ((L << 1) & (q >>> 1)) | y()),
        (de = (de << 1) ^ R),
        (fe = ((fe ^ R) << 1) | R | 1);
    (H = de), (Y = 1 + fe - de);
  }
  let Q = i - 4;
  return j.map((G) => {
    switch (G - Q) {
      case 3:
        return Q + 65792 + ((r[g++] << 16) | (r[g++] << 8) | r[g++]);
      case 2:
        return Q + 256 + ((r[g++] << 8) | r[g++]);
      case 1:
        return Q + r[g++];
      default:
        return G - 1;
    }
  });
}
function o9(r) {
  let e = 0;
  return () => r[e++];
}
function c9(r) {
  return o9(a9(r));
}
function f9(r) {
  return r & 1 ? ~r >> 1 : r >> 1;
}
function h9(r, e) {
  let t = Array(r);
  for (let i = 0; i < r; i++) t[i] = 1 + e();
  return t;
}
function Lp(r, e) {
  let t = Array(r);
  for (let i = 0, s = -1; i < r; i++) t[i] = s += 1 + e();
  return t;
}
function u9(r, e) {
  let t = Array(r);
  for (let i = 0, s = 0; i < r; i++) t[i] = s += f9(e());
  return t;
}
function Zc(r, e) {
  let t = Lp(r(), r),
    i = r(),
    s = Lp(i, r),
    a = h9(i, r);
  for (let f = 0; f < i; f++) for (let g = 0; g < a[f]; g++) t.push(s[f] + g);
  return e ? t.map((f) => e[f]) : t;
}
function d9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(p9(t, r));
  }
  for (;;) {
    let t = r() - 1;
    if (t < 0) break;
    e.push(g9(t, r));
  }
  return s9(zg(e));
}
function l9(r) {
  let e = [];
  for (;;) {
    let t = r();
    if (t == 0) break;
    e.push(t);
  }
  return e;
}
function $g(r, e, t) {
  let i = Array(r)
    .fill(void 0)
    .map(() => []);
  for (let s = 0; s < e; s++) u9(r, t).forEach((a, f) => i[f].push(a));
  return i;
}
function p9(r, e) {
  let t = 1 + e(),
    i = e(),
    s = l9(e),
    a = $g(s.length, 1 + r, e);
  return zg(
    a.map((f, g) => {
      const v = f[0],
        h = f.slice(1);
      return Array(s[g])
        .fill(void 0)
        .map((y, A) => {
          let P = A * i;
          return [v + A * t, h.map((R) => R + P)];
        });
    })
  );
}
function g9(r, e) {
  let t = 1 + e();
  return $g(t, 1 + r, e).map((i) => [i[0], i.slice(1)]);
}
function v9(r) {
  let e = Zc(r).sort((i, s) => i - s);
  return t();
  function t() {
    let i = [];
    for (;;) {
      let h = Zc(r, e);
      if (h.length == 0) break;
      i.push({ set: new Set(h), node: t() });
    }
    i.sort((h, y) => y.set.size - h.set.size);
    let s = r(),
      a = s % 3;
    s = (s / 3) | 0;
    let f = !!(s & 1);
    s >>= 1;
    let g = s == 1,
      v = s == 2;
    return { branches: i, valid: a, fe0f: f, save: g, check: v };
  }
}
function b9() {
  return c9(
    n9(
      "AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="
    )
  );
}
const Ic = b9();
new Set(Zc(Ic)), new Set(Zc(Ic)), d9(Ic), v9(Ic);
const m9 = new Uint8Array(32);
m9.fill(0);
const y9 = `Ethereum Signed Message:
`;
function Ug(r) {
  return (
    typeof r == "string" && (r = cu(r)),
    Xu(H8([cu(y9), cu(String(r.length)), r]))
  );
}
const w9 = "address/5.7.0",
  Ja = new Ar(w9);
function kp(r) {
  fi(r, 20) || Ja.throwArgumentError("invalid address", "address", r),
    (r = r.toLowerCase());
  const e = r.substring(2).split(""),
    t = new Uint8Array(40);
  for (let s = 0; s < 40; s++) t[s] = e[s].charCodeAt(0);
  const i = er(Xu(t));
  for (let s = 0; s < 40; s += 2)
    i[s >> 1] >> 4 >= 8 && (e[s] = e[s].toUpperCase()),
      (i[s >> 1] & 15) >= 8 && (e[s + 1] = e[s + 1].toUpperCase());
  return "0x" + e.join("");
}
const _9 = 9007199254740991;
function A9(r) {
  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;
}
const ed = {};
for (let r = 0; r < 10; r++) ed[String(r)] = String(r);
for (let r = 0; r < 26; r++) ed[String.fromCharCode(65 + r)] = String(10 + r);
const zp = Math.floor(A9(_9));
function x9(r) {
  (r = r.toUpperCase()), (r = r.substring(4) + r.substring(0, 2) + "00");
  let e = r
    .split("")
    .map((i) => ed[i])
    .join("");
  for (; e.length >= zp; ) {
    let i = e.substring(0, zp);
    e = (parseInt(i, 10) % 97) + e.substring(i.length);
  }
  let t = String(98 - (parseInt(e, 10) % 97));
  for (; t.length < 2; ) t = "0" + t;
  return t;
}
function E9(r) {
  let e = null;
  if (
    (typeof r != "string" &&
      Ja.throwArgumentError("invalid address", "address", r),
    r.match(/^(0x)?[0-9a-fA-F]{40}$/))
  )
    r.substring(0, 2) !== "0x" && (r = "0x" + r),
      (e = kp(r)),
      r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) &&
        e !== r &&
        Ja.throwArgumentError("bad address checksum", "address", r);
  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {
    for (
      r.substring(2, 4) !== x9(r) &&
        Ja.throwArgumentError("bad icap checksum", "address", r),
        e = Z8(r.substring(4));
      e.length < 40;

    )
      e = "0" + e;
    e = kp("0x" + e);
  } else Ja.throwArgumentError("invalid address", "address", r);
  return e;
}
function Fa(r, e, t) {
  Object.defineProperty(r, e, { enumerable: !0, value: t, writable: !1 });
}
const I9 = new Uint8Array(32);
I9.fill(0), Ht.from(-1);
const S9 = Ht.from(0),
  M9 = Ht.from(1);
Ht.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),
  dn(M9.toHexString(), 32),
  dn(S9.toHexString(), 32);
var on = {},
  Pt = {},
  go = jg;
function jg(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
jg.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var Tu = { exports: {} };
typeof Object.create == "function"
  ? (Tu.exports = function (r, e) {
      e &&
        ((r.super_ = e),
        (r.prototype = Object.create(e.prototype, {
          constructor: {
            value: r,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })));
    })
  : (Tu.exports = function (r, e) {
      if (e) {
        r.super_ = e;
        var t = function () {};
        (t.prototype = e.prototype),
          (r.prototype = new t()),
          (r.prototype.constructor = r);
      }
    });
var P9 = go,
  R9 = Tu.exports;
Pt.inherits = R9;
function C9(r, e) {
  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length
    ? !1
    : (r.charCodeAt(e + 1) & 64512) === 56320;
}
function N9(r, e) {
  if (Array.isArray(r)) return r.slice();
  if (!r) return [];
  var t = [];
  if (typeof r == "string")
    if (e) {
      if (e === "hex")
        for (
          r = r.replace(/[^a-z0-9]+/gi, ""),
            r.length % 2 !== 0 && (r = "0" + r),
            s = 0;
          s < r.length;
          s += 2
        )
          t.push(parseInt(r[s] + r[s + 1], 16));
    } else
      for (var i = 0, s = 0; s < r.length; s++) {
        var a = r.charCodeAt(s);
        a < 128
          ? (t[i++] = a)
          : a < 2048
          ? ((t[i++] = (a >> 6) | 192), (t[i++] = (a & 63) | 128))
          : C9(r, s)
          ? ((a = 65536 + ((a & 1023) << 10) + (r.charCodeAt(++s) & 1023)),
            (t[i++] = (a >> 18) | 240),
            (t[i++] = ((a >> 12) & 63) | 128),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128))
          : ((t[i++] = (a >> 12) | 224),
            (t[i++] = ((a >> 6) & 63) | 128),
            (t[i++] = (a & 63) | 128));
      }
  else for (s = 0; s < r.length; s++) t[s] = r[s] | 0;
  return t;
}
Pt.toArray = N9;
function O9(r) {
  for (var e = "", t = 0; t < r.length; t++) e += Hg(r[t].toString(16));
  return e;
}
Pt.toHex = O9;
function Kg(r) {
  var e =
    (r >>> 24) |
    ((r >>> 8) & 65280) |
    ((r << 8) & 16711680) |
    ((r & 255) << 24);
  return e >>> 0;
}
Pt.htonl = Kg;
function T9(r, e) {
  for (var t = "", i = 0; i < r.length; i++) {
    var s = r[i];
    e === "little" && (s = Kg(s)), (t += Vg(s.toString(16)));
  }
  return t;
}
Pt.toHex32 = T9;
function Hg(r) {
  return r.length === 1 ? "0" + r : r;
}
Pt.zero2 = Hg;
function Vg(r) {
  return r.length === 7
    ? "0" + r
    : r.length === 6
    ? "00" + r
    : r.length === 5
    ? "000" + r
    : r.length === 4
    ? "0000" + r
    : r.length === 3
    ? "00000" + r
    : r.length === 2
    ? "000000" + r
    : r.length === 1
    ? "0000000" + r
    : r;
}
Pt.zero8 = Vg;
function q9(r, e, t, i) {
  var s = t - e;
  P9(s % 4 === 0);
  for (var a = new Array(s / 4), f = 0, g = e; f < a.length; f++, g += 4) {
    var v;
    i === "big"
      ? (v = (r[g] << 24) | (r[g + 1] << 16) | (r[g + 2] << 8) | r[g + 3])
      : (v = (r[g + 3] << 24) | (r[g + 2] << 16) | (r[g + 1] << 8) | r[g]),
      (a[f] = v >>> 0);
  }
  return a;
}
Pt.join32 = q9;
function D9(r, e) {
  for (
    var t = new Array(r.length * 4), i = 0, s = 0;
    i < r.length;
    i++, s += 4
  ) {
    var a = r[i];
    e === "big"
      ? ((t[s] = a >>> 24),
        (t[s + 1] = (a >>> 16) & 255),
        (t[s + 2] = (a >>> 8) & 255),
        (t[s + 3] = a & 255))
      : ((t[s + 3] = a >>> 24),
        (t[s + 2] = (a >>> 16) & 255),
        (t[s + 1] = (a >>> 8) & 255),
        (t[s] = a & 255));
  }
  return t;
}
Pt.split32 = D9;
function B9(r, e) {
  return (r >>> e) | (r << (32 - e));
}
Pt.rotr32 = B9;
function F9(r, e) {
  return (r << e) | (r >>> (32 - e));
}
Pt.rotl32 = F9;
function L9(r, e) {
  return (r + e) >>> 0;
}
Pt.sum32 = L9;
function k9(r, e, t) {
  return (r + e + t) >>> 0;
}
Pt.sum32_3 = k9;
function z9(r, e, t, i) {
  return (r + e + t + i) >>> 0;
}
Pt.sum32_4 = z9;
function $9(r, e, t, i, s) {
  return (r + e + t + i + s) >>> 0;
}
Pt.sum32_5 = $9;
function U9(r, e, t, i) {
  var s = r[e],
    a = r[e + 1],
    f = (i + a) >>> 0,
    g = (f < i ? 1 : 0) + t + s;
  (r[e] = g >>> 0), (r[e + 1] = f);
}
Pt.sum64 = U9;
function j9(r, e, t, i) {
  var s = (e + i) >>> 0,
    a = (s < e ? 1 : 0) + r + t;
  return a >>> 0;
}
Pt.sum64_hi = j9;
function K9(r, e, t, i) {
  var s = e + i;
  return s >>> 0;
}
Pt.sum64_lo = K9;
function H9(r, e, t, i, s, a, f, g) {
  var v = 0,
    h = e;
  (h = (h + i) >>> 0),
    (v += h < e ? 1 : 0),
    (h = (h + a) >>> 0),
    (v += h < a ? 1 : 0),
    (h = (h + g) >>> 0),
    (v += h < g ? 1 : 0);
  var y = r + t + s + f + v;
  return y >>> 0;
}
Pt.sum64_4_hi = H9;
function V9(r, e, t, i, s, a, f, g) {
  var v = e + i + a + g;
  return v >>> 0;
}
Pt.sum64_4_lo = V9;
function G9(r, e, t, i, s, a, f, g, v, h) {
  var y = 0,
    A = e;
  (A = (A + i) >>> 0),
    (y += A < e ? 1 : 0),
    (A = (A + a) >>> 0),
    (y += A < a ? 1 : 0),
    (A = (A + g) >>> 0),
    (y += A < g ? 1 : 0),
    (A = (A + h) >>> 0),
    (y += A < h ? 1 : 0);
  var P = r + t + s + f + v + y;
  return P >>> 0;
}
Pt.sum64_5_hi = G9;
function J9(r, e, t, i, s, a, f, g, v, h) {
  var y = e + i + a + g + h;
  return y >>> 0;
}
Pt.sum64_5_lo = J9;
function W9(r, e, t) {
  var i = (e << (32 - t)) | (r >>> t);
  return i >>> 0;
}
Pt.rotr64_hi = W9;
function Q9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Pt.rotr64_lo = Q9;
function Y9(r, e, t) {
  return r >>> t;
}
Pt.shr64_hi = Y9;
function X9(r, e, t) {
  var i = (r << (32 - t)) | (e >>> t);
  return i >>> 0;
}
Pt.shr64_lo = X9;
var da = {},
  $p = Pt,
  Z9 = go;
function Sc() {
  (this.pending = null),
    (this.pendingTotal = 0),
    (this.blockSize = this.constructor.blockSize),
    (this.outSize = this.constructor.outSize),
    (this.hmacStrength = this.constructor.hmacStrength),
    (this.padLength = this.constructor.padLength / 8),
    (this.endian = "big"),
    (this._delta8 = this.blockSize / 8),
    (this._delta32 = this.blockSize / 32);
}
(da.BlockHash = Sc),
  (Sc.prototype.update = function (r, e) {
    if (
      ((r = $p.toArray(r, e)),
      this.pending
        ? (this.pending = this.pending.concat(r))
        : (this.pending = r),
      (this.pendingTotal += r.length),
      this.pending.length >= this._delta8)
    ) {
      r = this.pending;
      var t = r.length % this._delta8;
      (this.pending = r.slice(r.length - t, r.length)),
        this.pending.length === 0 && (this.pending = null),
        (r = $p.join32(r, 0, r.length - t, this.endian));
      for (var i = 0; i < r.length; i += this._delta32)
        this._update(r, i, i + this._delta32);
    }
    return this;
  }),
  (Sc.prototype.digest = function (r) {
    return this.update(this._pad()), Z9(this.pending === null), this._digest(r);
  }),
  (Sc.prototype._pad = function () {
    var r = this.pendingTotal,
      e = this._delta8,
      t = e - ((r + this.padLength) % e),
      i = new Array(t + this.padLength);
    i[0] = 128;
    for (var s = 1; s < t; s++) i[s] = 0;
    if (((r <<= 3), this.endian === "big")) {
      for (var a = 8; a < this.padLength; a++) i[s++] = 0;
      (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = 0),
        (i[s++] = (r >>> 24) & 255),
        (i[s++] = (r >>> 16) & 255),
        (i[s++] = (r >>> 8) & 255),
        (i[s++] = r & 255);
    } else
      for (
        i[s++] = r & 255,
          i[s++] = (r >>> 8) & 255,
          i[s++] = (r >>> 16) & 255,
          i[s++] = (r >>> 24) & 255,
          i[s++] = 0,
          i[s++] = 0,
          i[s++] = 0,
          i[s++] = 0,
          a = 8;
        a < this.padLength;
        a++
      )
        i[s++] = 0;
    return i;
  });
var ea = {},
  wn = {},
  e7 = Pt,
  ln = e7.rotr32;
function t7(r, e, t, i) {
  if (r === 0) return Gg(e, t, i);
  if (r === 1 || r === 3) return Wg(e, t, i);
  if (r === 2) return Jg(e, t, i);
}
wn.ft_1 = t7;
function Gg(r, e, t) {
  return (r & e) ^ (~r & t);
}
wn.ch32 = Gg;
function Jg(r, e, t) {
  return (r & e) ^ (r & t) ^ (e & t);
}
wn.maj32 = Jg;
function Wg(r, e, t) {
  return r ^ e ^ t;
}
wn.p32 = Wg;
function r7(r) {
  return ln(r, 2) ^ ln(r, 13) ^ ln(r, 22);
}
wn.s0_256 = r7;
function i7(r) {
  return ln(r, 6) ^ ln(r, 11) ^ ln(r, 25);
}
wn.s1_256 = i7;
function n7(r) {
  return ln(r, 7) ^ ln(r, 18) ^ (r >>> 3);
}
wn.g0_256 = n7;
function s7(r) {
  return ln(r, 17) ^ ln(r, 19) ^ (r >>> 10);
}
wn.g1_256 = s7;
var oa = Pt,
  a7 = da,
  o7 = wn,
  hu = oa.rotl32,
  La = oa.sum32,
  c7 = oa.sum32_5,
  f7 = o7.ft_1,
  Qg = a7.BlockHash,
  h7 = [1518500249, 1859775393, 2400959708, 3395469782];
function hn() {
  if (!(this instanceof hn)) return new hn();
  Qg.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.W = new Array(80));
}
oa.inherits(hn, Qg);
var u7 = hn;
(hn.blockSize = 512),
  (hn.outSize = 160),
  (hn.hmacStrength = 80),
  (hn.padLength = 64),
  (hn.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = hu(t[i - 3] ^ t[i - 8] ^ t[i - 14] ^ t[i - 16], 1);
    var s = this.h[0],
      a = this.h[1],
      f = this.h[2],
      g = this.h[3],
      v = this.h[4];
    for (i = 0; i < t.length; i++) {
      var h = ~~(i / 20),
        y = c7(hu(s, 5), f7(h, a, f, g), v, t[i], h7[h]);
      (v = g), (g = f), (f = hu(a, 30)), (a = s), (s = y);
    }
    (this.h[0] = La(this.h[0], s)),
      (this.h[1] = La(this.h[1], a)),
      (this.h[2] = La(this.h[2], f)),
      (this.h[3] = La(this.h[3], g)),
      (this.h[4] = La(this.h[4], v));
  }),
  (hn.prototype._digest = function (r) {
    return r === "hex" ? oa.toHex32(this.h, "big") : oa.split32(this.h, "big");
  });
var ca = Pt,
  d7 = da,
  la = wn,
  l7 = go,
  $i = ca.sum32,
  p7 = ca.sum32_4,
  g7 = ca.sum32_5,
  v7 = la.ch32,
  b7 = la.maj32,
  m7 = la.s0_256,
  y7 = la.s1_256,
  w7 = la.g0_256,
  _7 = la.g1_256,
  Yg = d7.BlockHash,
  A7 = [
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ];
function un() {
  if (!(this instanceof un)) return new un();
  Yg.call(this),
    (this.h = [
      1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
      528734635, 1541459225,
    ]),
    (this.k = A7),
    (this.W = new Array(64));
}
ca.inherits(un, Yg);
var Xg = un;
(un.blockSize = 512),
  (un.outSize = 256),
  (un.hmacStrength = 192),
  (un.padLength = 64),
  (un.prototype._update = function (r, e) {
    for (var t = this.W, i = 0; i < 16; i++) t[i] = r[e + i];
    for (; i < t.length; i++)
      t[i] = p7(_7(t[i - 2]), t[i - 7], w7(t[i - 15]), t[i - 16]);
    var s = this.h[0],
      a = this.h[1],
      f = this.h[2],
      g = this.h[3],
      v = this.h[4],
      h = this.h[5],
      y = this.h[6],
      A = this.h[7];
    for (l7(this.k.length === t.length), i = 0; i < t.length; i++) {
      var P = g7(A, y7(v), v7(v, h, y), this.k[i], t[i]),
        R = $i(m7(s), b7(s, a, f));
      (A = y),
        (y = h),
        (h = v),
        (v = $i(g, P)),
        (g = f),
        (f = a),
        (a = s),
        (s = $i(P, R));
    }
    (this.h[0] = $i(this.h[0], s)),
      (this.h[1] = $i(this.h[1], a)),
      (this.h[2] = $i(this.h[2], f)),
      (this.h[3] = $i(this.h[3], g)),
      (this.h[4] = $i(this.h[4], v)),
      (this.h[5] = $i(this.h[5], h)),
      (this.h[6] = $i(this.h[6], y)),
      (this.h[7] = $i(this.h[7], A));
  }),
  (un.prototype._digest = function (r) {
    return r === "hex" ? ca.toHex32(this.h, "big") : ca.split32(this.h, "big");
  });
var qu = Pt,
  Zg = Xg;
function Dn() {
  if (!(this instanceof Dn)) return new Dn();
  Zg.call(this),
    (this.h = [
      3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,
      1694076839, 3204075428,
    ]);
}
qu.inherits(Dn, Zg);
var x7 = Dn;
(Dn.blockSize = 512),
  (Dn.outSize = 224),
  (Dn.hmacStrength = 192),
  (Dn.padLength = 64),
  (Dn.prototype._digest = function (r) {
    return r === "hex"
      ? qu.toHex32(this.h.slice(0, 7), "big")
      : qu.split32(this.h.slice(0, 7), "big");
  });
var ei = Pt,
  E7 = da,
  I7 = go,
  pn = ei.rotr64_hi,
  gn = ei.rotr64_lo,
  ev = ei.shr64_hi,
  tv = ei.shr64_lo,
  Qn = ei.sum64,
  uu = ei.sum64_hi,
  du = ei.sum64_lo,
  S7 = ei.sum64_4_hi,
  M7 = ei.sum64_4_lo,
  P7 = ei.sum64_5_hi,
  R7 = ei.sum64_5_lo,
  rv = E7.BlockHash,
  C7 = [
    1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399,
    3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265,
    2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394,
    310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994,
    1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317,
    3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139,
    264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901,
    1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837,
    2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879,
    3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901,
    113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964,
    773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823,
    1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142,
    2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273,
    3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344,
    3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720,
    430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593,
    883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403,
    1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012,
    2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044,
    2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573,
    3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711,
    3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554,
    174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315,
    685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100,
    1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866,
    1607167915, 987167468, 1816402316, 1246189591,
  ];
function Vi() {
  if (!(this instanceof Vi)) return new Vi();
  rv.call(this),
    (this.h = [
      1779033703, 4089235720, 3144134277, 2227873595, 1013904242, 4271175723,
      2773480762, 1595750129, 1359893119, 2917565137, 2600822924, 725511199,
      528734635, 4215389547, 1541459225, 327033209,
    ]),
    (this.k = C7),
    (this.W = new Array(160));
}
ei.inherits(Vi, rv);
var iv = Vi;
(Vi.blockSize = 1024),
  (Vi.outSize = 512),
  (Vi.hmacStrength = 192),
  (Vi.padLength = 128),
  (Vi.prototype._prepareBlock = function (r, e) {
    for (var t = this.W, i = 0; i < 32; i++) t[i] = r[e + i];
    for (; i < t.length; i += 2) {
      var s = $7(t[i - 4], t[i - 3]),
        a = U7(t[i - 4], t[i - 3]),
        f = t[i - 14],
        g = t[i - 13],
        v = k7(t[i - 30], t[i - 29]),
        h = z7(t[i - 30], t[i - 29]),
        y = t[i - 32],
        A = t[i - 31];
      (t[i] = S7(s, a, f, g, v, h, y, A)),
        (t[i + 1] = M7(s, a, f, g, v, h, y, A));
    }
  }),
  (Vi.prototype._update = function (r, e) {
    this._prepareBlock(r, e);
    var t = this.W,
      i = this.h[0],
      s = this.h[1],
      a = this.h[2],
      f = this.h[3],
      g = this.h[4],
      v = this.h[5],
      h = this.h[6],
      y = this.h[7],
      A = this.h[8],
      P = this.h[9],
      R = this.h[10],
      C = this.h[11],
      q = this.h[12],
      L = this.h[13],
      j = this.h[14],
      H = this.h[15];
    I7(this.k.length === t.length);
    for (var Y = 0; Y < t.length; Y += 2) {
      var Q = j,
        G = H,
        ee = F7(A, P),
        ne = L7(A, P),
        de = N7(A, P, R, C, q),
        fe = O7(A, P, R, C, q, L),
        xe = this.k[Y],
        F = this.k[Y + 1],
        m = t[Y],
        c = t[Y + 1],
        u = P7(Q, G, ee, ne, de, fe, xe, F, m, c),
        b = R7(Q, G, ee, ne, de, fe, xe, F, m, c);
      (Q = D7(i, s)),
        (G = B7(i, s)),
        (ee = T7(i, s, a, f, g)),
        (ne = q7(i, s, a, f, g, v));
      var w = uu(Q, G, ee, ne),
        I = du(Q, G, ee, ne);
      (j = q),
        (H = L),
        (q = R),
        (L = C),
        (R = A),
        (C = P),
        (A = uu(h, y, u, b)),
        (P = du(y, y, u, b)),
        (h = g),
        (y = v),
        (g = a),
        (v = f),
        (a = i),
        (f = s),
        (i = uu(u, b, w, I)),
        (s = du(u, b, w, I));
    }
    Qn(this.h, 0, i, s),
      Qn(this.h, 2, a, f),
      Qn(this.h, 4, g, v),
      Qn(this.h, 6, h, y),
      Qn(this.h, 8, A, P),
      Qn(this.h, 10, R, C),
      Qn(this.h, 12, q, L),
      Qn(this.h, 14, j, H);
  }),
  (Vi.prototype._digest = function (r) {
    return r === "hex" ? ei.toHex32(this.h, "big") : ei.split32(this.h, "big");
  });
function N7(r, e, t, i, s) {
  var a = (r & t) ^ (~r & s);
  return a < 0 && (a += 4294967296), a;
}
function O7(r, e, t, i, s, a) {
  var f = (e & i) ^ (~e & a);
  return f < 0 && (f += 4294967296), f;
}
function T7(r, e, t, i, s) {
  var a = (r & t) ^ (r & s) ^ (t & s);
  return a < 0 && (a += 4294967296), a;
}
function q7(r, e, t, i, s, a) {
  var f = (e & i) ^ (e & a) ^ (i & a);
  return f < 0 && (f += 4294967296), f;
}
function D7(r, e) {
  var t = pn(r, e, 28),
    i = pn(e, r, 2),
    s = pn(e, r, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function B7(r, e) {
  var t = gn(r, e, 28),
    i = gn(e, r, 2),
    s = gn(e, r, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function F7(r, e) {
  var t = pn(r, e, 14),
    i = pn(r, e, 18),
    s = pn(e, r, 9),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function L7(r, e) {
  var t = gn(r, e, 14),
    i = gn(r, e, 18),
    s = gn(e, r, 9),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function k7(r, e) {
  var t = pn(r, e, 1),
    i = pn(r, e, 8),
    s = ev(r, e, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function z7(r, e) {
  var t = gn(r, e, 1),
    i = gn(r, e, 8),
    s = tv(r, e, 7),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function $7(r, e) {
  var t = pn(r, e, 19),
    i = pn(e, r, 29),
    s = ev(r, e, 6),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
function U7(r, e) {
  var t = gn(r, e, 19),
    i = gn(e, r, 29),
    s = tv(r, e, 6),
    a = t ^ i ^ s;
  return a < 0 && (a += 4294967296), a;
}
var Du = Pt,
  nv = iv;
function Bn() {
  if (!(this instanceof Bn)) return new Bn();
  nv.call(this),
    (this.h = [
      3418070365, 3238371032, 1654270250, 914150663, 2438529370, 812702999,
      355462360, 4144912697, 1731405415, 4290775857, 2394180231, 1750603025,
      3675008525, 1694076839, 1203062813, 3204075428,
    ]);
}
Du.inherits(Bn, nv);
var j7 = Bn;
(Bn.blockSize = 1024),
  (Bn.outSize = 384),
  (Bn.hmacStrength = 192),
  (Bn.padLength = 128),
  (Bn.prototype._digest = function (r) {
    return r === "hex"
      ? Du.toHex32(this.h.slice(0, 12), "big")
      : Du.split32(this.h.slice(0, 12), "big");
  }),
  (ea.sha1 = u7),
  (ea.sha224 = x7),
  (ea.sha256 = Xg),
  (ea.sha384 = j7),
  (ea.sha512 = iv);
var sv = {},
  Is = Pt,
  K7 = da,
  Mc = Is.rotl32,
  Up = Is.sum32,
  ka = Is.sum32_3,
  jp = Is.sum32_4,
  av = K7.BlockHash;
function cn() {
  if (!(this instanceof cn)) return new cn();
  av.call(this),
    (this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520]),
    (this.endian = "little");
}
Is.inherits(cn, av),
  (sv.ripemd160 = cn),
  (cn.blockSize = 512),
  (cn.outSize = 160),
  (cn.hmacStrength = 192),
  (cn.padLength = 64),
  (cn.prototype._update = function (r, e) {
    for (
      var t = this.h[0],
        i = this.h[1],
        s = this.h[2],
        a = this.h[3],
        f = this.h[4],
        g = t,
        v = i,
        h = s,
        y = a,
        A = f,
        P = 0;
      P < 80;
      P++
    ) {
      var R = Up(Mc(jp(t, Kp(P, i, s, a), r[G7[P] + e], H7(P)), W7[P]), f);
      (t = f),
        (f = a),
        (a = Mc(s, 10)),
        (s = i),
        (i = R),
        (R = Up(Mc(jp(g, Kp(79 - P, v, h, y), r[J7[P] + e], V7(P)), Q7[P]), A)),
        (g = A),
        (A = y),
        (y = Mc(h, 10)),
        (h = v),
        (v = R);
    }
    (R = ka(this.h[1], s, y)),
      (this.h[1] = ka(this.h[2], a, A)),
      (this.h[2] = ka(this.h[3], f, g)),
      (this.h[3] = ka(this.h[4], t, v)),
      (this.h[4] = ka(this.h[0], i, h)),
      (this.h[0] = R);
  }),
  (cn.prototype._digest = function (r) {
    return r === "hex"
      ? Is.toHex32(this.h, "little")
      : Is.split32(this.h, "little");
  });
function Kp(r, e, t, i) {
  return r <= 15
    ? e ^ t ^ i
    : r <= 31
    ? (e & t) | (~e & i)
    : r <= 47
    ? (e | ~t) ^ i
    : r <= 63
    ? (e & i) | (t & ~i)
    : e ^ (t | ~i);
}
function H7(r) {
  return r <= 15
    ? 0
    : r <= 31
    ? 1518500249
    : r <= 47
    ? 1859775393
    : r <= 63
    ? 2400959708
    : 2840853838;
}
function V7(r) {
  return r <= 15
    ? 1352829926
    : r <= 31
    ? 1548603684
    : r <= 47
    ? 1836072691
    : r <= 63
    ? 2053994217
    : 0;
}
var G7 = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6,
    15, 3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13,
    11, 5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9,
    7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13,
  ],
  J7 = [
    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,
    10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10,
    0, 4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10,
    4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11,
  ],
  W7 = [
    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9,
    7, 15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13,
    6, 5, 12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9,
    15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6,
  ],
  Q7 = [
    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,
    9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,
    13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,
    12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11,
  ],
  Y7 = Pt,
  X7 = go;
function sa(r, e, t) {
  if (!(this instanceof sa)) return new sa(r, e, t);
  (this.Hash = r),
    (this.blockSize = r.blockSize / 8),
    (this.outSize = r.outSize / 8),
    (this.inner = null),
    (this.outer = null),
    this._init(Y7.toArray(e, t));
}
var Z7 = sa;
(sa.prototype._init = function (r) {
  r.length > this.blockSize && (r = new this.Hash().update(r).digest()),
    X7(r.length <= this.blockSize);
  for (var e = r.length; e < this.blockSize; e++) r.push(0);
  for (e = 0; e < r.length; e++) r[e] ^= 54;
  for (this.inner = new this.Hash().update(r), e = 0; e < r.length; e++)
    r[e] ^= 106;
  this.outer = new this.Hash().update(r);
}),
  (sa.prototype.update = function (r, e) {
    return this.inner.update(r, e), this;
  }),
  (sa.prototype.digest = function (r) {
    return this.outer.update(this.inner.digest()), this.outer.digest(r);
  }),
  (function (r) {
    var e = r;
    (e.utils = Pt),
      (e.common = da),
      (e.sha = ea),
      (e.ripemd = sv),
      (e.hmac = Z7),
      (e.sha1 = e.sha.sha1),
      (e.sha256 = e.sha.sha256),
      (e.sha224 = e.sha.sha224),
      (e.sha384 = e.sha.sha384),
      (e.sha512 = e.sha.sha512),
      (e.ripemd160 = e.ripemd.ripemd160);
  })(on);
function pa(r, e, t) {
  return (
    (t = {
      path: e,
      exports: {},
      require: function (i, s) {
        return e_(i, s ?? t.path);
      },
    }),
    r(t, t.exports),
    t.exports
  );
}
function e_() {
  throw new Error(
    "Dynamic requires are not currently supported by @rollup/plugin-commonjs"
  );
}
var td = ov;
function ov(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
ov.equal = function (r, e, t) {
  if (r != e) throw new Error(t || "Assertion failed: " + r + " != " + e);
};
var Gi = pa(function (r, e) {
    var t = e;
    function i(f, g) {
      if (Array.isArray(f)) return f.slice();
      if (!f) return [];
      var v = [];
      if (typeof f != "string") {
        for (var h = 0; h < f.length; h++) v[h] = f[h] | 0;
        return v;
      }
      if (g === "hex") {
        (f = f.replace(/[^a-z0-9]+/gi, "")),
          f.length % 2 !== 0 && (f = "0" + f);
        for (var h = 0; h < f.length; h += 2)
          v.push(parseInt(f[h] + f[h + 1], 16));
      } else
        for (var h = 0; h < f.length; h++) {
          var y = f.charCodeAt(h),
            A = y >> 8,
            P = y & 255;
          A ? v.push(A, P) : v.push(P);
        }
      return v;
    }
    t.toArray = i;
    function s(f) {
      return f.length === 1 ? "0" + f : f;
    }
    t.zero2 = s;
    function a(f) {
      for (var g = "", v = 0; v < f.length; v++) g += s(f[v].toString(16));
      return g;
    }
    (t.toHex = a),
      (t.encode = function (f, g) {
        return g === "hex" ? a(f) : f;
      });
  }),
  hi = pa(function (r, e) {
    var t = e;
    (t.assert = td),
      (t.toArray = Gi.toArray),
      (t.zero2 = Gi.zero2),
      (t.toHex = Gi.toHex),
      (t.encode = Gi.encode);
    function i(v, h, y) {
      var A = new Array(Math.max(v.bitLength(), y) + 1);
      A.fill(0);
      for (var P = 1 << (h + 1), R = v.clone(), C = 0; C < A.length; C++) {
        var q,
          L = R.andln(P - 1);
        R.isOdd()
          ? (L > (P >> 1) - 1 ? (q = (P >> 1) - L) : (q = L), R.isubn(q))
          : (q = 0),
          (A[C] = q),
          R.iushrn(1);
      }
      return A;
    }
    t.getNAF = i;
    function s(v, h) {
      var y = [[], []];
      (v = v.clone()), (h = h.clone());
      for (var A = 0, P = 0, R; v.cmpn(-A) > 0 || h.cmpn(-P) > 0; ) {
        var C = (v.andln(3) + A) & 3,
          q = (h.andln(3) + P) & 3;
        C === 3 && (C = -1), q === 3 && (q = -1);
        var L;
        C & 1
          ? ((R = (v.andln(7) + A) & 7),
            (R === 3 || R === 5) && q === 2 ? (L = -C) : (L = C))
          : (L = 0),
          y[0].push(L);
        var j;
        q & 1
          ? ((R = (h.andln(7) + P) & 7),
            (R === 3 || R === 5) && C === 2 ? (j = -q) : (j = q))
          : (j = 0),
          y[1].push(j),
          2 * A === L + 1 && (A = 1 - A),
          2 * P === j + 1 && (P = 1 - P),
          v.iushrn(1),
          h.iushrn(1);
      }
      return y;
    }
    t.getJSF = s;
    function a(v, h, y) {
      var A = "_" + h;
      v.prototype[h] = function () {
        return this[A] !== void 0 ? this[A] : (this[A] = y.call(this));
      };
    }
    t.cachedProperty = a;
    function f(v) {
      return typeof v == "string" ? t.toArray(v, "hex") : v;
    }
    t.parseBytes = f;
    function g(v) {
      return new vt(v, "hex", "le");
    }
    t.intFromLE = g;
  }),
  Pc = hi.getNAF,
  t_ = hi.getJSF,
  ef = hi.assert;
function es(r, e) {
  (this.type = r),
    (this.p = new vt(e.p, 16)),
    (this.red = e.prime ? vt.red(e.prime) : vt.mont(this.p)),
    (this.zero = new vt(0).toRed(this.red)),
    (this.one = new vt(1).toRed(this.red)),
    (this.two = new vt(2).toRed(this.red)),
    (this.n = e.n && new vt(e.n, 16)),
    (this.g = e.g && this.pointFromJSON(e.g, e.gRed)),
    (this._wnafT1 = new Array(4)),
    (this._wnafT2 = new Array(4)),
    (this._wnafT3 = new Array(4)),
    (this._wnafT4 = new Array(4)),
    (this._bitLength = this.n ? this.n.bitLength() : 0);
  var t = this.n && this.p.div(this.n);
  !t || t.cmpn(100) > 0
    ? (this.redN = null)
    : ((this._maxwellTrick = !0), (this.redN = this.n.toRed(this.red)));
}
var Os = es;
(es.prototype.point = function () {
  throw new Error("Not implemented");
}),
  (es.prototype.validate = function () {
    throw new Error("Not implemented");
  }),
  (es.prototype._fixedNafMul = function (r, e) {
    ef(r.precomputed);
    var t = r._getDoubles(),
      i = Pc(e, 1, this._bitLength),
      s = (1 << (t.step + 1)) - (t.step % 2 === 0 ? 2 : 1);
    s /= 3;
    var a = [],
      f,
      g;
    for (f = 0; f < i.length; f += t.step) {
      g = 0;
      for (var v = f + t.step - 1; v >= f; v--) g = (g << 1) + i[v];
      a.push(g);
    }
    for (
      var h = this.jpoint(null, null, null),
        y = this.jpoint(null, null, null),
        A = s;
      A > 0;
      A--
    ) {
      for (f = 0; f < a.length; f++)
        (g = a[f]),
          g === A
            ? (y = y.mixedAdd(t.points[f]))
            : g === -A && (y = y.mixedAdd(t.points[f].neg()));
      h = h.add(y);
    }
    return h.toP();
  }),
  (es.prototype._wnafMul = function (r, e) {
    var t = 4,
      i = r._getNAFPoints(t);
    t = i.wnd;
    for (
      var s = i.points,
        a = Pc(e, t, this._bitLength),
        f = this.jpoint(null, null, null),
        g = a.length - 1;
      g >= 0;
      g--
    ) {
      for (var v = 0; g >= 0 && a[g] === 0; g--) v++;
      if ((g >= 0 && v++, (f = f.dblp(v)), g < 0)) break;
      var h = a[g];
      ef(h !== 0),
        r.type === "affine"
          ? h > 0
            ? (f = f.mixedAdd(s[(h - 1) >> 1]))
            : (f = f.mixedAdd(s[(-h - 1) >> 1].neg()))
          : h > 0
          ? (f = f.add(s[(h - 1) >> 1]))
          : (f = f.add(s[(-h - 1) >> 1].neg()));
    }
    return r.type === "affine" ? f.toP() : f;
  }),
  (es.prototype._wnafMulAdd = function (r, e, t, i, s) {
    var a = this._wnafT1,
      f = this._wnafT2,
      g = this._wnafT3,
      v = 0,
      h,
      y,
      A;
    for (h = 0; h < i; h++) {
      A = e[h];
      var P = A._getNAFPoints(r);
      (a[h] = P.wnd), (f[h] = P.points);
    }
    for (h = i - 1; h >= 1; h -= 2) {
      var R = h - 1,
        C = h;
      if (a[R] !== 1 || a[C] !== 1) {
        (g[R] = Pc(t[R], a[R], this._bitLength)),
          (g[C] = Pc(t[C], a[C], this._bitLength)),
          (v = Math.max(g[R].length, v)),
          (v = Math.max(g[C].length, v));
        continue;
      }
      var q = [e[R], null, null, e[C]];
      e[R].y.cmp(e[C].y) === 0
        ? ((q[1] = e[R].add(e[C])), (q[2] = e[R].toJ().mixedAdd(e[C].neg())))
        : e[R].y.cmp(e[C].y.redNeg()) === 0
        ? ((q[1] = e[R].toJ().mixedAdd(e[C])), (q[2] = e[R].add(e[C].neg())))
        : ((q[1] = e[R].toJ().mixedAdd(e[C])),
          (q[2] = e[R].toJ().mixedAdd(e[C].neg())));
      var L = [-3, -1, -5, -7, 0, 7, 5, 1, 3],
        j = t_(t[R], t[C]);
      for (
        v = Math.max(j[0].length, v),
          g[R] = new Array(v),
          g[C] = new Array(v),
          y = 0;
        y < v;
        y++
      ) {
        var H = j[0][y] | 0,
          Y = j[1][y] | 0;
        (g[R][y] = L[(H + 1) * 3 + (Y + 1)]), (g[C][y] = 0), (f[R] = q);
      }
    }
    var Q = this.jpoint(null, null, null),
      G = this._wnafT4;
    for (h = v; h >= 0; h--) {
      for (var ee = 0; h >= 0; ) {
        var ne = !0;
        for (y = 0; y < i; y++) (G[y] = g[y][h] | 0), G[y] !== 0 && (ne = !1);
        if (!ne) break;
        ee++, h--;
      }
      if ((h >= 0 && ee++, (Q = Q.dblp(ee)), h < 0)) break;
      for (y = 0; y < i; y++) {
        var de = G[y];
        de !== 0 &&
          (de > 0
            ? (A = f[y][(de - 1) >> 1])
            : de < 0 && (A = f[y][(-de - 1) >> 1].neg()),
          A.type === "affine" ? (Q = Q.mixedAdd(A)) : (Q = Q.add(A)));
      }
    }
    for (h = 0; h < i; h++) f[h] = null;
    return s ? Q : Q.toP();
  });
function Ai(r, e) {
  (this.curve = r), (this.type = e), (this.precomputed = null);
}
(es.BasePoint = Ai),
  (Ai.prototype.eq = function () {
    throw new Error("Not implemented");
  }),
  (Ai.prototype.validate = function () {
    return this.curve.validate(this);
  }),
  (es.prototype.decodePoint = function (r, e) {
    r = hi.toArray(r, e);
    var t = this.p.byteLength();
    if ((r[0] === 4 || r[0] === 6 || r[0] === 7) && r.length - 1 === 2 * t) {
      r[0] === 6
        ? ef(r[r.length - 1] % 2 === 0)
        : r[0] === 7 && ef(r[r.length - 1] % 2 === 1);
      var i = this.point(r.slice(1, 1 + t), r.slice(1 + t, 1 + 2 * t));
      return i;
    } else if ((r[0] === 2 || r[0] === 3) && r.length - 1 === t)
      return this.pointFromX(r.slice(1, 1 + t), r[0] === 3);
    throw new Error("Unknown point format");
  }),
  (Ai.prototype.encodeCompressed = function (r) {
    return this.encode(r, !0);
  }),
  (Ai.prototype._encode = function (r) {
    var e = this.curve.p.byteLength(),
      t = this.getX().toArray("be", e);
    return r
      ? [this.getY().isEven() ? 2 : 3].concat(t)
      : [4].concat(t, this.getY().toArray("be", e));
  }),
  (Ai.prototype.encode = function (r, e) {
    return hi.encode(this._encode(e), r);
  }),
  (Ai.prototype.precompute = function (r) {
    if (this.precomputed) return this;
    var e = { doubles: null, naf: null, beta: null };
    return (
      (e.naf = this._getNAFPoints(8)),
      (e.doubles = this._getDoubles(4, r)),
      (e.beta = this._getBeta()),
      (this.precomputed = e),
      this
    );
  }),
  (Ai.prototype._hasDoubles = function (r) {
    if (!this.precomputed) return !1;
    var e = this.precomputed.doubles;
    return e ? e.points.length >= Math.ceil((r.bitLength() + 1) / e.step) : !1;
  }),
  (Ai.prototype._getDoubles = function (r, e) {
    if (this.precomputed && this.precomputed.doubles)
      return this.precomputed.doubles;
    for (var t = [this], i = this, s = 0; s < e; s += r) {
      for (var a = 0; a < r; a++) i = i.dbl();
      t.push(i);
    }
    return { step: r, points: t };
  }),
  (Ai.prototype._getNAFPoints = function (r) {
    if (this.precomputed && this.precomputed.naf) return this.precomputed.naf;
    for (
      var e = [this], t = (1 << r) - 1, i = t === 1 ? null : this.dbl(), s = 1;
      s < t;
      s++
    )
      e[s] = e[s - 1].add(i);
    return { wnd: r, points: e };
  }),
  (Ai.prototype._getBeta = function () {
    return null;
  }),
  (Ai.prototype.dblp = function (r) {
    for (var e = this, t = 0; t < r; t++) e = e.dbl();
    return e;
  });
var rd = pa(function (r) {
    typeof Object.create == "function"
      ? (r.exports = function (e, t) {
          t &&
            ((e.super_ = t),
            (e.prototype = Object.create(t.prototype, {
              constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })));
        })
      : (r.exports = function (e, t) {
          if (t) {
            e.super_ = t;
            var i = function () {};
            (i.prototype = t.prototype),
              (e.prototype = new i()),
              (e.prototype.constructor = e);
          }
        });
  }),
  r_ = hi.assert;
function Mi(r) {
  Os.call(this, "short", r),
    (this.a = new vt(r.a, 16).toRed(this.red)),
    (this.b = new vt(r.b, 16).toRed(this.red)),
    (this.tinv = this.two.redInvm()),
    (this.zeroA = this.a.fromRed().cmpn(0) === 0),
    (this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0),
    (this.endo = this._getEndomorphism(r)),
    (this._endoWnafT1 = new Array(4)),
    (this._endoWnafT2 = new Array(4));
}
rd(Mi, Os);
var i_ = Mi;
(Mi.prototype._getEndomorphism = function (r) {
  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {
    var e, t;
    if (r.beta) e = new vt(r.beta, 16).toRed(this.red);
    else {
      var i = this._getEndoRoots(this.p);
      (e = i[0].cmp(i[1]) < 0 ? i[0] : i[1]), (e = e.toRed(this.red));
    }
    if (r.lambda) t = new vt(r.lambda, 16);
    else {
      var s = this._getEndoRoots(this.n);
      this.g.mul(s[0]).x.cmp(this.g.x.redMul(e)) === 0
        ? (t = s[0])
        : ((t = s[1]), r_(this.g.mul(t).x.cmp(this.g.x.redMul(e)) === 0));
    }
    var a;
    return (
      r.basis
        ? (a = r.basis.map(function (f) {
            return { a: new vt(f.a, 16), b: new vt(f.b, 16) };
          }))
        : (a = this._getEndoBasis(t)),
      { beta: e, lambda: t, basis: a }
    );
  }
}),
  (Mi.prototype._getEndoRoots = function (r) {
    var e = r === this.p ? this.red : vt.mont(r),
      t = new vt(2).toRed(e).redInvm(),
      i = t.redNeg(),
      s = new vt(3).toRed(e).redNeg().redSqrt().redMul(t),
      a = i.redAdd(s).fromRed(),
      f = i.redSub(s).fromRed();
    return [a, f];
  }),
  (Mi.prototype._getEndoBasis = function (r) {
    for (
      var e = this.n.ushrn(Math.floor(this.n.bitLength() / 2)),
        t = r,
        i = this.n.clone(),
        s = new vt(1),
        a = new vt(0),
        f = new vt(0),
        g = new vt(1),
        v,
        h,
        y,
        A,
        P,
        R,
        C,
        q = 0,
        L,
        j;
      t.cmpn(0) !== 0;

    ) {
      var H = i.div(t);
      (L = i.sub(H.mul(t))), (j = f.sub(H.mul(s)));
      var Y = g.sub(H.mul(a));
      if (!y && L.cmp(e) < 0) (v = C.neg()), (h = s), (y = L.neg()), (A = j);
      else if (y && ++q === 2) break;
      (C = L), (i = t), (t = L), (f = s), (s = j), (g = a), (a = Y);
    }
    (P = L.neg()), (R = j);
    var Q = y.sqr().add(A.sqr()),
      G = P.sqr().add(R.sqr());
    return (
      G.cmp(Q) >= 0 && ((P = v), (R = h)),
      y.negative && ((y = y.neg()), (A = A.neg())),
      P.negative && ((P = P.neg()), (R = R.neg())),
      [
        { a: y, b: A },
        { a: P, b: R },
      ]
    );
  }),
  (Mi.prototype._endoSplit = function (r) {
    var e = this.endo.basis,
      t = e[0],
      i = e[1],
      s = i.b.mul(r).divRound(this.n),
      a = t.b.neg().mul(r).divRound(this.n),
      f = s.mul(t.a),
      g = a.mul(i.a),
      v = s.mul(t.b),
      h = a.mul(i.b),
      y = r.sub(f).sub(g),
      A = v.add(h).neg();
    return { k1: y, k2: A };
  }),
  (Mi.prototype.pointFromX = function (r, e) {
    (r = new vt(r, 16)), r.red || (r = r.toRed(this.red));
    var t = r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),
      i = t.redSqrt();
    if (i.redSqr().redSub(t).cmp(this.zero) !== 0)
      throw new Error("invalid point");
    var s = i.fromRed().isOdd();
    return ((e && !s) || (!e && s)) && (i = i.redNeg()), this.point(r, i);
  }),
  (Mi.prototype.validate = function (r) {
    if (r.inf) return !0;
    var e = r.x,
      t = r.y,
      i = this.a.redMul(e),
      s = e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);
    return t.redSqr().redISub(s).cmpn(0) === 0;
  }),
  (Mi.prototype._endoWnafMulAdd = function (r, e, t) {
    for (
      var i = this._endoWnafT1, s = this._endoWnafT2, a = 0;
      a < r.length;
      a++
    ) {
      var f = this._endoSplit(e[a]),
        g = r[a],
        v = g._getBeta();
      f.k1.negative && (f.k1.ineg(), (g = g.neg(!0))),
        f.k2.negative && (f.k2.ineg(), (v = v.neg(!0))),
        (i[a * 2] = g),
        (i[a * 2 + 1] = v),
        (s[a * 2] = f.k1),
        (s[a * 2 + 1] = f.k2);
    }
    for (var h = this._wnafMulAdd(1, i, s, a * 2, t), y = 0; y < a * 2; y++)
      (i[y] = null), (s[y] = null);
    return h;
  });
function gr(r, e, t, i) {
  Os.BasePoint.call(this, r, "affine"),
    e === null && t === null
      ? ((this.x = null), (this.y = null), (this.inf = !0))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)),
        this.x.red || (this.x = this.x.toRed(this.curve.red)),
        this.y.red || (this.y = this.y.toRed(this.curve.red)),
        (this.inf = !1));
}
rd(gr, Os.BasePoint),
  (Mi.prototype.point = function (r, e, t) {
    return new gr(this, r, e, t);
  }),
  (Mi.prototype.pointFromJSON = function (r, e) {
    return gr.fromJSON(this, r, e);
  }),
  (gr.prototype._getBeta = function () {
    if (this.curve.endo) {
      var r = this.precomputed;
      if (r && r.beta) return r.beta;
      var e = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
      if (r) {
        var t = this.curve,
          i = function (s) {
            return t.point(s.x.redMul(t.endo.beta), s.y);
          };
        (r.beta = e),
          (e.precomputed = {
            beta: null,
            naf: r.naf && { wnd: r.naf.wnd, points: r.naf.points.map(i) },
            doubles: r.doubles && {
              step: r.doubles.step,
              points: r.doubles.points.map(i),
            },
          });
      }
      return e;
    }
  }),
  (gr.prototype.toJSON = function () {
    return this.precomputed
      ? [
          this.x,
          this.y,
          this.precomputed && {
            doubles: this.precomputed.doubles && {
              step: this.precomputed.doubles.step,
              points: this.precomputed.doubles.points.slice(1),
            },
            naf: this.precomputed.naf && {
              wnd: this.precomputed.naf.wnd,
              points: this.precomputed.naf.points.slice(1),
            },
          },
        ]
      : [this.x, this.y];
  }),
  (gr.fromJSON = function (r, e, t) {
    typeof e == "string" && (e = JSON.parse(e));
    var i = r.point(e[0], e[1], t);
    if (!e[2]) return i;
    function s(f) {
      return r.point(f[0], f[1], t);
    }
    var a = e[2];
    return (
      (i.precomputed = {
        beta: null,
        doubles: a.doubles && {
          step: a.doubles.step,
          points: [i].concat(a.doubles.points.map(s)),
        },
        naf: a.naf && {
          wnd: a.naf.wnd,
          points: [i].concat(a.naf.points.map(s)),
        },
      }),
      i
    );
  }),
  (gr.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC Point Infinity>"
      : "<EC Point x: " +
          this.x.fromRed().toString(16, 2) +
          " y: " +
          this.y.fromRed().toString(16, 2) +
          ">";
  }),
  (gr.prototype.isInfinity = function () {
    return this.inf;
  }),
  (gr.prototype.add = function (r) {
    if (this.inf) return r;
    if (r.inf) return this;
    if (this.eq(r)) return this.dbl();
    if (this.neg().eq(r)) return this.curve.point(null, null);
    if (this.x.cmp(r.x) === 0) return this.curve.point(null, null);
    var e = this.y.redSub(r.y);
    e.cmpn(0) !== 0 && (e = e.redMul(this.x.redSub(r.x).redInvm()));
    var t = e.redSqr().redISub(this.x).redISub(r.x),
      i = e.redMul(this.x.redSub(t)).redISub(this.y);
    return this.curve.point(t, i);
  }),
  (gr.prototype.dbl = function () {
    if (this.inf) return this;
    var r = this.y.redAdd(this.y);
    if (r.cmpn(0) === 0) return this.curve.point(null, null);
    var e = this.curve.a,
      t = this.x.redSqr(),
      i = r.redInvm(),
      s = t.redAdd(t).redIAdd(t).redIAdd(e).redMul(i),
      a = s.redSqr().redISub(this.x.redAdd(this.x)),
      f = s.redMul(this.x.redSub(a)).redISub(this.y);
    return this.curve.point(a, f);
  }),
  (gr.prototype.getX = function () {
    return this.x.fromRed();
  }),
  (gr.prototype.getY = function () {
    return this.y.fromRed();
  }),
  (gr.prototype.mul = function (r) {
    return (
      (r = new vt(r, 16)),
      this.isInfinity()
        ? this
        : this._hasDoubles(r)
        ? this.curve._fixedNafMul(this, r)
        : this.curve.endo
        ? this.curve._endoWnafMulAdd([this], [r])
        : this.curve._wnafMul(this, r)
    );
  }),
  (gr.prototype.mulAdd = function (r, e, t) {
    var i = [this, e],
      s = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, s)
      : this.curve._wnafMulAdd(1, i, s, 2);
  }),
  (gr.prototype.jmulAdd = function (r, e, t) {
    var i = [this, e],
      s = [r, t];
    return this.curve.endo
      ? this.curve._endoWnafMulAdd(i, s, !0)
      : this.curve._wnafMulAdd(1, i, s, 2, !0);
  }),
  (gr.prototype.eq = function (r) {
    return (
      this === r ||
      (this.inf === r.inf &&
        (this.inf || (this.x.cmp(r.x) === 0 && this.y.cmp(r.y) === 0)))
    );
  }),
  (gr.prototype.neg = function (r) {
    if (this.inf) return this;
    var e = this.curve.point(this.x, this.y.redNeg());
    if (r && this.precomputed) {
      var t = this.precomputed,
        i = function (s) {
          return s.neg();
        };
      e.precomputed = {
        naf: t.naf && { wnd: t.naf.wnd, points: t.naf.points.map(i) },
        doubles: t.doubles && {
          step: t.doubles.step,
          points: t.doubles.points.map(i),
        },
      };
    }
    return e;
  }),
  (gr.prototype.toJ = function () {
    if (this.inf) return this.curve.jpoint(null, null, null);
    var r = this.curve.jpoint(this.x, this.y, this.curve.one);
    return r;
  });
function _r(r, e, t, i) {
  Os.BasePoint.call(this, r, "jacobian"),
    e === null && t === null && i === null
      ? ((this.x = this.curve.one),
        (this.y = this.curve.one),
        (this.z = new vt(0)))
      : ((this.x = new vt(e, 16)),
        (this.y = new vt(t, 16)),
        (this.z = new vt(i, 16))),
    this.x.red || (this.x = this.x.toRed(this.curve.red)),
    this.y.red || (this.y = this.y.toRed(this.curve.red)),
    this.z.red || (this.z = this.z.toRed(this.curve.red)),
    (this.zOne = this.z === this.curve.one);
}
rd(_r, Os.BasePoint),
  (Mi.prototype.jpoint = function (r, e, t) {
    return new _r(this, r, e, t);
  }),
  (_r.prototype.toP = function () {
    if (this.isInfinity()) return this.curve.point(null, null);
    var r = this.z.redInvm(),
      e = r.redSqr(),
      t = this.x.redMul(e),
      i = this.y.redMul(e).redMul(r);
    return this.curve.point(t, i);
  }),
  (_r.prototype.neg = function () {
    return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
  }),
  (_r.prototype.add = function (r) {
    if (this.isInfinity()) return r;
    if (r.isInfinity()) return this;
    var e = r.z.redSqr(),
      t = this.z.redSqr(),
      i = this.x.redMul(e),
      s = r.x.redMul(t),
      a = this.y.redMul(e.redMul(r.z)),
      f = r.y.redMul(t.redMul(this.z)),
      g = i.redSub(s),
      v = a.redSub(f);
    if (g.cmpn(0) === 0)
      return v.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var h = g.redSqr(),
      y = h.redMul(g),
      A = i.redMul(h),
      P = v.redSqr().redIAdd(y).redISub(A).redISub(A),
      R = v.redMul(A.redISub(P)).redISub(a.redMul(y)),
      C = this.z.redMul(r.z).redMul(g);
    return this.curve.jpoint(P, R, C);
  }),
  (_r.prototype.mixedAdd = function (r) {
    if (this.isInfinity()) return r.toJ();
    if (r.isInfinity()) return this;
    var e = this.z.redSqr(),
      t = this.x,
      i = r.x.redMul(e),
      s = this.y,
      a = r.y.redMul(e).redMul(this.z),
      f = t.redSub(i),
      g = s.redSub(a);
    if (f.cmpn(0) === 0)
      return g.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();
    var v = f.redSqr(),
      h = v.redMul(f),
      y = t.redMul(v),
      A = g.redSqr().redIAdd(h).redISub(y).redISub(y),
      P = g.redMul(y.redISub(A)).redISub(s.redMul(h)),
      R = this.z.redMul(f);
    return this.curve.jpoint(A, P, R);
  }),
  (_r.prototype.dblp = function (r) {
    if (r === 0) return this;
    if (this.isInfinity()) return this;
    if (!r) return this.dbl();
    var e;
    if (this.curve.zeroA || this.curve.threeA) {
      var t = this;
      for (e = 0; e < r; e++) t = t.dbl();
      return t;
    }
    var i = this.curve.a,
      s = this.curve.tinv,
      a = this.x,
      f = this.y,
      g = this.z,
      v = g.redSqr().redSqr(),
      h = f.redAdd(f);
    for (e = 0; e < r; e++) {
      var y = a.redSqr(),
        A = h.redSqr(),
        P = A.redSqr(),
        R = y.redAdd(y).redIAdd(y).redIAdd(i.redMul(v)),
        C = a.redMul(A),
        q = R.redSqr().redISub(C.redAdd(C)),
        L = C.redISub(q),
        j = R.redMul(L);
      j = j.redIAdd(j).redISub(P);
      var H = h.redMul(g);
      e + 1 < r && (v = v.redMul(P)), (a = q), (g = H), (h = j);
    }
    return this.curve.jpoint(a, h.redMul(s), g);
  }),
  (_r.prototype.dbl = function () {
    return this.isInfinity()
      ? this
      : this.curve.zeroA
      ? this._zeroDbl()
      : this.curve.threeA
      ? this._threeDbl()
      : this._dbl();
  }),
  (_r.prototype._zeroDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        s = this.y.redSqr(),
        a = s.redSqr(),
        f = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var g = i.redAdd(i).redIAdd(i),
        v = g.redSqr().redISub(f).redISub(f),
        h = a.redIAdd(a);
      (h = h.redIAdd(h)),
        (h = h.redIAdd(h)),
        (r = v),
        (e = g.redMul(f.redISub(v)).redISub(h)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.x.redSqr(),
        A = this.y.redSqr(),
        P = A.redSqr(),
        R = this.x.redAdd(A).redSqr().redISub(y).redISub(P);
      R = R.redIAdd(R);
      var C = y.redAdd(y).redIAdd(y),
        q = C.redSqr(),
        L = P.redIAdd(P);
      (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (r = q.redISub(R).redISub(R)),
        (e = C.redMul(R.redISub(r)).redISub(L)),
        (t = this.y.redMul(this.z)),
        (t = t.redIAdd(t));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (_r.prototype._threeDbl = function () {
    var r, e, t;
    if (this.zOne) {
      var i = this.x.redSqr(),
        s = this.y.redSqr(),
        a = s.redSqr(),
        f = this.x.redAdd(s).redSqr().redISub(i).redISub(a);
      f = f.redIAdd(f);
      var g = i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),
        v = g.redSqr().redISub(f).redISub(f);
      r = v;
      var h = a.redIAdd(a);
      (h = h.redIAdd(h)),
        (h = h.redIAdd(h)),
        (e = g.redMul(f.redISub(v)).redISub(h)),
        (t = this.y.redAdd(this.y));
    } else {
      var y = this.z.redSqr(),
        A = this.y.redSqr(),
        P = this.x.redMul(A),
        R = this.x.redSub(y).redMul(this.x.redAdd(y));
      R = R.redAdd(R).redIAdd(R);
      var C = P.redIAdd(P);
      C = C.redIAdd(C);
      var q = C.redAdd(C);
      (r = R.redSqr().redISub(q)),
        (t = this.y.redAdd(this.z).redSqr().redISub(A).redISub(y));
      var L = A.redSqr();
      (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (L = L.redIAdd(L)),
        (e = R.redMul(C.redISub(r)).redISub(L));
    }
    return this.curve.jpoint(r, e, t);
  }),
  (_r.prototype._dbl = function () {
    var r = this.curve.a,
      e = this.x,
      t = this.y,
      i = this.z,
      s = i.redSqr().redSqr(),
      a = e.redSqr(),
      f = t.redSqr(),
      g = a.redAdd(a).redIAdd(a).redIAdd(r.redMul(s)),
      v = e.redAdd(e);
    v = v.redIAdd(v);
    var h = v.redMul(f),
      y = g.redSqr().redISub(h.redAdd(h)),
      A = h.redISub(y),
      P = f.redSqr();
    (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
    var R = g.redMul(A).redISub(P),
      C = t.redAdd(t).redMul(i);
    return this.curve.jpoint(y, R, C);
  }),
  (_r.prototype.trpl = function () {
    if (!this.curve.zeroA) return this.dbl().add(this);
    var r = this.x.redSqr(),
      e = this.y.redSqr(),
      t = this.z.redSqr(),
      i = e.redSqr(),
      s = r.redAdd(r).redIAdd(r),
      a = s.redSqr(),
      f = this.x.redAdd(e).redSqr().redISub(r).redISub(i);
    (f = f.redIAdd(f)), (f = f.redAdd(f).redIAdd(f)), (f = f.redISub(a));
    var g = f.redSqr(),
      v = i.redIAdd(i);
    (v = v.redIAdd(v)), (v = v.redIAdd(v)), (v = v.redIAdd(v));
    var h = s.redIAdd(f).redSqr().redISub(a).redISub(g).redISub(v),
      y = e.redMul(h);
    (y = y.redIAdd(y)), (y = y.redIAdd(y));
    var A = this.x.redMul(g).redISub(y);
    (A = A.redIAdd(A)), (A = A.redIAdd(A));
    var P = this.y.redMul(h.redMul(v.redISub(h)).redISub(f.redMul(g)));
    (P = P.redIAdd(P)), (P = P.redIAdd(P)), (P = P.redIAdd(P));
    var R = this.z.redAdd(f).redSqr().redISub(t).redISub(g);
    return this.curve.jpoint(A, P, R);
  }),
  (_r.prototype.mul = function (r, e) {
    return (r = new vt(r, e)), this.curve._wnafMul(this, r);
  }),
  (_r.prototype.eq = function (r) {
    if (r.type === "affine") return this.eq(r.toJ());
    if (this === r) return !0;
    var e = this.z.redSqr(),
      t = r.z.redSqr();
    if (this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0) !== 0) return !1;
    var i = e.redMul(this.z),
      s = t.redMul(r.z);
    return this.y.redMul(s).redISub(r.y.redMul(i)).cmpn(0) === 0;
  }),
  (_r.prototype.eqXToP = function (r) {
    var e = this.z.redSqr(),
      t = r.toRed(this.curve.red).redMul(e);
    if (this.x.cmp(t) === 0) return !0;
    for (var i = r.clone(), s = this.curve.redN.redMul(e); ; ) {
      if ((i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)) return !1;
      if ((t.redIAdd(s), this.x.cmp(t) === 0)) return !0;
    }
  }),
  (_r.prototype.inspect = function () {
    return this.isInfinity()
      ? "<EC JPoint Infinity>"
      : "<EC JPoint x: " +
          this.x.toString(16, 2) +
          " y: " +
          this.y.toString(16, 2) +
          " z: " +
          this.z.toString(16, 2) +
          ">";
  }),
  (_r.prototype.isInfinity = function () {
    return this.z.cmpn(0) === 0;
  });
var zc = pa(function (r, e) {
    var t = e;
    (t.base = Os), (t.short = i_), (t.mont = null), (t.edwards = null);
  }),
  $c = pa(function (r, e) {
    var t = e,
      i = hi.assert;
    function s(g) {
      g.type === "short"
        ? (this.curve = new zc.short(g))
        : g.type === "edwards"
        ? (this.curve = new zc.edwards(g))
        : (this.curve = new zc.mont(g)),
        (this.g = this.curve.g),
        (this.n = this.curve.n),
        (this.hash = g.hash),
        i(this.g.validate(), "Invalid curve"),
        i(this.g.mul(this.n).isInfinity(), "Invalid curve, G*N != O");
    }
    t.PresetCurve = s;
    function a(g, v) {
      Object.defineProperty(t, g, {
        configurable: !0,
        enumerable: !0,
        get: function () {
          var h = new s(v);
          return (
            Object.defineProperty(t, g, {
              configurable: !0,
              enumerable: !0,
              value: h,
            }),
            h
          );
        },
      });
    }
    a("p192", {
      type: "short",
      prime: "p192",
      p: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",
      a: "ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",
      b: "64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",
      n: "ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",
      hash: on.sha256,
      gRed: !1,
      g: [
        "188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012",
        "07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811",
      ],
    }),
      a("p224", {
        type: "short",
        prime: "p224",
        p: "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",
        a: "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",
        b: "b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",
        n: "ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",
        hash: on.sha256,
        gRed: !1,
        g: [
          "b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21",
          "bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34",
        ],
      }),
      a("p256", {
        type: "short",
        prime: null,
        p: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",
        a: "ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",
        b: "5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",
        n: "ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",
        hash: on.sha256,
        gRed: !1,
        g: [
          "6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296",
          "4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5",
        ],
      }),
      a("p384", {
        type: "short",
        prime: null,
        p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",
        a: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",
        b: "b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",
        n: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",
        hash: on.sha384,
        gRed: !1,
        g: [
          "aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7",
          "3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f",
        ],
      }),
      a("p521", {
        type: "short",
        prime: null,
        p: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
        a: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",
        b: "00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",
        n: "000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",
        hash: on.sha512,
        gRed: !1,
        g: [
          "000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66",
          "00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650",
        ],
      }),
      a("curve25519", {
        type: "mont",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "76d06",
        b: "1",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: on.sha256,
        gRed: !1,
        g: ["9"],
      }),
      a("ed25519", {
        type: "edwards",
        prime: "p25519",
        p: "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",
        a: "-1",
        c: "1",
        d: "52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",
        n: "1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",
        hash: on.sha256,
        gRed: !1,
        g: [
          "216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a",
          "6666666666666666666666666666666666666666666666666666666666666658",
        ],
      });
    var f;
    try {
      f = null.crash();
    } catch {
      f = void 0;
    }
    a("secp256k1", {
      type: "short",
      prime: "k256",
      p: "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",
      a: "0",
      b: "7",
      n: "ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",
      h: "1",
      hash: on.sha256,
      beta: "7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
      lambda:
        "5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",
      basis: [
        {
          a: "3086d221a7d46bcde86c90e49284eb15",
          b: "-e4437ed6010e88286f547fa90abfe4c3",
        },
        {
          a: "114ca50f7a8e2f3f657c1108d9d44cfd8",
          b: "3086d221a7d46bcde86c90e49284eb15",
        },
      ],
      gRed: !1,
      g: [
        "79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",
        "483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",
        f,
      ],
    });
  });
function ts(r) {
  if (!(this instanceof ts)) return new ts(r);
  (this.hash = r.hash),
    (this.predResist = !!r.predResist),
    (this.outLen = this.hash.outSize),
    (this.minEntropy = r.minEntropy || this.hash.hmacStrength),
    (this._reseed = null),
    (this.reseedInterval = null),
    (this.K = null),
    (this.V = null);
  var e = Gi.toArray(r.entropy, r.entropyEnc || "hex"),
    t = Gi.toArray(r.nonce, r.nonceEnc || "hex"),
    i = Gi.toArray(r.pers, r.persEnc || "hex");
  td(
    e.length >= this.minEntropy / 8,
    "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
  ),
    this._init(e, t, i);
}
var Hp = ts;
(ts.prototype._init = function (r, e, t) {
  var i = r.concat(e).concat(t);
  (this.K = new Array(this.outLen / 8)), (this.V = new Array(this.outLen / 8));
  for (var s = 0; s < this.V.length; s++) (this.K[s] = 0), (this.V[s] = 1);
  this._update(i), (this._reseed = 1), (this.reseedInterval = 281474976710656);
}),
  (ts.prototype._hmac = function () {
    return new on.hmac(this.hash, this.K);
  }),
  (ts.prototype._update = function (r) {
    var e = this._hmac().update(this.V).update([0]);
    r && (e = e.update(r)),
      (this.K = e.digest()),
      (this.V = this._hmac().update(this.V).digest()),
      r &&
        ((this.K = this._hmac().update(this.V).update([1]).update(r).digest()),
        (this.V = this._hmac().update(this.V).digest()));
  }),
  (ts.prototype.reseed = function (r, e, t, i) {
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      (r = Gi.toArray(r, e)),
      (t = Gi.toArray(t, i)),
      td(
        r.length >= this.minEntropy / 8,
        "Not enough entropy. Minimum is: " + this.minEntropy + " bits"
      ),
      this._update(r.concat(t || [])),
      (this._reseed = 1);
  }),
  (ts.prototype.generate = function (r, e, t, i) {
    if (this._reseed > this.reseedInterval)
      throw new Error("Reseed is required");
    typeof e != "string" && ((i = t), (t = e), (e = null)),
      t && ((t = Gi.toArray(t, i || "hex")), this._update(t));
    for (var s = []; s.length < r; )
      (this.V = this._hmac().update(this.V).digest()), (s = s.concat(this.V));
    var a = s.slice(0, r);
    return this._update(t), this._reseed++, Gi.encode(a, e);
  });
var lu = hi.assert;
function Nr(r, e) {
  (this.ec = r),
    (this.priv = null),
    (this.pub = null),
    e.priv && this._importPrivate(e.priv, e.privEnc),
    e.pub && this._importPublic(e.pub, e.pubEnc);
}
var pu = Nr;
(Nr.fromPublic = function (r, e, t) {
  return e instanceof Nr ? e : new Nr(r, { pub: e, pubEnc: t });
}),
  (Nr.fromPrivate = function (r, e, t) {
    return e instanceof Nr ? e : new Nr(r, { priv: e, privEnc: t });
  }),
  (Nr.prototype.validate = function () {
    var r = this.getPublic();
    return r.isInfinity()
      ? { result: !1, reason: "Invalid public key" }
      : r.validate()
      ? r.mul(this.ec.curve.n).isInfinity()
        ? { result: !0, reason: null }
        : { result: !1, reason: "Public key * N != O" }
      : { result: !1, reason: "Public key is not a point" };
  }),
  (Nr.prototype.getPublic = function (r, e) {
    return (
      typeof r == "string" && ((e = r), (r = null)),
      this.pub || (this.pub = this.ec.g.mul(this.priv)),
      e ? this.pub.encode(e, r) : this.pub
    );
  }),
  (Nr.prototype.getPrivate = function (r) {
    return r === "hex" ? this.priv.toString(16, 2) : this.priv;
  }),
  (Nr.prototype._importPrivate = function (r, e) {
    (this.priv = new vt(r, e || 16)),
      (this.priv = this.priv.umod(this.ec.curve.n));
  }),
  (Nr.prototype._importPublic = function (r, e) {
    if (r.x || r.y) {
      this.ec.curve.type === "mont"
        ? lu(r.x, "Need x coordinate")
        : (this.ec.curve.type === "short" ||
            this.ec.curve.type === "edwards") &&
          lu(r.x && r.y, "Need both x and y coordinate"),
        (this.pub = this.ec.curve.point(r.x, r.y));
      return;
    }
    this.pub = this.ec.curve.decodePoint(r, e);
  }),
  (Nr.prototype.derive = function (r) {
    return (
      r.validate() || lu(r.validate(), "public point not validated"),
      r.mul(this.priv).getX()
    );
  }),
  (Nr.prototype.sign = function (r, e, t) {
    return this.ec.sign(r, this, e, t);
  }),
  (Nr.prototype.verify = function (r, e) {
    return this.ec.verify(r, e, this);
  }),
  (Nr.prototype.inspect = function () {
    return (
      "<Key priv: " +
      (this.priv && this.priv.toString(16, 2)) +
      " pub: " +
      (this.pub && this.pub.inspect()) +
      " >"
    );
  });
var n_ = hi.assert;
function lf(r, e) {
  if (r instanceof lf) return r;
  this._importDER(r, e) ||
    (n_(r.r && r.s, "Signature without r or s"),
    (this.r = new vt(r.r, 16)),
    (this.s = new vt(r.s, 16)),
    r.recoveryParam === void 0
      ? (this.recoveryParam = null)
      : (this.recoveryParam = r.recoveryParam));
}
var Rc = lf;
function s_() {
  this.place = 0;
}
function gu(r, e) {
  var t = r[e.place++];
  if (!(t & 128)) return t;
  var i = t & 15;
  if (i === 0 || i > 4) return !1;
  for (var s = 0, a = 0, f = e.place; a < i; a++, f++)
    (s <<= 8), (s |= r[f]), (s >>>= 0);
  return s <= 127 ? !1 : ((e.place = f), s);
}
function Vp(r) {
  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; ) e++;
  return e === 0 ? r : r.slice(e);
}
lf.prototype._importDER = function (r, e) {
  r = hi.toArray(r, e);
  var t = new s_();
  if (r[t.place++] !== 48) return !1;
  var i = gu(r, t);
  if (i === !1 || i + t.place !== r.length || r[t.place++] !== 2) return !1;
  var s = gu(r, t);
  if (s === !1) return !1;
  var a = r.slice(t.place, s + t.place);
  if (((t.place += s), r[t.place++] !== 2)) return !1;
  var f = gu(r, t);
  if (f === !1 || r.length !== f + t.place) return !1;
  var g = r.slice(t.place, f + t.place);
  if (a[0] === 0)
    if (a[1] & 128) a = a.slice(1);
    else return !1;
  if (g[0] === 0)
    if (g[1] & 128) g = g.slice(1);
    else return !1;
  return (
    (this.r = new vt(a)), (this.s = new vt(g)), (this.recoveryParam = null), !0
  );
};
function vu(r, e) {
  if (e < 128) {
    r.push(e);
    return;
  }
  var t = 1 + ((Math.log(e) / Math.LN2) >>> 3);
  for (r.push(t | 128); --t; ) r.push((e >>> (t << 3)) & 255);
  r.push(e);
}
lf.prototype.toDER = function (r) {
  var e = this.r.toArray(),
    t = this.s.toArray();
  for (
    e[0] & 128 && (e = [0].concat(e)),
      t[0] & 128 && (t = [0].concat(t)),
      e = Vp(e),
      t = Vp(t);
    !t[0] && !(t[1] & 128);

  )
    t = t.slice(1);
  var i = [2];
  vu(i, e.length), (i = i.concat(e)), i.push(2), vu(i, t.length);
  var s = i.concat(t),
    a = [48];
  return vu(a, s.length), (a = a.concat(s)), hi.encode(a, r);
};
var a_ = function () {
    throw new Error("unsupported");
  },
  cv = hi.assert;
function Ii(r) {
  if (!(this instanceof Ii)) return new Ii(r);
  typeof r == "string" &&
    (cv(Object.prototype.hasOwnProperty.call($c, r), "Unknown curve " + r),
    (r = $c[r])),
    r instanceof $c.PresetCurve && (r = { curve: r }),
    (this.curve = r.curve.curve),
    (this.n = this.curve.n),
    (this.nh = this.n.ushrn(1)),
    (this.g = this.curve.g),
    (this.g = r.curve.g),
    this.g.precompute(r.curve.n.bitLength() + 1),
    (this.hash = r.hash || r.curve.hash);
}
var o_ = Ii;
(Ii.prototype.keyPair = function (r) {
  return new pu(this, r);
}),
  (Ii.prototype.keyFromPrivate = function (r, e) {
    return pu.fromPrivate(this, r, e);
  }),
  (Ii.prototype.keyFromPublic = function (r, e) {
    return pu.fromPublic(this, r, e);
  }),
  (Ii.prototype.genKeyPair = function (r) {
    r || (r = {});
    for (
      var e = new Hp({
          hash: this.hash,
          pers: r.pers,
          persEnc: r.persEnc || "utf8",
          entropy: r.entropy || a_(this.hash.hmacStrength),
          entropyEnc: (r.entropy && r.entropyEnc) || "utf8",
          nonce: this.n.toArray(),
        }),
        t = this.n.byteLength(),
        i = this.n.sub(new vt(2));
      ;

    ) {
      var s = new vt(e.generate(t));
      if (!(s.cmp(i) > 0)) return s.iaddn(1), this.keyFromPrivate(s);
    }
  }),
  (Ii.prototype._truncateToN = function (r, e) {
    var t = r.byteLength() * 8 - this.n.bitLength();
    return (
      t > 0 && (r = r.ushrn(t)), !e && r.cmp(this.n) >= 0 ? r.sub(this.n) : r
    );
  }),
  (Ii.prototype.sign = function (r, e, t, i) {
    typeof t == "object" && ((i = t), (t = null)),
      i || (i = {}),
      (e = this.keyFromPrivate(e, t)),
      (r = this._truncateToN(new vt(r, 16)));
    for (
      var s = this.n.byteLength(),
        a = e.getPrivate().toArray("be", s),
        f = r.toArray("be", s),
        g = new Hp({
          hash: this.hash,
          entropy: a,
          nonce: f,
          pers: i.pers,
          persEnc: i.persEnc || "utf8",
        }),
        v = this.n.sub(new vt(1)),
        h = 0;
      ;
      h++
    ) {
      var y = i.k ? i.k(h) : new vt(g.generate(this.n.byteLength()));
      if (
        ((y = this._truncateToN(y, !0)), !(y.cmpn(1) <= 0 || y.cmp(v) >= 0))
      ) {
        var A = this.g.mul(y);
        if (!A.isInfinity()) {
          var P = A.getX(),
            R = P.umod(this.n);
          if (R.cmpn(0) !== 0) {
            var C = y.invm(this.n).mul(R.mul(e.getPrivate()).iadd(r));
            if (((C = C.umod(this.n)), C.cmpn(0) !== 0)) {
              var q = (A.getY().isOdd() ? 1 : 0) | (P.cmp(R) !== 0 ? 2 : 0);
              return (
                i.canonical &&
                  C.cmp(this.nh) > 0 &&
                  ((C = this.n.sub(C)), (q ^= 1)),
                new Rc({ r: R, s: C, recoveryParam: q })
              );
            }
          }
        }
      }
    }
  }),
  (Ii.prototype.verify = function (r, e, t, i) {
    (r = this._truncateToN(new vt(r, 16))),
      (t = this.keyFromPublic(t, i)),
      (e = new Rc(e, "hex"));
    var s = e.r,
      a = e.s;
    if (
      s.cmpn(1) < 0 ||
      s.cmp(this.n) >= 0 ||
      a.cmpn(1) < 0 ||
      a.cmp(this.n) >= 0
    )
      return !1;
    var f = a.invm(this.n),
      g = f.mul(r).umod(this.n),
      v = f.mul(s).umod(this.n),
      h;
    return this.curve._maxwellTrick
      ? ((h = this.g.jmulAdd(g, t.getPublic(), v)),
        h.isInfinity() ? !1 : h.eqXToP(s))
      : ((h = this.g.mulAdd(g, t.getPublic(), v)),
        h.isInfinity() ? !1 : h.getX().umod(this.n).cmp(s) === 0);
  }),
  (Ii.prototype.recoverPubKey = function (r, e, t, i) {
    cv((3 & t) === t, "The recovery param is more than two bits"),
      (e = new Rc(e, i));
    var s = this.n,
      a = new vt(r),
      f = e.r,
      g = e.s,
      v = t & 1,
      h = t >> 1;
    if (f.cmp(this.curve.p.umod(this.curve.n)) >= 0 && h)
      throw new Error("Unable to find sencond key candinate");
    h
      ? (f = this.curve.pointFromX(f.add(this.curve.n), v))
      : (f = this.curve.pointFromX(f, v));
    var y = e.r.invm(s),
      A = s.sub(a).mul(y).umod(s),
      P = g.mul(y).umod(s);
    return this.g.mulAdd(A, f, P);
  }),
  (Ii.prototype.getKeyRecoveryParam = function (r, e, t, i) {
    if (((e = new Rc(e, i)), e.recoveryParam !== null)) return e.recoveryParam;
    for (var s = 0; s < 4; s++) {
      var a;
      try {
        a = this.recoverPubKey(r, e, s);
      } catch {
        continue;
      }
      if (a.eq(t)) return s;
    }
    throw new Error("Unable to find valid recovery factor");
  });
var c_ = pa(function (r, e) {
    var t = e;
    (t.version = "6.5.4"),
      (t.utils = hi),
      (t.rand = function () {
        throw new Error("unsupported");
      }),
      (t.curve = zc),
      (t.curves = $c),
      (t.ec = o_),
      (t.eddsa = null);
  }),
  f_ = c_.ec;
const h_ = "signing-key/5.7.0",
  Bu = new Ar(h_);
let bu = null;
function Zn() {
  return bu || (bu = new f_("secp256k1")), bu;
}
class u_ {
  constructor(e) {
    Fa(this, "curve", "secp256k1"),
      Fa(this, "privateKey", Zr(e)),
      G8(this.privateKey) !== 32 &&
        Bu.throwArgumentError(
          "invalid private key",
          "privateKey",
          "[[ REDACTED ]]"
        );
    const t = Zn().keyFromPrivate(er(this.privateKey));
    Fa(this, "publicKey", "0x" + t.getPublic(!1, "hex")),
      Fa(this, "compressedPublicKey", "0x" + t.getPublic(!0, "hex")),
      Fa(this, "_isSigningKey", !0);
  }
  _addPoint(e) {
    const t = Zn().keyFromPublic(er(this.publicKey)),
      i = Zn().keyFromPublic(er(e));
    return "0x" + t.pub.add(i.pub).encodeCompressed("hex");
  }
  signDigest(e) {
    const t = Zn().keyFromPrivate(er(this.privateKey)),
      i = er(e);
    i.length !== 32 && Bu.throwArgumentError("bad digest length", "digest", e);
    const s = t.sign(i, { canonical: !0 });
    return Tg({
      recoveryParam: s.recoveryParam,
      r: dn("0x" + s.r.toString(16), 32),
      s: dn("0x" + s.s.toString(16), 32),
    });
  }
  computeSharedSecret(e) {
    const t = Zn().keyFromPrivate(er(this.privateKey)),
      i = Zn().keyFromPublic(er(fv(e)));
    return dn("0x" + t.derive(i.getPublic()).toString(16), 32);
  }
  static isSigningKey(e) {
    return !!(e && e._isSigningKey);
  }
}
function d_(r, e) {
  const t = Tg(e),
    i = { r: er(t.r), s: er(t.s) };
  return "0x" + Zn().recoverPubKey(er(r), i, t.recoveryParam).encode("hex", !1);
}
function fv(r, e) {
  const t = er(r);
  return t.length === 32
    ? new u_(t).publicKey
    : t.length === 33
    ? "0x" + Zn().keyFromPublic(t).getPublic(!1, "hex")
    : t.length === 65
    ? Zr(t)
    : Bu.throwArgumentError(
        "invalid public or private key",
        "key",
        "[REDACTED]"
      );
}
var Gp;
(function (r) {
  (r[(r.legacy = 0)] = "legacy"),
    (r[(r.eip2930 = 1)] = "eip2930"),
    (r[(r.eip1559 = 2)] = "eip1559");
})(Gp || (Gp = {}));
function l_(r) {
  const e = fv(r);
  return E9(Tp(Xu(Tp(e, 1)), 12));
}
function p_(r, e) {
  return l_(d_(er(r), e));
}
const g_ = "https://rpc.walletconnect.org/v1";
async function v_(r, e, t, i, s, a) {
  switch (t.t) {
    case "eip191":
      return b_(r, e, t.s);
    case "eip1271":
      return await m_(r, e, t.s, i, s, a);
    default:
      throw new Error(
        `verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`
      );
  }
}
function b_(r, e, t) {
  return p_(Ug(e), t).toLowerCase() === r.toLowerCase();
}
async function m_(r, e, t, i, s, a) {
  try {
    const f = "0x1626ba7e",
      g = "0000000000000000000000000000000000000000000000000000000000000040",
      v = "0000000000000000000000000000000000000000000000000000000000000041",
      h = t.substring(2),
      y = Ug(e).substring(2),
      A = f + y + g + v + h,
      P = await fetch(`${a || g_}/?chainId=${i}&projectId=${s}`, {
        method: "POST",
        body: JSON.stringify({
          id: y_(),
          jsonrpc: "2.0",
          method: "eth_call",
          params: [{ to: r, data: A }, "latest"],
        }),
      }),
      { result: R } = await P.json();
    return R ? R.slice(0, f.length).toLowerCase() === f.toLowerCase() : !1;
  } catch (f) {
    return console.error("isValidEip1271Signature: ", f), !1;
  }
}
function y_() {
  return Date.now() + Math.floor(Math.random() * 1e3);
}
var w_ = Object.defineProperty,
  __ = Object.defineProperties,
  A_ = Object.getOwnPropertyDescriptors,
  Jp = Object.getOwnPropertySymbols,
  x_ = Object.prototype.hasOwnProperty,
  E_ = Object.prototype.propertyIsEnumerable,
  Wp = (r, e, t) =>
    e in r
      ? w_(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  I_ = (r, e) => {
    for (var t in e || (e = {})) x_.call(e, t) && Wp(r, t, e[t]);
    if (Jp) for (var t of Jp(e)) E_.call(e, t) && Wp(r, t, e[t]);
    return r;
  },
  S_ = (r, e) => __(r, A_(e));
const M_ = "did:pkh:",
  id = (r) => (r == null ? void 0 : r.split(":")),
  hv = (r) => {
    const e = r && id(r);
    if (e) return r.includes(M_) ? e[3] : e[1];
  },
  Qp = (r) => {
    const e = r && id(r);
    if (e) return e[2] + ":" + e[3];
  },
  tf = (r) => {
    const e = r && id(r);
    if (e) return e.pop();
  };
async function Yp(r) {
  const { cacao: e, projectId: t } = r,
    { s: i, p: s } = e,
    a = uv(s, s.iss),
    f = tf(s.iss);
  return await v_(f, a, i, hv(s.iss), t);
}
const uv = (r, e) => {
  const t = `${r.domain} wants you to sign in with your Ethereum account:`,
    i = tf(e);
  if (!r.aud && !r.uri)
    throw new Error(
      "Either `aud` or `uri` is required to construct the message"
    );
  let s = r.statement || void 0;
  const a = `URI: ${r.aud || r.uri}`,
    f = `Version: ${r.version}`,
    g = `Chain ID: ${hv(e)}`,
    v = `Nonce: ${r.nonce}`,
    h = `Issued At: ${r.iat}`,
    y = r.exp ? `Expiration Time: ${r.exp}` : void 0,
    A = r.nbf ? `Not Before: ${r.nbf}` : void 0,
    P = r.requestId ? `Request ID: ${r.requestId}` : void 0,
    R = r.resources
      ? `Resources:${r.resources
          .map(
            (q) => `
- ${q}`
          )
          .join("")}`
      : void 0,
    C = Uc(r.resources);
  if (C) {
    const q = no(C);
    s = B_(s, q);
  }
  return [t, i, "", s, "", a, f, g, v, h, y, A, P, R].filter((q) => q != null)
    .join(`
`);
};
function P_(r) {
  return Buffer.from(JSON.stringify(r)).toString("base64");
}
function R_(r) {
  return JSON.parse(Buffer.from(r, "base64").toString("utf-8"));
}
function Ms(r) {
  if (!r) throw new Error("No recap provided, value is undefined");
  if (!r.att) throw new Error("No `att` property found");
  const e = Object.keys(r.att);
  if (!(e != null && e.length))
    throw new Error("No resources found in `att` property");
  e.forEach((t) => {
    const i = r.att[t];
    if (Array.isArray(i)) throw new Error(`Resource must be an object: ${t}`);
    if (typeof i != "object")
      throw new Error(`Resource must be an object: ${t}`);
    if (!Object.keys(i).length)
      throw new Error(`Resource object is empty: ${t}`);
    Object.keys(i).forEach((s) => {
      const a = i[s];
      if (!Array.isArray(a))
        throw new Error(
          `Ability limits ${s} must be an array of objects, found: ${a}`
        );
      if (!a.length)
        throw new Error(
          `Value of ${s} is empty array, must be an array with objects`
        );
      a.forEach((f) => {
        if (typeof f != "object")
          throw new Error(
            `Ability limits (${s}) must be an array of objects, found: ${f}`
          );
      });
    });
  });
}
function C_(r, e, t, i = {}) {
  return (
    t == null || t.sort((s, a) => s.localeCompare(a)),
    { att: { [r]: N_(e, t, i) } }
  );
}
function N_(r, e, t = {}) {
  e = e == null ? void 0 : e.sort((s, a) => s.localeCompare(a));
  const i = e.map((s) => ({ [`${r}/${s}`]: [t] }));
  return Object.assign({}, ...i);
}
function dv(r) {
  return Ms(r), `urn:recap:${P_(r).replace(/=/g, "")}`;
}
function no(r) {
  const e = R_(r.replace("urn:recap:", ""));
  return Ms(e), e;
}
function O_(r, e, t) {
  const i = C_(r, e, t);
  return dv(i);
}
function T_(r) {
  return r && r.includes("urn:recap:");
}
function q_(r, e) {
  const t = no(r),
    i = no(e),
    s = D_(t, i);
  return dv(s);
}
function D_(r, e) {
  Ms(r), Ms(e);
  const t = Object.keys(r.att)
      .concat(Object.keys(e.att))
      .sort((s, a) => s.localeCompare(a)),
    i = { att: {} };
  return (
    t.forEach((s) => {
      var a, f;
      Object.keys(((a = r.att) == null ? void 0 : a[s]) || {})
        .concat(Object.keys(((f = e.att) == null ? void 0 : f[s]) || {}))
        .sort((g, v) => g.localeCompare(v))
        .forEach((g) => {
          var v, h;
          i.att[s] = S_(I_({}, i.att[s]), {
            [g]:
              ((v = r.att[s]) == null ? void 0 : v[g]) ||
              ((h = e.att[s]) == null ? void 0 : h[g]),
          });
        });
    }),
    i
  );
}
function B_(r = "", e) {
  Ms(e);
  const t =
    "I further authorize the stated URI to perform the following actions on my behalf: ";
  if (r.includes(t)) return r;
  const i = [];
  let s = 0;
  Object.keys(e.att).forEach((g) => {
    const v = Object.keys(e.att[g]).map((A) => ({
      ability: A.split("/")[0],
      action: A.split("/")[1],
    }));
    v.sort((A, P) => A.action.localeCompare(P.action));
    const h = {};
    v.forEach((A) => {
      h[A.ability] || (h[A.ability] = []), h[A.ability].push(A.action);
    });
    const y = Object.keys(h).map(
      (A) => (s++, `(${s}) '${A}': '${h[A].join("', '")}' for '${g}'.`)
    );
    i.push(y.join(", ").replace(".,", "."));
  });
  const a = i.join(" "),
    f = `${t}${a}`;
  return `${r ? r + " " : ""}${f}`;
}
function Xp(r) {
  var e;
  const t = no(r);
  Ms(t);
  const i = (e = t.att) == null ? void 0 : e.eip155;
  return i ? Object.keys(i).map((s) => s.split("/")[1]) : [];
}
function Zp(r) {
  const e = no(r);
  Ms(e);
  const t = [];
  return (
    Object.values(e.att).forEach((i) => {
      Object.values(i).forEach((s) => {
        var a;
        (a = s == null ? void 0 : s[0]) != null &&
          a.chains &&
          t.push(s[0].chains);
      });
    }),
    [...new Set(t.flat())]
  );
}
function Uc(r) {
  if (!r) return;
  const e = r == null ? void 0 : r[r.length - 1];
  return T_(e) ? e : void 0;
}
const lv = "base10",
  zr = "base16",
  is = "base64pad",
  za = "base64url",
  vo = "utf8",
  pv = 0,
  Fn = 1,
  bo = 2,
  F_ = 0,
  e1 = 1,
  to = 12,
  nd = 32;
function L_() {
  const r = X1.generateKeyPair();
  return { privateKey: yr(r.secretKey, zr), publicKey: yr(r.publicKey, zr) };
}
function Fu() {
  const r = co.randomBytes(nd);
  return yr(r, zr);
}
function k_(r, e) {
  const t = X1.sharedKey(mr(r, zr), mr(e, zr), !0),
    i = new B5.HKDF(sf.SHA256, t).expand(nd);
  return yr(i, zr);
}
function jc(r) {
  const e = sf.hash(mr(r, zr));
  return yr(e, zr);
}
function qn(r) {
  const e = sf.hash(mr(r, vo));
  return yr(e, zr);
}
function gv(r) {
  return mr(`${r}`, lv);
}
function Ps(r) {
  return Number(yr(r, lv));
}
function z_(r) {
  const e = gv(typeof r.type < "u" ? r.type : pv);
  if (Ps(e) === Fn && typeof r.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const t = typeof r.senderPublicKey < "u" ? mr(r.senderPublicKey, zr) : void 0,
    i = typeof r.iv < "u" ? mr(r.iv, zr) : co.randomBytes(to),
    s = new Z1.ChaCha20Poly1305(mr(r.symKey, zr)).seal(i, mr(r.message, vo));
  return vv({
    type: e,
    sealed: s,
    iv: i,
    senderPublicKey: t,
    encoding: r.encoding,
  });
}
function $_(r, e) {
  const t = gv(bo),
    i = co.randomBytes(to),
    s = mr(r, vo);
  return vv({ type: t, sealed: s, iv: i, encoding: e });
}
function U_(r) {
  const e = new Z1.ChaCha20Poly1305(mr(r.symKey, zr)),
    { sealed: t, iv: i } = so({
      encoded: r.encoded,
      encoding: r == null ? void 0 : r.encoding,
    }),
    s = e.open(i, t);
  if (s === null) throw new Error("Failed to decrypt");
  return yr(s, vo);
}
function j_(r, e) {
  const { sealed: t } = so({ encoded: r, encoding: e });
  return yr(t, vo);
}
function vv(r) {
  const { encoding: e = is } = r;
  if (Ps(r.type) === bo) return yr(qc([r.type, r.sealed]), e);
  if (Ps(r.type) === Fn) {
    if (typeof r.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return yr(qc([r.type, r.senderPublicKey, r.iv, r.sealed]), e);
  }
  return yr(qc([r.type, r.iv, r.sealed]), e);
}
function so(r) {
  const { encoded: e, encoding: t = is } = r,
    i = mr(e, t),
    s = i.slice(F_, e1),
    a = e1;
  if (Ps(s) === Fn) {
    const h = a + nd,
      y = h + to,
      A = i.slice(a, h),
      P = i.slice(h, y),
      R = i.slice(y);
    return { type: s, sealed: R, iv: P, senderPublicKey: A };
  }
  if (Ps(s) === bo) {
    const h = i.slice(a),
      y = co.randomBytes(to);
    return { type: s, sealed: h, iv: y };
  }
  const f = a + to,
    g = i.slice(a, f),
    v = i.slice(f);
  return { type: s, sealed: v, iv: g };
}
function K_(r, e) {
  const t = so({ encoded: r, encoding: e == null ? void 0 : e.encoding });
  return bv({
    type: Ps(t.type),
    senderPublicKey:
      typeof t.senderPublicKey < "u" ? yr(t.senderPublicKey, zr) : void 0,
    receiverPublicKey: e == null ? void 0 : e.receiverPublicKey,
  });
}
function bv(r) {
  const e = (r == null ? void 0 : r.type) || pv;
  if (e === Fn) {
    if (typeof (r == null ? void 0 : r.senderPublicKey) > "u")
      throw new Error("missing sender public key");
    if (typeof (r == null ? void 0 : r.receiverPublicKey) > "u")
      throw new Error("missing receiver public key");
  }
  return {
    type: e,
    senderPublicKey: r == null ? void 0 : r.senderPublicKey,
    receiverPublicKey: r == null ? void 0 : r.receiverPublicKey,
  };
}
function t1(r) {
  return (
    r.type === Fn &&
    typeof r.senderPublicKey == "string" &&
    typeof r.receiverPublicKey == "string"
  );
}
function r1(r) {
  return r.type === bo;
}
function H_(r) {
  return new m8.ec("p256").keyFromPublic(
    {
      x: Buffer.from(r.x, "base64").toString("hex"),
      y: Buffer.from(r.y, "base64").toString("hex"),
    },
    "hex"
  );
}
function V_(r) {
  let e = r.replace(/-/g, "+").replace(/_/g, "/");
  const t = e.length % 4;
  return t > 0 && (e += "=".repeat(4 - t)), e;
}
function G_(r) {
  return Buffer.from(V_(r), "base64");
}
function J_(r, e) {
  const [t, i, s] = r.split("."),
    a = G_(s);
  if (a.length !== 64) throw new Error("Invalid signature length");
  const f = a.slice(0, 32).toString("hex"),
    g = a.slice(32, 64).toString("hex"),
    v = `${t}.${i}`,
    h = new sf.SHA256().update(Buffer.from(v)).digest(),
    y = H_(e),
    A = Buffer.from(h).toString("hex");
  if (!y.verify(A, { r: f, s: g })) throw new Error("Invalid signature");
  return Cu(r).payload;
}
const W_ = "irn";
function Lu(r) {
  return (r == null ? void 0 : r.relay) || { protocol: W_ };
}
function Wa(r) {
  const e = y8[r];
  if (typeof e > "u") throw new Error(`Relay Protocol not supported: ${r}`);
  return e;
}
var Q_ = Object.defineProperty,
  Y_ = Object.defineProperties,
  X_ = Object.getOwnPropertyDescriptors,
  i1 = Object.getOwnPropertySymbols,
  Z_ = Object.prototype.hasOwnProperty,
  eA = Object.prototype.propertyIsEnumerable,
  n1 = (r, e, t) =>
    e in r
      ? Q_(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  s1 = (r, e) => {
    for (var t in e || (e = {})) Z_.call(e, t) && n1(r, t, e[t]);
    if (i1) for (var t of i1(e)) eA.call(e, t) && n1(r, t, e[t]);
    return r;
  },
  tA = (r, e) => Y_(r, X_(e));
function rA(r, e = "-") {
  const t = {},
    i = "relay" + e;
  return (
    Object.keys(r).forEach((s) => {
      if (s.startsWith(i)) {
        const a = s.replace(i, ""),
          f = r[s];
        t[a] = f;
      }
    }),
    t
  );
}
function a1(r) {
  if (!r.includes("wc:")) {
    const v = Rg(r);
    v != null && v.includes("wc:") && (r = v);
  }
  (r = r.includes("wc://") ? r.replace("wc://", "") : r),
    (r = r.includes("wc:") ? r.replace("wc:", "") : r);
  const e = r.indexOf(":"),
    t = r.indexOf("?") !== -1 ? r.indexOf("?") : void 0,
    i = r.substring(0, e),
    s = r.substring(e + 1, t).split("@"),
    a = typeof t < "u" ? r.substring(t) : "",
    f = Hc.parse(a),
    g = typeof f.methods == "string" ? f.methods.split(",") : void 0;
  return {
    protocol: i,
    topic: iA(s[0]),
    version: parseInt(s[1], 10),
    symKey: f.symKey,
    relay: rA(f),
    methods: g,
    expiryTimestamp: f.expiryTimestamp
      ? parseInt(f.expiryTimestamp, 10)
      : void 0,
  };
}
function iA(r) {
  return r.startsWith("//") ? r.substring(2) : r;
}
function nA(r, e = "-") {
  const t = "relay",
    i = {};
  return (
    Object.keys(r).forEach((s) => {
      const a = t + e + s;
      r[s] && (i[a] = r[s]);
    }),
    i
  );
}
function o1(r) {
  return (
    `${r.protocol}:${r.topic}@${r.version}?` +
    Hc.stringify(
      s1(
        tA(s1({ symKey: r.symKey }, nA(r.relay)), {
          expiryTimestamp: r.expiryTimestamp,
        }),
        r.methods ? { methods: r.methods.join(",") } : {}
      )
    )
  );
}
function Cc(r, e, t) {
  return `${r}?wc_ev=${t}&topic=${e}`;
}
function ga(r) {
  const e = [];
  return (
    r.forEach((t) => {
      const [i, s] = t.split(":");
      e.push(`${i}:${s}`);
    }),
    e
  );
}
function sA(r) {
  const e = [];
  return (
    Object.values(r).forEach((t) => {
      e.push(...ga(t.accounts));
    }),
    e
  );
}
function aA(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      ga(i.accounts).includes(e) && t.push(...i.methods);
    }),
    t
  );
}
function oA(r, e) {
  const t = [];
  return (
    Object.values(r).forEach((i) => {
      ga(i.accounts).includes(e) && t.push(...i.events);
    }),
    t
  );
}
function sd(r) {
  return r.includes(":");
}
function Qa(r) {
  return sd(r) ? r.split(":")[0] : r;
}
function cA(r) {
  const e = {};
  return (
    r == null ||
      r.forEach((t) => {
        const [i, s] = t.split(":");
        e[i] || (e[i] = { accounts: [], chains: [], events: [] }),
          e[i].accounts.push(t),
          e[i].chains.push(`${i}:${s}`);
      }),
    e
  );
}
function c1(r, e) {
  e = e.map((i) => i.replace("did:pkh:", ""));
  const t = cA(e);
  for (const [i, s] of Object.entries(t))
    s.methods ? (s.methods = Lc(s.methods, r)) : (s.methods = r),
      (s.events = ["chainChanged", "accountsChanged"]);
  return t;
}
const fA = {
    INVALID_METHOD: { message: "Invalid method.", code: 1001 },
    INVALID_EVENT: { message: "Invalid event.", code: 1002 },
    INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 },
    INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 },
    INVALID_SESSION_SETTLE_REQUEST: {
      message: "Invalid session settle request.",
      code: 1005,
    },
    UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 },
    UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 },
    UNAUTHORIZED_UPDATE_REQUEST: {
      message: "Unauthorized update request.",
      code: 3003,
    },
    UNAUTHORIZED_EXTEND_REQUEST: {
      message: "Unauthorized extend request.",
      code: 3004,
    },
    USER_REJECTED: { message: "User rejected.", code: 5e3 },
    USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 },
    USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 },
    USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 },
    UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 },
    UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 },
    UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 },
    UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 },
    UNSUPPORTED_NAMESPACE_KEY: {
      message: "Unsupported namespace key.",
      code: 5104,
    },
    USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 },
    SESSION_SETTLEMENT_FAILED: {
      message: "Session settlement failed.",
      code: 7e3,
    },
    WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 },
  },
  hA = {
    NOT_INITIALIZED: { message: "Not initialized.", code: 1 },
    NO_MATCHING_KEY: { message: "No matching key.", code: 2 },
    RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 },
    RESUBSCRIBED: { message: "Resubscribed.", code: 4 },
    MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 },
    EXPIRED: { message: "Expired.", code: 6 },
    UNKNOWN_TYPE: { message: "Unknown type.", code: 7 },
    MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 },
    NON_CONFORMING_NAMESPACES: {
      message: "Non conforming namespaces.",
      code: 9,
    },
  };
function be(r, e) {
  const { message: t, code: i } = hA[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function Ft(r, e) {
  const { message: t, code: i } = fA[r];
  return { message: e ? `${t} ${e}` : t, code: i };
}
function vn(r, e) {
  return !!Array.isArray(r);
}
function ao(r) {
  return Object.getPrototypeOf(r) === Object.prototype && Object.keys(r).length;
}
function kr(r) {
  return typeof r > "u";
}
function sr(r, e) {
  return e && kr(r) ? !0 : typeof r == "string" && !!r.trim().length;
}
function ad(r, e) {
  return e && kr(r) ? !0 : typeof r == "number" && !isNaN(r);
}
function uA(r, e) {
  const { requiredNamespaces: t } = e,
    i = Object.keys(r.namespaces),
    s = Object.keys(t);
  let a = !0;
  return Es(s, i)
    ? (i.forEach((f) => {
        const { accounts: g, methods: v, events: h } = r.namespaces[f],
          y = ga(g),
          A = t[f];
        (!Es(Ag(f, A), y) || !Es(A.methods, v) || !Es(A.events, h)) && (a = !1);
      }),
      a)
    : !1;
}
function rf(r) {
  return sr(r, !1) && r.includes(":") ? r.split(":").length === 2 : !1;
}
function dA(r) {
  if (sr(r, !1) && r.includes(":")) {
    const e = r.split(":");
    if (e.length === 3) {
      const t = e[0] + ":" + e[1];
      return !!e[2] && rf(t);
    }
  }
  return !1;
}
function lA(r) {
  function e(t) {
    try {
      return typeof new URL(t) < "u";
    } catch {
      return !1;
    }
  }
  try {
    if (sr(r, !1)) {
      if (e(r)) return !0;
      const t = Rg(r);
      return e(t);
    }
  } catch {}
  return !1;
}
function pA(r) {
  var e;
  return (e = r == null ? void 0 : r.proposer) == null ? void 0 : e.publicKey;
}
function gA(r) {
  return r == null ? void 0 : r.topic;
}
function vA(r, e) {
  let t = null;
  return (
    sr(r == null ? void 0 : r.publicKey, !1) ||
      (t = be(
        "MISSING_OR_INVALID",
        `${e} controller public key should be a string`
      )),
    t
  );
}
function f1(r) {
  let e = !0;
  return vn(r) ? r.length && (e = r.every((t) => sr(t, !1))) : (e = !1), e;
}
function bA(r, e, t) {
  let i = null;
  return (
    vn(e) && e.length
      ? e.forEach((s) => {
          i ||
            rf(s) ||
            (i = Ft(
              "UNSUPPORTED_CHAINS",
              `${t}, chain ${s} should be a string and conform to "namespace:chainId" format`
            ));
        })
      : rf(r) ||
        (i = Ft(
          "UNSUPPORTED_CHAINS",
          `${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`
        )),
    i
  );
}
function mA(r, e, t) {
  let i = null;
  return (
    Object.entries(r).forEach(([s, a]) => {
      if (i) return;
      const f = bA(s, Ag(s, a), `${e} ${t}`);
      f && (i = f);
    }),
    i
  );
}
function yA(r, e) {
  let t = null;
  return (
    vn(r)
      ? r.forEach((i) => {
          t ||
            dA(i) ||
            (t = Ft(
              "UNSUPPORTED_ACCOUNTS",
              `${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`
            ));
        })
      : (t = Ft(
          "UNSUPPORTED_ACCOUNTS",
          `${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`
        )),
    t
  );
}
function wA(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const s = yA(i == null ? void 0 : i.accounts, `${e} namespace`);
      s && (t = s);
    }),
    t
  );
}
function _A(r, e) {
  let t = null;
  return (
    f1(r == null ? void 0 : r.methods)
      ? f1(r == null ? void 0 : r.events) ||
        (t = Ft(
          "UNSUPPORTED_EVENTS",
          `${e}, events should be an array of strings or empty array for no events`
        ))
      : (t = Ft(
          "UNSUPPORTED_METHODS",
          `${e}, methods should be an array of strings or empty array for no methods`
        )),
    t
  );
}
function mv(r, e) {
  let t = null;
  return (
    Object.values(r).forEach((i) => {
      if (t) return;
      const s = _A(i, `${e}, namespace`);
      s && (t = s);
    }),
    t
  );
}
function AA(r, e, t) {
  let i = null;
  if (r && ao(r)) {
    const s = mv(r, e);
    s && (i = s);
    const a = mA(r, e, t);
    a && (i = a);
  } else
    i = be("MISSING_OR_INVALID", `${e}, ${t} should be an object with data`);
  return i;
}
function mu(r, e) {
  let t = null;
  if (r && ao(r)) {
    const i = mv(r, e);
    i && (t = i);
    const s = wA(r, e);
    s && (t = s);
  } else
    t = be(
      "MISSING_OR_INVALID",
      `${e}, namespaces should be an object with data`
    );
  return t;
}
function yv(r) {
  return sr(r.protocol, !0);
}
function xA(r, e) {
  let t = !1;
  return (
    r
      ? r &&
        vn(r) &&
        r.length &&
        r.forEach((i) => {
          t = yv(i);
        })
      : (t = !0),
    t
  );
}
function EA(r) {
  return typeof r == "number";
}
function Xr(r) {
  return typeof r < "u" && typeof r !== null;
}
function IA(r) {
  return !(
    !r ||
    typeof r != "object" ||
    !r.code ||
    !ad(r.code, !1) ||
    !r.message ||
    !sr(r.message, !1)
  );
}
function SA(r) {
  return !(kr(r) || !sr(r.method, !1));
}
function MA(r) {
  return !(
    kr(r) ||
    (kr(r.result) && kr(r.error)) ||
    !ad(r.id, !1) ||
    !sr(r.jsonrpc, !1)
  );
}
function PA(r) {
  return !(kr(r) || !sr(r.name, !1));
}
function h1(r, e) {
  return !(!rf(e) || !sA(r).includes(e));
}
function RA(r, e, t) {
  return sr(t, !1) ? aA(r, e).includes(t) : !1;
}
function CA(r, e, t) {
  return sr(t, !1) ? oA(r, e).includes(t) : !1;
}
function u1(r, e, t) {
  let i = null;
  const s = NA(r),
    a = OA(e),
    f = Object.keys(s),
    g = Object.keys(a),
    v = d1(Object.keys(r)),
    h = d1(Object.keys(e)),
    y = v.filter((A) => !h.includes(A));
  return (
    y.length &&
      (i = be(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${y.toString()}
      Received: ${Object.keys(e).toString()}`
      )),
    Es(f, g) ||
      (i = be(
        "NON_CONFORMING_NAMESPACES",
        `${t} namespaces chains don't satisfy required namespaces.
      Required: ${f.toString()}
      Approved: ${g.toString()}`
      )),
    Object.keys(e).forEach((A) => {
      if (!A.includes(":") || i) return;
      const P = ga(e[A].accounts);
      P.includes(A) ||
        (i = be(
          "NON_CONFORMING_NAMESPACES",
          `${t} namespaces accounts don't satisfy namespace accounts for ${A}
        Required: ${A}
        Approved: ${P.toString()}`
        ));
    }),
    f.forEach((A) => {
      i ||
        (Es(s[A].methods, a[A].methods)
          ? Es(s[A].events, a[A].events) ||
            (i = be(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces events don't satisfy namespace events for ${A}`
            ))
          : (i = be(
              "NON_CONFORMING_NAMESPACES",
              `${t} namespaces methods don't satisfy namespace methods for ${A}`
            )));
    }),
    i
  );
}
function NA(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      var i;
      t.includes(":")
        ? (e[t] = r[t])
        : (i = r[t].chains) == null ||
          i.forEach((s) => {
            e[s] = { methods: r[t].methods, events: r[t].events };
          });
    }),
    e
  );
}
function d1(r) {
  return [...new Set(r.map((e) => (e.includes(":") ? e.split(":")[0] : e)))];
}
function OA(r) {
  const e = {};
  return (
    Object.keys(r).forEach((t) => {
      if (t.includes(":")) e[t] = r[t];
      else {
        const i = ga(r[t].accounts);
        i == null ||
          i.forEach((s) => {
            e[s] = {
              accounts: r[t].accounts.filter((a) => a.includes(`${s}:`)),
              methods: r[t].methods,
              events: r[t].events,
            };
          });
      }
    }),
    e
  );
}
function TA(r, e) {
  return ad(r, !1) && r <= e.max && r >= e.min;
}
function l1() {
  const r = po();
  return new Promise((e) => {
    switch (r) {
      case ci.browser:
        e(qA());
        break;
      case ci.reactNative:
        e(DA());
        break;
      case ci.node:
        e(BA());
        break;
      default:
        e(!0);
    }
  });
}
function qA() {
  return lo() && (navigator == null ? void 0 : navigator.onLine);
}
async function DA() {
  if (ha() && typeof global < "u" && global != null && global.NetInfo) {
    const r = await (global == null ? void 0 : global.NetInfo.fetch());
    return r == null ? void 0 : r.isConnected;
  }
  return !0;
}
function BA() {
  return !0;
}
function FA(r) {
  switch (po()) {
    case ci.browser:
      LA(r);
      break;
    case ci.reactNative:
      kA(r);
      break;
  }
}
function LA(r) {
  !ha() &&
    lo() &&
    (window.addEventListener("online", () => r(!0)),
    window.addEventListener("offline", () => r(!1)));
}
function kA(r) {
  ha() &&
    typeof global < "u" &&
    global != null &&
    global.NetInfo &&
    (global == null ||
      global.NetInfo.addEventListener((e) =>
        r(e == null ? void 0 : e.isConnected)
      ));
}
const yu = {};
class $a {
  static get(e) {
    return yu[e];
  }
  static set(e, t) {
    yu[e] = t;
  }
  static delete(e) {
    delete yu[e];
  }
}
class zA extends Cs {
  constructor(e) {
    super(), (this.opts = e), (this.protocol = "wc"), (this.version = 2);
  }
}
class $A extends Cs {
  constructor(e, t) {
    super(), (this.core = e), (this.logger = t), (this.records = new Map());
  }
}
class UA {
  constructor(e, t) {
    (this.logger = e), (this.core = t);
  }
}
let jA = class extends Cs {
    constructor(e, t) {
      super(), (this.relayer = e), (this.logger = t);
    }
  },
  KA = class extends Cs {
    constructor(e) {
      super();
    }
  },
  HA = class {
    constructor(e, t, i, s) {
      (this.core = e), (this.logger = t), (this.name = i);
    }
  };
class VA extends Cs {
  constructor(e, t) {
    super(), (this.relayer = e), (this.logger = t);
  }
}
let GA = class extends Cs {
    constructor(e, t) {
      super(), (this.core = e), (this.logger = t);
    }
  },
  JA = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.store = i);
    }
  },
  WA = class {
    constructor(e, t) {
      (this.projectId = e), (this.logger = t);
    }
  },
  QA = class {
    constructor(e, t, i) {
      (this.core = e), (this.logger = t), (this.telemetryEnabled = i);
    }
  };
class YA {
  constructor(e) {
    (this.opts = e), (this.protocol = "wc"), (this.version = 2);
  }
}
let XA = class {
  constructor(e) {
    this.client = e;
  }
};
const wv = "wc",
  _v = 2,
  od = "core",
  bn = `${wv}@2:${od}:`,
  ZA = { name: od, logger: "error" },
  ex = { database: ":memory:" },
  tx = "crypto",
  p1 = "client_ed25519_seed",
  rx = ye.ONE_DAY,
  ix = "keychain",
  nx = "0.3",
  sx = "messages",
  ax = "0.3",
  ox = ye.SIX_HOURS,
  cx = "publisher",
  Av = "irn",
  fx = "error",
  xv = "wss://relay.walletconnect.org",
  hx = "relayer",
  Fr = {
    message: "relayer_message",
    message_ack: "relayer_message_ack",
    connect: "relayer_connect",
    disconnect: "relayer_disconnect",
    error: "relayer_error",
    connection_stalled: "relayer_connection_stalled",
    transport_closed: "relayer_transport_closed",
    publish: "relayer_publish",
  },
  ux = "_subscription",
  xi = {
    payload: "payload",
    connect: "connect",
    disconnect: "disconnect",
    error: "error",
  },
  dx = 0.1,
  ku = "2.17.0",
  Kt = { link_mode: "link_mode", relay: "relay" },
  lx = "0.3",
  px = "WALLETCONNECT_CLIENT_ID",
  g1 = "WALLETCONNECT_LINK_MODE_APPS",
  fn = {
    created: "subscription_created",
    deleted: "subscription_deleted",
    expired: "subscription_expired",
    disabled: "subscription_disabled",
    sync: "subscription_sync",
    resubscribed: "subscription_resubscribed",
  },
  gx = "subscription",
  vx = "0.3",
  bx = ye.FIVE_SECONDS * 1e3,
  mx = "pairing",
  yx = "0.3",
  Ua = {
    wc_pairingDelete: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 1e3 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 1001 },
    },
    wc_pairingPing: {
      req: { ttl: ye.THIRTY_SECONDS, prompt: !1, tag: 1002 },
      res: { ttl: ye.THIRTY_SECONDS, prompt: !1, tag: 1003 },
    },
    unregistered_method: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 0 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 0 },
    },
  },
  As = {
    create: "pairing_create",
    expire: "pairing_expire",
    delete: "pairing_delete",
    ping: "pairing_ping",
  },
  Ui = {
    created: "history_created",
    updated: "history_updated",
    deleted: "history_deleted",
    sync: "history_sync",
  },
  wx = "history",
  _x = "0.3",
  Ax = "expirer",
  Ei = {
    created: "expirer_created",
    deleted: "expirer_deleted",
    expired: "expirer_expired",
    sync: "expirer_sync",
  },
  xx = "0.3",
  Ex = "verify-api",
  Ix = "https://verify.walletconnect.com",
  Ev = "https://verify.walletconnect.org",
  ro = Ev,
  Sx = `${ro}/v3`,
  Mx = [Ix, Ev],
  Px = "echo",
  Rx = "https://echo.walletconnect.com",
  sn = {
    pairing_started: "pairing_started",
    pairing_uri_validation_success: "pairing_uri_validation_success",
    pairing_uri_not_expired: "pairing_uri_not_expired",
    store_new_pairing: "store_new_pairing",
    subscribing_pairing_topic: "subscribing_pairing_topic",
    subscribe_pairing_topic_success: "subscribe_pairing_topic_success",
    existing_pairing: "existing_pairing",
    pairing_not_expired: "pairing_not_expired",
    emit_inactive_pairing: "emit_inactive_pairing",
    emit_session_proposal: "emit_session_proposal",
    subscribing_to_pairing_topic: "subscribing_to_pairing_topic",
  },
  On = {
    no_wss_connection: "no_wss_connection",
    no_internet_connection: "no_internet_connection",
    malformed_pairing_uri: "malformed_pairing_uri",
    active_pairing_already_exists: "active_pairing_already_exists",
    subscribe_pairing_topic_failure: "subscribe_pairing_topic_failure",
    pairing_expired: "pairing_expired",
    proposal_expired: "proposal_expired",
    proposal_listener_not_found: "proposal_listener_not_found",
  },
  ji = {
    session_approve_started: "session_approve_started",
    proposal_not_expired: "proposal_not_expired",
    session_namespaces_validation_success:
      "session_namespaces_validation_success",
    create_session_topic: "create_session_topic",
    subscribing_session_topic: "subscribing_session_topic",
    subscribe_session_topic_success: "subscribe_session_topic_success",
    publishing_session_approve: "publishing_session_approve",
    session_approve_publish_success: "session_approve_publish_success",
    store_session: "store_session",
    publishing_session_settle: "publishing_session_settle",
    session_settle_publish_success: "session_settle_publish_success",
  },
  ys = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    proposal_expired: "proposal_expired",
    subscribe_session_topic_failure: "subscribe_session_topic_failure",
    session_approve_publish_failure: "session_approve_publish_failure",
    session_settle_publish_failure: "session_settle_publish_failure",
    session_approve_namespace_validation_failure:
      "session_approve_namespace_validation_failure",
    proposal_not_found: "proposal_not_found",
  },
  ws = {
    authenticated_session_approve_started:
      "authenticated_session_approve_started",
    authenticated_session_not_expired: "authenticated_session_not_expired",
    chains_caip2_compliant: "chains_caip2_compliant",
    chains_evm_compliant: "chains_evm_compliant",
    create_authenticated_session_topic: "create_authenticated_session_topic",
    cacaos_verified: "cacaos_verified",
    store_authenticated_session: "store_authenticated_session",
    subscribing_authenticated_session_topic:
      "subscribing_authenticated_session_topic",
    subscribe_authenticated_session_topic_success:
      "subscribe_authenticated_session_topic_success",
    publishing_authenticated_session_approve:
      "publishing_authenticated_session_approve",
    authenticated_session_approve_publish_success:
      "authenticated_session_approve_publish_success",
  },
  ja = {
    no_internet_connection: "no_internet_connection",
    no_wss_connection: "no_wss_connection",
    missing_session_authenticate_request:
      "missing_session_authenticate_request",
    session_authenticate_request_expired:
      "session_authenticate_request_expired",
    chains_caip2_compliant_failure: "chains_caip2_compliant_failure",
    chains_evm_compliant_failure: "chains_evm_compliant_failure",
    invalid_cacao: "invalid_cacao",
    subscribe_authenticated_session_topic_failure:
      "subscribe_authenticated_session_topic_failure",
    authenticated_session_approve_publish_failure:
      "authenticated_session_approve_publish_failure",
    authenticated_session_pending_request_not_found:
      "authenticated_session_pending_request_not_found",
  },
  Cx = 0.1,
  Nx = "event-client",
  Ox = 86400,
  Tx = "https://pulse.walletconnect.org/batch";
function qx(r, e) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), i = 0; i < t.length; i++) t[i] = 255;
  for (var s = 0; s < r.length; s++) {
    var a = r.charAt(s),
      f = a.charCodeAt(0);
    if (t[f] !== 255) throw new TypeError(a + " is ambiguous");
    t[f] = s;
  }
  var g = r.length,
    v = r.charAt(0),
    h = Math.log(g) / Math.log(256),
    y = Math.log(256) / Math.log(g);
  function A(C) {
    if (
      (C instanceof Uint8Array ||
        (ArrayBuffer.isView(C)
          ? (C = new Uint8Array(C.buffer, C.byteOffset, C.byteLength))
          : Array.isArray(C) && (C = Uint8Array.from(C))),
      !(C instanceof Uint8Array))
    )
      throw new TypeError("Expected Uint8Array");
    if (C.length === 0) return "";
    for (var q = 0, L = 0, j = 0, H = C.length; j !== H && C[j] === 0; )
      j++, q++;
    for (var Y = ((H - j) * y + 1) >>> 0, Q = new Uint8Array(Y); j !== H; ) {
      for (
        var G = C[j], ee = 0, ne = Y - 1;
        (G !== 0 || ee < L) && ne !== -1;
        ne--, ee++
      )
        (G += (256 * Q[ne]) >>> 0), (Q[ne] = G % g >>> 0), (G = (G / g) >>> 0);
      if (G !== 0) throw new Error("Non-zero carry");
      (L = ee), j++;
    }
    for (var de = Y - L; de !== Y && Q[de] === 0; ) de++;
    for (var fe = v.repeat(q); de < Y; ++de) fe += r.charAt(Q[de]);
    return fe;
  }
  function P(C) {
    if (typeof C != "string") throw new TypeError("Expected String");
    if (C.length === 0) return new Uint8Array();
    var q = 0;
    if (C[q] !== " ") {
      for (var L = 0, j = 0; C[q] === v; ) L++, q++;
      for (
        var H = ((C.length - q) * h + 1) >>> 0, Y = new Uint8Array(H);
        C[q];

      ) {
        var Q = t[C.charCodeAt(q)];
        if (Q === 255) return;
        for (var G = 0, ee = H - 1; (Q !== 0 || G < j) && ee !== -1; ee--, G++)
          (Q += (g * Y[ee]) >>> 0),
            (Y[ee] = Q % 256 >>> 0),
            (Q = (Q / 256) >>> 0);
        if (Q !== 0) throw new Error("Non-zero carry");
        (j = G), q++;
      }
      if (C[q] !== " ") {
        for (var ne = H - j; ne !== H && Y[ne] === 0; ) ne++;
        for (var de = new Uint8Array(L + (H - ne)), fe = L; ne !== H; )
          de[fe++] = Y[ne++];
        return de;
      }
    }
  }
  function R(C) {
    var q = P(C);
    if (q) return q;
    throw new Error(`Non-${e} character`);
  }
  return { encode: A, decodeUnsafe: P, decode: R };
}
var Dx = qx,
  Bx = Dx;
const Iv = (r) => {
    if (r instanceof Uint8Array && r.constructor.name === "Uint8Array")
      return r;
    if (r instanceof ArrayBuffer) return new Uint8Array(r);
    if (ArrayBuffer.isView(r))
      return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);
    throw new Error("Unknown type, must be binary type");
  },
  Fx = (r) => new TextEncoder().encode(r),
  Lx = (r) => new TextDecoder().decode(r);
class kx {
  constructor(e, t, i) {
    (this.name = e), (this.prefix = t), (this.baseEncode = i);
  }
  encode(e) {
    if (e instanceof Uint8Array) return `${this.prefix}${this.baseEncode(e)}`;
    throw Error("Unknown type, must be binary type");
  }
}
class zx {
  constructor(e, t, i) {
    if (((this.name = e), (this.prefix = t), t.codePointAt(0) === void 0))
      throw new Error("Invalid prefix character");
    (this.prefixCodePoint = t.codePointAt(0)), (this.baseDecode = i);
  }
  decode(e) {
    if (typeof e == "string") {
      if (e.codePointAt(0) !== this.prefixCodePoint)
        throw Error(
          `Unable to decode multibase string ${JSON.stringify(e)}, ${
            this.name
          } decoder only supports inputs prefixed with ${this.prefix}`
        );
      return this.baseDecode(e.slice(this.prefix.length));
    } else throw Error("Can only multibase decode strings");
  }
  or(e) {
    return Sv(this, e);
  }
}
class $x {
  constructor(e) {
    this.decoders = e;
  }
  or(e) {
    return Sv(this, e);
  }
  decode(e) {
    const t = e[0],
      i = this.decoders[t];
    if (i) return i.decode(e);
    throw RangeError(
      `Unable to decode multibase string ${JSON.stringify(
        e
      )}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`
    );
  }
}
const Sv = (r, e) =>
  new $x({
    ...(r.decoders || { [r.prefix]: r }),
    ...(e.decoders || { [e.prefix]: e }),
  });
class Ux {
  constructor(e, t, i, s) {
    (this.name = e),
      (this.prefix = t),
      (this.baseEncode = i),
      (this.baseDecode = s),
      (this.encoder = new kx(e, t, i)),
      (this.decoder = new zx(e, t, s));
  }
  encode(e) {
    return this.encoder.encode(e);
  }
  decode(e) {
    return this.decoder.decode(e);
  }
}
const pf = ({ name: r, prefix: e, encode: t, decode: i }) => new Ux(r, e, t, i),
  mo = ({ prefix: r, name: e, alphabet: t }) => {
    const { encode: i, decode: s } = Bx(t, e);
    return pf({ prefix: r, name: e, encode: i, decode: (a) => Iv(s(a)) });
  },
  jx = (r, e, t, i) => {
    const s = {};
    for (let y = 0; y < e.length; ++y) s[e[y]] = y;
    let a = r.length;
    for (; r[a - 1] === "="; ) --a;
    const f = new Uint8Array(((a * t) / 8) | 0);
    let g = 0,
      v = 0,
      h = 0;
    for (let y = 0; y < a; ++y) {
      const A = s[r[y]];
      if (A === void 0) throw new SyntaxError(`Non-${i} character`);
      (v = (v << t) | A),
        (g += t),
        g >= 8 && ((g -= 8), (f[h++] = 255 & (v >> g)));
    }
    if (g >= t || 255 & (v << (8 - g)))
      throw new SyntaxError("Unexpected end of data");
    return f;
  },
  Kx = (r, e, t) => {
    const i = e[e.length - 1] === "=",
      s = (1 << t) - 1;
    let a = "",
      f = 0,
      g = 0;
    for (let v = 0; v < r.length; ++v)
      for (g = (g << 8) | r[v], f += 8; f > t; )
        (f -= t), (a += e[s & (g >> f)]);
    if ((f && (a += e[s & (g << (t - f))]), i))
      for (; (a.length * t) & 7; ) a += "=";
    return a;
  },
  xr = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) =>
    pf({
      prefix: e,
      name: r,
      encode(s) {
        return Kx(s, i, t);
      },
      decode(s) {
        return jx(s, i, t, r);
      },
    }),
  Hx = pf({
    prefix: "\0",
    name: "identity",
    encode: (r) => Lx(r),
    decode: (r) => Fx(r),
  });
var Vx = Object.freeze({ __proto__: null, identity: Hx });
const Gx = xr({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var Jx = Object.freeze({ __proto__: null, base2: Gx });
const Wx = xr({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3,
});
var Qx = Object.freeze({ __proto__: null, base8: Wx });
const Yx = mo({ prefix: "9", name: "base10", alphabet: "0123456789" });
var Xx = Object.freeze({ __proto__: null, base10: Yx });
const Zx = xr({
    prefix: "f",
    name: "base16",
    alphabet: "0123456789abcdef",
    bitsPerChar: 4,
  }),
  eE = xr({
    prefix: "F",
    name: "base16upper",
    alphabet: "0123456789ABCDEF",
    bitsPerChar: 4,
  });
var tE = Object.freeze({ __proto__: null, base16: Zx, base16upper: eE });
const rE = xr({
    prefix: "b",
    name: "base32",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567",
    bitsPerChar: 5,
  }),
  iE = xr({
    prefix: "B",
    name: "base32upper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
    bitsPerChar: 5,
  }),
  nE = xr({
    prefix: "c",
    name: "base32pad",
    alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
    bitsPerChar: 5,
  }),
  sE = xr({
    prefix: "C",
    name: "base32padupper",
    alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
    bitsPerChar: 5,
  }),
  aE = xr({
    prefix: "v",
    name: "base32hex",
    alphabet: "0123456789abcdefghijklmnopqrstuv",
    bitsPerChar: 5,
  }),
  oE = xr({
    prefix: "V",
    name: "base32hexupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
    bitsPerChar: 5,
  }),
  cE = xr({
    prefix: "t",
    name: "base32hexpad",
    alphabet: "0123456789abcdefghijklmnopqrstuv=",
    bitsPerChar: 5,
  }),
  fE = xr({
    prefix: "T",
    name: "base32hexpadupper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
    bitsPerChar: 5,
  }),
  hE = xr({
    prefix: "h",
    name: "base32z",
    alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
    bitsPerChar: 5,
  });
var uE = Object.freeze({
  __proto__: null,
  base32: rE,
  base32upper: iE,
  base32pad: nE,
  base32padupper: sE,
  base32hex: aE,
  base32hexupper: oE,
  base32hexpad: cE,
  base32hexpadupper: fE,
  base32z: hE,
});
const dE = mo({
    prefix: "k",
    name: "base36",
    alphabet: "0123456789abcdefghijklmnopqrstuvwxyz",
  }),
  lE = mo({
    prefix: "K",
    name: "base36upper",
    alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",
  });
var pE = Object.freeze({ __proto__: null, base36: dE, base36upper: lE });
const gE = mo({
    name: "base58btc",
    prefix: "z",
    alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  }),
  vE = mo({
    name: "base58flickr",
    prefix: "Z",
    alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",
  });
var bE = Object.freeze({ __proto__: null, base58btc: gE, base58flickr: vE });
const mE = xr({
    prefix: "m",
    name: "base64",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    bitsPerChar: 6,
  }),
  yE = xr({
    prefix: "M",
    name: "base64pad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    bitsPerChar: 6,
  }),
  wE = xr({
    prefix: "u",
    name: "base64url",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
    bitsPerChar: 6,
  }),
  _E = xr({
    prefix: "U",
    name: "base64urlpad",
    alphabet:
      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
    bitsPerChar: 6,
  });
var AE = Object.freeze({
  __proto__: null,
  base64: mE,
  base64pad: yE,
  base64url: wE,
  base64urlpad: _E,
});
const Mv = Array.from(
    ""
  ),
  xE = Mv.reduce((r, e, t) => ((r[t] = e), r), []),
  EE = Mv.reduce((r, e, t) => ((r[e.codePointAt(0)] = t), r), []);
function IE(r) {
  return r.reduce((e, t) => ((e += xE[t]), e), "");
}
function SE(r) {
  const e = [];
  for (const t of r) {
    const i = EE[t.codePointAt(0)];
    if (i === void 0) throw new Error(`Non-base256emoji character: ${t}`);
    e.push(i);
  }
  return new Uint8Array(e);
}
const ME = pf({ prefix: "", name: "base256emoji", encode: IE, decode: SE });
var PE = Object.freeze({ __proto__: null, base256emoji: ME }),
  RE = Pv,
  v1 = 128,
  CE = -128,
  NE = Math.pow(2, 31);
function Pv(r, e, t) {
  (e = e || []), (t = t || 0);
  for (var i = t; r >= NE; ) (e[t++] = (r & 255) | v1), (r /= 128);
  for (; r & CE; ) (e[t++] = (r & 255) | v1), (r >>>= 7);
  return (e[t] = r | 0), (Pv.bytes = t - i + 1), e;
}
var OE = zu,
  TE = 128,
  b1 = 127;
function zu(r, i) {
  var t = 0,
    i = i || 0,
    s = 0,
    a = i,
    f,
    g = r.length;
  do {
    if (a >= g)
      throw ((zu.bytes = 0), new RangeError("Could not decode varint"));
    (f = r[a++]),
      (t += s < 28 ? (f & b1) << s : (f & b1) * Math.pow(2, s)),
      (s += 7);
  } while (f >= TE);
  return (zu.bytes = a - i), t;
}
var qE = Math.pow(2, 7),
  DE = Math.pow(2, 14),
  BE = Math.pow(2, 21),
  FE = Math.pow(2, 28),
  LE = Math.pow(2, 35),
  kE = Math.pow(2, 42),
  zE = Math.pow(2, 49),
  $E = Math.pow(2, 56),
  UE = Math.pow(2, 63),
  jE = function (r) {
    return r < qE
      ? 1
      : r < DE
      ? 2
      : r < BE
      ? 3
      : r < FE
      ? 4
      : r < LE
      ? 5
      : r < kE
      ? 6
      : r < zE
      ? 7
      : r < $E
      ? 8
      : r < UE
      ? 9
      : 10;
  },
  KE = { encode: RE, decode: OE, encodingLength: jE },
  Rv = KE;
const m1 = (r, e, t = 0) => (Rv.encode(r, e, t), e),
  y1 = (r) => Rv.encodingLength(r),
  $u = (r, e) => {
    const t = e.byteLength,
      i = y1(r),
      s = i + y1(t),
      a = new Uint8Array(s + t);
    return m1(r, a, 0), m1(t, a, i), a.set(e, s), new HE(r, t, e, a);
  };
class HE {
  constructor(e, t, i, s) {
    (this.code = e), (this.size = t), (this.digest = i), (this.bytes = s);
  }
}
const Cv = ({ name: r, code: e, encode: t }) => new VE(r, e, t);
class VE {
  constructor(e, t, i) {
    (this.name = e), (this.code = t), (this.encode = i);
  }
  digest(e) {
    if (e instanceof Uint8Array) {
      const t = this.encode(e);
      return t instanceof Uint8Array
        ? $u(this.code, t)
        : t.then((i) => $u(this.code, i));
    } else throw Error("Unknown type, must be binary type");
  }
}
const Nv = (r) => async (e) => new Uint8Array(await crypto.subtle.digest(r, e)),
  GE = Cv({ name: "sha2-256", code: 18, encode: Nv("SHA-256") }),
  JE = Cv({ name: "sha2-512", code: 19, encode: Nv("SHA-512") });
var WE = Object.freeze({ __proto__: null, sha256: GE, sha512: JE });
const Ov = 0,
  QE = "identity",
  Tv = Iv,
  YE = (r) => $u(Ov, Tv(r)),
  XE = { code: Ov, name: QE, encode: Tv, digest: YE };
var ZE = Object.freeze({ __proto__: null, identity: XE });
new TextEncoder(), new TextDecoder();
const w1 = {
  ...Vx,
  ...Jx,
  ...Qx,
  ...Xx,
  ...tE,
  ...uE,
  ...pE,
  ...bE,
  ...AE,
  ...PE,
};
({ ...WE, ...ZE });
function eI(r = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null
    ? globalThis.Buffer.allocUnsafe(r)
    : new Uint8Array(r);
}
function qv(r, e, t, i) {
  return {
    name: r,
    prefix: e,
    encoder: { name: r, prefix: e, encode: t },
    decoder: { decode: i },
  };
}
const _1 = qv(
    "utf8",
    "u",
    (r) => "u" + new TextDecoder("utf8").decode(r),
    (r) => new TextEncoder().encode(r.substring(1))
  ),
  wu = qv(
    "ascii",
    "a",
    (r) => {
      let e = "a";
      for (let t = 0; t < r.length; t++) e += String.fromCharCode(r[t]);
      return e;
    },
    (r) => {
      r = r.substring(1);
      const e = eI(r.length);
      for (let t = 0; t < r.length; t++) e[t] = r.charCodeAt(t);
      return e;
    }
  ),
  tI = {
    utf8: _1,
    "utf-8": _1,
    hex: w1.base16,
    latin1: wu,
    ascii: wu,
    binary: wu,
    ...w1,
  };
function rI(r, e = "utf8") {
  const t = tI[e];
  if (!t) throw new Error(`Unsupported encoding "${e}"`);
  return (e === "utf8" || e === "utf-8") &&
    globalThis.Buffer != null &&
    globalThis.Buffer.from != null
    ? globalThis.Buffer.from(r, "utf8")
    : t.decoder.decode(`${t.prefix}${r}`);
}
class iI {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.keychain = new Map()),
      (this.name = ix),
      (this.version = nx),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.init = async () => {
        if (!this.initialized) {
          const i = await this.getKeyChain();
          typeof i < "u" && (this.keychain = i), (this.initialized = !0);
        }
      }),
      (this.has = (i) => (this.isInitialized(), this.keychain.has(i))),
      (this.set = async (i, s) => {
        this.isInitialized(), this.keychain.set(i, s), await this.persist();
      }),
      (this.get = (i) => {
        this.isInitialized();
        const s = this.keychain.get(i);
        if (typeof s > "u") {
          const { message: a } = be("NO_MATCHING_KEY", `${this.name}: ${i}`);
          throw new Error(a);
        }
        return s;
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.keychain.delete(i), await this.persist();
      }),
      (this.core = e),
      (this.logger = $r(t, this.name));
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setKeyChain(e) {
    await this.core.storage.setItem(this.storageKey, Ig(e));
  }
  async getKeyChain() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? Sg(e) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class nI {
  constructor(e, t, i) {
    (this.core = e),
      (this.logger = t),
      (this.name = tx),
      (this.randomSessionIdentifier = Fu()),
      (this.initialized = !1),
      (this.init = async () => {
        this.initialized ||
          (await this.keychain.init(), (this.initialized = !0));
      }),
      (this.hasKeys = (s) => (this.isInitialized(), this.keychain.has(s))),
      (this.getClientId = async () => {
        this.isInitialized();
        const s = await this.getClientSeed(),
          a = C0(s);
        return hg(a.publicKey);
      }),
      (this.generateKeyPair = () => {
        this.isInitialized();
        const s = L_();
        return this.setPrivateKey(s.publicKey, s.privateKey);
      }),
      (this.signJWT = async (s) => {
        this.isInitialized();
        const a = await this.getClientSeed(),
          f = C0(a),
          g = this.randomSessionIdentifier;
        return await cw(g, s, rx, f);
      }),
      (this.generateSharedKey = (s, a, f) => {
        this.isInitialized();
        const g = this.getPrivateKey(s),
          v = k_(g, a);
        return this.setSymKey(v, f);
      }),
      (this.setSymKey = async (s, a) => {
        this.isInitialized();
        const f = a || jc(s);
        return await this.keychain.set(f, s), f;
      }),
      (this.deleteKeyPair = async (s) => {
        this.isInitialized(), await this.keychain.del(s);
      }),
      (this.deleteSymKey = async (s) => {
        this.isInitialized(), await this.keychain.del(s);
      }),
      (this.encode = async (s, a, f) => {
        this.isInitialized();
        const g = bv(f),
          v = Ln(a);
        if (r1(g)) return $_(v, f == null ? void 0 : f.encoding);
        if (t1(g)) {
          const P = g.senderPublicKey,
            R = g.receiverPublicKey;
          s = await this.generateSharedKey(P, R);
        }
        const h = this.getSymKey(s),
          { type: y, senderPublicKey: A } = g;
        return z_({
          type: y,
          symKey: h,
          message: v,
          senderPublicKey: A,
          encoding: f == null ? void 0 : f.encoding,
        });
      }),
      (this.decode = async (s, a, f) => {
        this.isInitialized();
        const g = K_(a, f);
        if (r1(g)) {
          const v = j_(a, f == null ? void 0 : f.encoding);
          return Ss(v);
        }
        if (t1(g)) {
          const v = g.receiverPublicKey,
            h = g.senderPublicKey;
          s = await this.generateSharedKey(v, h);
        }
        try {
          const v = this.getSymKey(s),
            h = U_({
              symKey: v,
              encoded: a,
              encoding: f == null ? void 0 : f.encoding,
            });
          return Ss(h);
        } catch (v) {
          this.logger.error(
            `Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`
          ),
            this.logger.error(v);
        }
      }),
      (this.getPayloadType = (s, a = is) => {
        const f = so({ encoded: s, encoding: a });
        return Ps(f.type);
      }),
      (this.getPayloadSenderPublicKey = (s, a = is) => {
        const f = so({ encoded: s, encoding: a });
        return f.senderPublicKey ? yr(f.senderPublicKey, zr) : void 0;
      }),
      (this.core = e),
      (this.logger = $r(t, this.name)),
      (this.keychain = i || new iI(this.core, this.logger));
  }
  get context() {
    return ti(this.logger);
  }
  async setPrivateKey(e, t) {
    return await this.keychain.set(e, t), e;
  }
  getPrivateKey(e) {
    return this.keychain.get(e);
  }
  async getClientSeed() {
    let e = "";
    try {
      e = this.keychain.get(p1);
    } catch {
      (e = Fu()), await this.keychain.set(p1, e);
    }
    return rI(e, "base16");
  }
  getSymKey(e) {
    return this.keychain.get(e);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class sI extends UA {
  constructor(e, t) {
    super(e, t),
      (this.logger = e),
      (this.core = t),
      (this.messages = new Map()),
      (this.name = sx),
      (this.version = ax),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.init = async () => {
        if (!this.initialized) {
          this.logger.trace("Initialized");
          try {
            const i = await this.getRelayerMessages();
            typeof i < "u" && (this.messages = i),
              this.logger.debug(
                `Successfully Restored records for ${this.name}`
              ),
              this.logger.trace({
                type: "method",
                method: "restore",
                size: this.messages.size,
              });
          } catch (i) {
            this.logger.debug(`Failed to Restore records for ${this.name}`),
              this.logger.error(i);
          } finally {
            this.initialized = !0;
          }
        }
      }),
      (this.set = async (i, s) => {
        this.isInitialized();
        const a = qn(s);
        let f = this.messages.get(i);
        return (
          typeof f > "u" && (f = {}),
          typeof f[a] < "u" ||
            ((f[a] = s), this.messages.set(i, f), await this.persist()),
          a
        );
      }),
      (this.get = (i) => {
        this.isInitialized();
        let s = this.messages.get(i);
        return typeof s > "u" && (s = {}), s;
      }),
      (this.has = (i, s) => {
        this.isInitialized();
        const a = this.get(i),
          f = qn(s);
        return typeof a[f] < "u";
      }),
      (this.del = async (i) => {
        this.isInitialized(), this.messages.delete(i), await this.persist();
      }),
      (this.logger = $r(e, this.name)),
      (this.core = t);
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  async setRelayerMessages(e) {
    await this.core.storage.setItem(this.storageKey, Ig(e));
  }
  async getRelayerMessages() {
    const e = await this.core.storage.getItem(this.storageKey);
    return typeof e < "u" ? Sg(e) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class aI extends jA {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.events = new Pi.EventEmitter()),
      (this.name = cx),
      (this.queue = new Map()),
      (this.publishTimeout = ye.toMiliseconds(ye.ONE_MINUTE)),
      (this.failedPublishTimeout = ye.toMiliseconds(ye.ONE_SECOND)),
      (this.needsTransportRestart = !1),
      (this.publish = async (i, s, a) => {
        var f;
        this.logger.debug("Publishing Payload"),
          this.logger.trace({
            type: "method",
            method: "publish",
            params: { topic: i, message: s, opts: a },
          });
        const g = (a == null ? void 0 : a.ttl) || ox,
          v = Lu(a),
          h = (a == null ? void 0 : a.prompt) || !1,
          y = (a == null ? void 0 : a.tag) || 0,
          A = (a == null ? void 0 : a.id) || xs().toString(),
          P = {
            topic: i,
            message: s,
            opts: {
              ttl: g,
              relay: v,
              prompt: h,
              tag: y,
              id: A,
              attestation: a == null ? void 0 : a.attestation,
            },
          },
          R = `Failed to publish payload, please try again. id:${A} tag:${y}`,
          C = Date.now();
        let q,
          L = 1;
        try {
          for (; q === void 0; ) {
            if (Date.now() - C > this.publishTimeout) throw new Error(R);
            this.logger.trace(
              { id: A, attempts: L },
              `publisher.publish - attempt ${L}`
            ),
              (q = await await ia(
                this.rpcPublish(
                  i,
                  s,
                  g,
                  v,
                  h,
                  y,
                  A,
                  a == null ? void 0 : a.attestation
                ).catch((j) => this.logger.warn(j)),
                this.publishTimeout,
                R
              )),
              L++,
              q ||
                (await new Promise((j) =>
                  setTimeout(j, this.failedPublishTimeout)
                ));
          }
          this.relayer.events.emit(Fr.publish, P),
            this.logger.debug("Successfully Published Payload"),
            this.logger.trace({
              type: "method",
              method: "publish",
              params: { id: A, topic: i, message: s, opts: a },
            });
        } catch (j) {
          if (
            (this.logger.debug("Failed to Publish Payload"),
            this.logger.error(j),
            (f = a == null ? void 0 : a.internal) != null &&
              f.throwOnFailedPublish)
          )
            throw j;
          this.queue.set(A, P);
        }
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.relayer = e),
      (this.logger = $r(t, this.name)),
      this.registerEventListeners();
  }
  get context() {
    return ti(this.logger);
  }
  rpcPublish(e, t, i, s, a, f, g, v) {
    var h, y, A, P;
    const R = {
      method: Wa(s.protocol).publish,
      params: {
        topic: e,
        message: t,
        ttl: i,
        prompt: a,
        tag: f,
        attestation: v,
      },
      id: g,
    };
    return (
      kr((h = R.params) == null ? void 0 : h.prompt) &&
        ((y = R.params) == null || delete y.prompt),
      kr((A = R.params) == null ? void 0 : A.tag) &&
        ((P = R.params) == null || delete P.tag),
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "message", direction: "outgoing", request: R }),
      this.relayer.request(R)
    );
  }
  removeRequestFromQueue(e) {
    this.queue.delete(e);
  }
  checkQueue() {
    this.queue.forEach(async (e) => {
      const { topic: t, message: i, opts: s } = e;
      await this.publish(t, i, s);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(fa.pulse, () => {
      if (this.needsTransportRestart) {
        (this.needsTransportRestart = !1),
          this.relayer.events.emit(Fr.connection_stalled);
        return;
      }
      this.checkQueue();
    }),
      this.relayer.on(Fr.message_ack, (e) => {
        this.removeRequestFromQueue(e.id.toString());
      });
  }
}
class oI {
  constructor() {
    (this.map = new Map()),
      (this.set = (e, t) => {
        const i = this.get(e);
        this.exists(e, t) || this.map.set(e, [...i, t]);
      }),
      (this.get = (e) => this.map.get(e) || []),
      (this.exists = (e, t) => this.get(e).includes(t)),
      (this.delete = (e, t) => {
        if (typeof t > "u") {
          this.map.delete(e);
          return;
        }
        if (!this.map.has(e)) return;
        const i = this.get(e);
        if (!this.exists(e, t)) return;
        const s = i.filter((a) => a !== t);
        if (!s.length) {
          this.map.delete(e);
          return;
        }
        this.map.set(e, s);
      }),
      (this.clear = () => {
        this.map.clear();
      });
  }
  get topics() {
    return Array.from(this.map.keys());
  }
}
var cI = Object.defineProperty,
  fI = Object.defineProperties,
  hI = Object.getOwnPropertyDescriptors,
  A1 = Object.getOwnPropertySymbols,
  uI = Object.prototype.hasOwnProperty,
  dI = Object.prototype.propertyIsEnumerable,
  x1 = (r, e, t) =>
    e in r
      ? cI(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ka = (r, e) => {
    for (var t in e || (e = {})) uI.call(e, t) && x1(r, t, e[t]);
    if (A1) for (var t of A1(e)) dI.call(e, t) && x1(r, t, e[t]);
    return r;
  },
  _u = (r, e) => fI(r, hI(e));
class lI extends VA {
  constructor(e, t) {
    super(e, t),
      (this.relayer = e),
      (this.logger = t),
      (this.subscriptions = new Map()),
      (this.topicMap = new oI()),
      (this.events = new Pi.EventEmitter()),
      (this.name = gx),
      (this.version = vx),
      (this.pending = new Map()),
      (this.cached = []),
      (this.initialized = !1),
      (this.pendingSubscriptionWatchLabel = "pending_sub_watch_label"),
      (this.pollingInterval = 20),
      (this.storagePrefix = bn),
      (this.subscribeTimeout = ye.toMiliseconds(ye.ONE_MINUTE)),
      (this.restartInProgress = !1),
      (this.batchSubscribeTopicsLimit = 500),
      (this.pendingBatchMessages = []),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          this.registerEventListeners(),
          (this.clientId = await this.relayer.core.crypto.getClientId()),
          await this.restore()),
          (this.initialized = !0);
      }),
      (this.subscribe = async (i, s) => {
        this.isInitialized(),
          this.logger.debug("Subscribing Topic"),
          this.logger.trace({
            type: "method",
            method: "subscribe",
            params: { topic: i, opts: s },
          });
        try {
          const a = Lu(s),
            f = {
              topic: i,
              relay: a,
              transportType: s == null ? void 0 : s.transportType,
            };
          this.pending.set(i, f);
          const g = await this.rpcSubscribe(
            i,
            a,
            s == null ? void 0 : s.transportType
          );
          return (
            typeof g == "string" &&
              (this.onSubscribe(g, f),
              this.logger.debug("Successfully Subscribed Topic"),
              this.logger.trace({
                type: "method",
                method: "subscribe",
                params: { topic: i, opts: s },
              })),
            g
          );
        } catch (a) {
          throw (
            (this.logger.debug("Failed to Subscribe Topic"),
            this.logger.error(a),
            a)
          );
        }
      }),
      (this.unsubscribe = async (i, s) => {
        await this.restartToComplete(),
          this.isInitialized(),
          typeof (s == null ? void 0 : s.id) < "u"
            ? await this.unsubscribeById(i, s.id, s)
            : await this.unsubscribeByTopic(i, s);
      }),
      (this.isSubscribed = async (i) => {
        if (this.topics.includes(i)) return !0;
        const s = `${this.pendingSubscriptionWatchLabel}_${i}`;
        return await new Promise((a, f) => {
          const g = new ye.Watch();
          g.start(s);
          const v = setInterval(() => {
            !this.pending.has(i) &&
              this.topics.includes(i) &&
              (clearInterval(v), g.stop(s), a(!0)),
              g.elapsed(s) >= bx &&
                (clearInterval(v),
                g.stop(s),
                f(new Error("Subscription resolution timeout")));
          }, this.pollingInterval);
        }).catch(() => !1);
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.start = async () => {
        await this.onConnect();
      }),
      (this.stop = async () => {
        await this.onDisconnect();
      }),
      (this.restart = async () => {
        (this.restartInProgress = !0),
          await this.restore(),
          await this.reset(),
          (this.restartInProgress = !1);
      }),
      (this.relayer = e),
      (this.logger = $r(t, this.name)),
      (this.clientId = "");
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.relayer.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(e, t) {
    let i = !1;
    try {
      i = this.getSubscription(e).topic === t;
    } catch {}
    return i;
  }
  onEnable() {
    (this.cached = []), (this.initialized = !0);
  }
  onDisable() {
    (this.cached = this.values),
      this.subscriptions.clear(),
      this.topicMap.clear();
  }
  async unsubscribeByTopic(e, t) {
    const i = this.topicMap.get(e);
    await Promise.all(i.map(async (s) => await this.unsubscribeById(e, s, t)));
  }
  async unsubscribeById(e, t, i) {
    this.logger.debug("Unsubscribing Topic"),
      this.logger.trace({
        type: "method",
        method: "unsubscribe",
        params: { topic: e, id: t, opts: i },
      });
    try {
      const s = Lu(i);
      await this.rpcUnsubscribe(e, t, s);
      const a = Ft("USER_DISCONNECTED", `${this.name}, ${e}`);
      await this.onUnsubscribe(e, t, a),
        this.logger.debug("Successfully Unsubscribed Topic"),
        this.logger.trace({
          type: "method",
          method: "unsubscribe",
          params: { topic: e, id: t, opts: i },
        });
    } catch (s) {
      throw (
        (this.logger.debug("Failed to Unsubscribe Topic"),
        this.logger.error(s),
        s)
      );
    }
  }
  async rpcSubscribe(e, t, i = Kt.relay) {
    i === Kt.relay && (await this.restartToComplete());
    const s = { method: Wa(t.protocol).subscribe, params: { topic: e } };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: s });
    try {
      const a = qn(e + this.clientId);
      return i === Kt.link_mode
        ? (setTimeout(() => {
            (this.relayer.connected || this.relayer.connecting) &&
              this.relayer.request(s).catch((f) => this.logger.warn(f));
          }, ye.toMiliseconds(ye.ONE_SECOND)),
          a)
        : (await await ia(
            this.relayer.request(s).catch((f) => this.logger.warn(f)),
            this.subscribeTimeout
          ))
        ? a
        : null;
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"),
        this.relayer.events.emit(Fr.connection_stalled);
    }
    return null;
  }
  async rpcBatchSubscribe(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: Wa(t.protocol).batchSubscribe,
        params: { topics: e.map((s) => s.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    try {
      return await await ia(
        this.relayer.request(i).catch((s) => this.logger.warn(s)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Fr.connection_stalled);
    }
  }
  async rpcBatchFetchMessages(e) {
    if (!e.length) return;
    const t = e[0].relay,
      i = {
        method: Wa(t.protocol).batchFetchMessages,
        params: { topics: e.map((a) => a.topic) },
      };
    this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: i });
    let s;
    try {
      s = await await ia(
        this.relayer.request(i).catch((a) => this.logger.warn(a)),
        this.subscribeTimeout
      );
    } catch {
      this.relayer.events.emit(Fr.connection_stalled);
    }
    return s;
  }
  rpcUnsubscribe(e, t, i) {
    const s = {
      method: Wa(i.protocol).unsubscribe,
      params: { topic: e, id: t },
    };
    return (
      this.logger.debug("Outgoing Relay Payload"),
      this.logger.trace({ type: "payload", direction: "outgoing", request: s }),
      this.relayer.request(s)
    );
  }
  onSubscribe(e, t) {
    this.setSubscription(e, _u(Ka({}, t), { id: e })),
      this.pending.delete(t.topic);
  }
  onBatchSubscribe(e) {
    e.length &&
      e.forEach((t) => {
        this.setSubscription(t.id, Ka({}, t)), this.pending.delete(t.topic);
      });
  }
  async onUnsubscribe(e, t, i) {
    this.events.removeAllListeners(t),
      this.hasSubscription(t, e) && this.deleteSubscription(t, i),
      await this.relayer.messages.del(e);
  }
  async setRelayerSubscriptions(e) {
    await this.relayer.core.storage.setItem(this.storageKey, e);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(e, t) {
    this.logger.debug("Setting subscription"),
      this.logger.trace({
        type: "method",
        method: "setSubscription",
        id: e,
        subscription: t,
      }),
      this.addSubscription(e, t);
  }
  addSubscription(e, t) {
    this.subscriptions.set(e, Ka({}, t)),
      this.topicMap.set(t.topic, e),
      this.events.emit(fn.created, t);
  }
  getSubscription(e) {
    this.logger.debug("Getting subscription"),
      this.logger.trace({ type: "method", method: "getSubscription", id: e });
    const t = this.subscriptions.get(e);
    if (!t) {
      const { message: i } = be("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  deleteSubscription(e, t) {
    this.logger.debug("Deleting subscription"),
      this.logger.trace({
        type: "method",
        method: "deleteSubscription",
        id: e,
        reason: t,
      });
    const i = this.getSubscription(e);
    this.subscriptions.delete(e),
      this.topicMap.delete(i.topic, e),
      this.events.emit(fn.deleted, _u(Ka({}, i), { reason: t }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(fn.sync);
  }
  async reset() {
    if (this.cached.length) {
      const e = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let t = 0; t < e; t++) {
        const i = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchFetchMessages(i), await this.batchSubscribe(i);
      }
    }
    this.events.emit(fn.resubscribed);
  }
  async restore() {
    try {
      const e = await this.getRelayerSubscriptions();
      if (typeof e > "u" || !e.length) return;
      if (this.subscriptions.size) {
        const { message: t } = be("RESTORE_WILL_OVERRIDE", this.name);
        throw (
          (this.logger.error(t),
          this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),
          new Error(t))
        );
      }
      (this.cached = e),
        this.logger.debug(
          `Successfully Restored subscriptions for ${this.name}`
        ),
        this.logger.trace({
          type: "method",
          method: "restore",
          subscriptions: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),
        this.logger.error(e);
    }
  }
  async batchSubscribe(e) {
    if (!e.length) return;
    const t = await this.rpcBatchSubscribe(e);
    vn(t) &&
      this.onBatchSubscribe(t.map((i, s) => _u(Ka({}, e[s]), { id: i })));
  }
  async batchFetchMessages(e) {
    if (!e.length) return;
    this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);
    const t = await this.rpcBatchFetchMessages(e);
    t &&
      t.messages &&
      (this.pendingBatchMessages = this.pendingBatchMessages.concat(
        t.messages
      ));
  }
  async onConnect() {
    await this.restart(), this.onEnable();
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || !this.relayer.connected) return;
    const e = [];
    this.pending.forEach((t) => {
      e.push(t);
    }),
      await this.batchSubscribe(e),
      this.pendingBatchMessages.length &&
        (await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),
        (this.pendingBatchMessages = []));
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(fa.pulse, async () => {
      await this.checkPending();
    }),
      this.events.on(fn.created, async (e) => {
        const t = fn.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      }),
      this.events.on(fn.deleted, async (e) => {
        const t = fn.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          await this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async restartToComplete() {
    !this.relayer.connected &&
      !this.relayer.connecting &&
      (await this.relayer.transportOpen()),
      this.restartInProgress &&
        (await new Promise((e) => {
          const t = setInterval(() => {
            this.restartInProgress || (clearInterval(t), e());
          }, this.pollingInterval);
        }));
  }
}
var pI = Object.defineProperty,
  E1 = Object.getOwnPropertySymbols,
  gI = Object.prototype.hasOwnProperty,
  vI = Object.prototype.propertyIsEnumerable,
  I1 = (r, e, t) =>
    e in r
      ? pI(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  bI = (r, e) => {
    for (var t in e) gI.call(e, t) && I1(r, t, e[t]);
    if (E1) for (var t of E1(e)) vI.call(e, t) && I1(r, t, e[t]);
    return r;
  };
class mI extends KA {
  constructor(e) {
    super(e),
      (this.protocol = "wc"),
      (this.version = 2),
      (this.events = new Pi.EventEmitter()),
      (this.name = hx),
      (this.transportExplicitlyClosed = !1),
      (this.initialized = !1),
      (this.connectionAttemptInProgress = !1),
      (this.connectionStatusPollingInterval = 20),
      (this.staleConnectionErrors = [
        "socket hang up",
        "stalled",
        "interrupted",
      ]),
      (this.hasExperiencedNetworkDisruption = !1),
      (this.requestsInFlight = new Map()),
      (this.heartBeatTimeout = ye.toMiliseconds(
        ye.THIRTY_SECONDS + ye.ONE_SECOND
      )),
      (this.request = async (t) => {
        var i, s;
        this.logger.debug("Publishing Request Payload");
        const a = t.id || xs().toString();
        await this.toEstablishConnection();
        try {
          const f = this.provider.request(t);
          this.requestsInFlight.set(a, { promise: f, request: t }),
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (i = t.params) == null ? void 0 : i.topic,
              },
              "relayer.request - attempt to publish..."
            );
          const g = await new Promise(async (v, h) => {
            const y = () => {
              h(new Error(`relayer.request - publish interrupted, id: ${a}`));
            };
            this.provider.on(xi.disconnect, y);
            const A = await f;
            this.provider.off(xi.disconnect, y), v(A);
          });
          return (
            this.logger.trace(
              {
                id: a,
                method: t.method,
                topic: (s = t.params) == null ? void 0 : s.topic,
              },
              "relayer.request - published"
            ),
            g
          );
        } catch (f) {
          throw (this.logger.debug(`Failed to Publish Request: ${a}`), f);
        } finally {
          this.requestsInFlight.delete(a);
        }
      }),
      (this.resetPingTimeout = () => {
        if (Qc())
          try {
            clearTimeout(this.pingTimeout),
              (this.pingTimeout = setTimeout(() => {
                var t, i, s;
                (s =
                  (i = (t = this.provider) == null ? void 0 : t.connection) ==
                  null
                    ? void 0
                    : i.socket) == null || s.terminate();
              }, this.heartBeatTimeout));
          } catch (t) {
            this.logger.warn(t);
          }
      }),
      (this.onPayloadHandler = (t) => {
        this.onProviderPayload(t), this.resetPingTimeout();
      }),
      (this.onConnectHandler = () => {
        this.logger.trace("relayer connected"),
          this.startPingTimeout(),
          this.events.emit(Fr.connect);
      }),
      (this.onDisconnectHandler = () => {
        this.logger.trace("relayer disconnected"), this.onProviderDisconnect();
      }),
      (this.onProviderErrorHandler = (t) => {
        this.logger.error(t),
          this.events.emit(Fr.error, t),
          this.logger.info("Fatal socket error received, closing transport"),
          this.transportClose();
      }),
      (this.registerProviderListeners = () => {
        this.provider.on(xi.payload, this.onPayloadHandler),
          this.provider.on(xi.connect, this.onConnectHandler),
          this.provider.on(xi.disconnect, this.onDisconnectHandler),
          this.provider.on(xi.error, this.onProviderErrorHandler);
      }),
      (this.core = e.core),
      (this.logger =
        typeof e.logger < "u" && typeof e.logger != "string"
          ? $r(e.logger, this.name)
          : oo(of({ level: e.logger || fx }))),
      (this.messages = new sI(this.logger, e.core)),
      (this.subscriber = new lI(this, this.logger)),
      (this.publisher = new aI(this, this.logger)),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || xv),
      (this.projectId = e.projectId),
      (this.bundleId = M8()),
      (this.provider = {});
  }
  async init() {
    if (
      (this.logger.trace("Initialized"),
      this.registerEventListeners(),
      await Promise.all([this.messages.init(), this.subscriber.init()]),
      (this.initialized = !0),
      this.subscriber.cached.length > 0)
    )
      try {
        await this.transportOpen();
      } catch (e) {
        this.logger.warn(e);
      }
  }
  get context() {
    return ti(this.logger);
  }
  get connected() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 1
    );
  }
  get connecting() {
    var e, t, i;
    return (
      ((i =
        (t = (e = this.provider) == null ? void 0 : e.connection) == null
          ? void 0
          : t.socket) == null
        ? void 0
        : i.readyState) === 0
    );
  }
  async publish(e, t, i) {
    this.isInitialized(),
      await this.publisher.publish(e, t, i),
      await this.recordMessageEvent({
        topic: e,
        message: t,
        publishedAt: Date.now(),
        transportType: Kt.relay,
      });
  }
  async subscribe(e, t) {
    var i;
    this.isInitialized(),
      (t == null ? void 0 : t.transportType) === "relay" &&
        (await this.toEstablishConnection());
    let s =
        ((i = this.subscriber.topicMap.get(e)) == null ? void 0 : i[0]) || "",
      a;
    const f = (g) => {
      g.topic === e && (this.subscriber.off(fn.created, f), a());
    };
    return (
      await Promise.all([
        new Promise((g) => {
          (a = g), this.subscriber.on(fn.created, f);
        }),
        new Promise(async (g) => {
          (s = (await this.subscriber.subscribe(e, t)) || s), g();
        }),
      ]),
      s
    );
  }
  async unsubscribe(e, t) {
    this.isInitialized(), await this.subscriber.unsubscribe(e, t);
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  async transportDisconnect() {
    if (
      !this.hasExperiencedNetworkDisruption &&
      this.connected &&
      this.requestsInFlight.size > 0
    )
      try {
        await Promise.all(
          Array.from(this.requestsInFlight.values()).map((e) => e.promise)
        );
      } catch (e) {
        this.logger.warn(e);
      }
    this.hasExperiencedNetworkDisruption || this.connected
      ? await ia(
          this.provider.disconnect(),
          2e3,
          "provider.disconnect()"
        ).catch(() => this.onProviderDisconnect())
      : this.onProviderDisconnect();
  }
  async transportClose() {
    (this.transportExplicitlyClosed = !0), await this.transportDisconnect();
  }
  async transportOpen(e) {
    await this.confirmOnlineStateOrThrow(),
      e &&
        e !== this.relayUrl &&
        ((this.relayUrl = e), await this.transportDisconnect()),
      await this.createProvider(),
      (this.connectionAttemptInProgress = !0),
      (this.transportExplicitlyClosed = !1);
    try {
      await new Promise(async (t, i) => {
        const s = () => {
          this.provider.off(xi.disconnect, s),
            i(new Error("Connection interrupted while trying to subscribe"));
        };
        this.provider.on(xi.disconnect, s),
          await ia(
            this.provider.connect(),
            ye.toMiliseconds(ye.ONE_MINUTE),
            `Socket stalled when trying to connect to ${this.relayUrl}`
          )
            .catch((a) => {
              i(a);
            })
            .finally(() => {
              clearTimeout(this.reconnectTimeout),
                (this.reconnectTimeout = void 0);
            }),
          this.subscriber.start().catch((a) => {
            this.logger.error(a), this.onDisconnectHandler();
          }),
          (this.hasExperiencedNetworkDisruption = !1),
          t();
      });
    } catch (t) {
      this.logger.error(t);
      const i = t;
      if (
        ((this.hasExperiencedNetworkDisruption = !0),
        !this.isConnectionStalled(i.message))
      )
        throw t;
    } finally {
      this.connectionAttemptInProgress = !1;
    }
  }
  async restartTransport(e) {
    this.connectionAttemptInProgress ||
      ((this.relayUrl = e || this.relayUrl),
      await this.confirmOnlineStateOrThrow(),
      await this.transportClose(),
      await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!(await l1()))
      throw new Error(
        "No internet connection detected. Please restart your network and try again."
      );
  }
  async handleBatchMessageEvents(e) {
    if ((e == null ? void 0 : e.length) === 0) {
      this.logger.trace("Batch message events is empty. Ignoring...");
      return;
    }
    const t = e.sort((i, s) => i.publishedAt - s.publishedAt);
    this.logger.trace(`Batch of ${t.length} message events sorted`);
    for (const i of t)
      try {
        await this.onMessageEvent(i);
      } catch (s) {
        this.logger.warn(s);
      }
    this.logger.trace(`Batch of ${t.length} message events processed`);
  }
  async onLinkMessageEvent(e, t) {
    const { topic: i } = e;
    if (!t.sessionExists) {
      const s = dr(ye.FIVE_MINUTES),
        a = { topic: i, expiry: s, relay: { protocol: "irn" }, active: !1 };
      await this.core.pairing.pairings.set(i, a);
    }
    this.events.emit(Fr.message, e), await this.recordMessageEvent(e);
  }
  startPingTimeout() {
    var e, t, i, s, a;
    if (Qc())
      try {
        (t = (e = this.provider) == null ? void 0 : e.connection) != null &&
          t.socket &&
          ((a =
            (s = (i = this.provider) == null ? void 0 : i.connection) == null
              ? void 0
              : s.socket) == null ||
            a.once("ping", () => {
              this.resetPingTimeout();
            })),
          this.resetPingTimeout();
      } catch (f) {
        this.logger.warn(f);
      }
  }
  isConnectionStalled(e) {
    return this.staleConnectionErrors.some((t) => e.includes(t));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const e = await this.core.crypto.signJWT(this.relayUrl);
    (this.provider = new Wi(
      new Mw(
        N8({
          sdkVersion: ku,
          protocol: this.protocol,
          version: this.version,
          relayUrl: this.relayUrl,
          projectId: this.projectId,
          auth: e,
          useOnCloseEvent: !0,
          bundleId: this.bundleId,
        })
      )
    )),
      this.registerProviderListeners();
  }
  async recordMessageEvent(e) {
    const { topic: t, message: i } = e;
    await this.messages.set(t, i);
  }
  async shouldIgnoreMessageEvent(e) {
    const { topic: t, message: i } = e;
    if (!i || i.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i}`), !0;
    if (!(await this.subscriber.isSubscribed(t)))
      return (
        this.logger.debug(`Ignoring message for non-subscribed topic ${t}`), !0
      );
    const s = this.messages.has(t, i);
    return s && this.logger.debug(`Ignoring duplicate message: ${i}`), s;
  }
  async onProviderPayload(e) {
    if (
      (this.logger.debug("Incoming Relay Payload"),
      this.logger.trace({ type: "payload", direction: "incoming", payload: e }),
      Ju(e))
    ) {
      if (!e.method.endsWith(ux)) return;
      const t = e.params,
        { topic: i, message: s, publishedAt: a, attestation: f } = t.data,
        g = {
          topic: i,
          message: s,
          publishedAt: a,
          transportType: Kt.relay,
          attestation: f,
        };
      this.logger.debug("Emitting Relayer Payload"),
        this.logger.trace(bI({ type: "event", event: t.id }, g)),
        this.events.emit(t.id, g),
        await this.acknowledgePayload(e),
        await this.onMessageEvent(g);
    } else uf(e) && this.events.emit(Fr.message_ack, e);
  }
  async onMessageEvent(e) {
    (await this.shouldIgnoreMessageEvent(e)) ||
      (this.events.emit(Fr.message, e), await this.recordMessageEvent(e));
  }
  async acknowledgePayload(e) {
    const t = ff(e.id, !0);
    await this.provider.connection.send(t);
  }
  unregisterProviderListeners() {
    this.provider.off(xi.payload, this.onPayloadHandler),
      this.provider.off(xi.connect, this.onConnectHandler),
      this.provider.off(xi.disconnect, this.onDisconnectHandler),
      this.provider.off(xi.error, this.onProviderErrorHandler),
      clearTimeout(this.pingTimeout);
  }
  async registerEventListeners() {
    let e = await l1();
    FA(async (t) => {
      e !== t &&
        ((e = t),
        t
          ? await this.restartTransport().catch((i) => this.logger.error(i))
          : ((this.hasExperiencedNetworkDisruption = !0),
            await this.transportDisconnect(),
            (this.transportExplicitlyClosed = !1)));
    });
  }
  async onProviderDisconnect() {
    await this.subscriber.stop(),
      this.requestsInFlight.clear(),
      clearTimeout(this.pingTimeout),
      this.events.emit(Fr.disconnect),
      (this.connectionAttemptInProgress = !1),
      !this.transportExplicitlyClosed &&
        (this.reconnectTimeout ||
          (this.reconnectTimeout = setTimeout(async () => {
            await this.transportOpen().catch((e) => this.logger.error(e));
          }, ye.toMiliseconds(dx))));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async toEstablishConnection() {
    await this.confirmOnlineStateOrThrow(),
      !this.connected &&
        (this.connectionAttemptInProgress &&
          (await new Promise((e) => {
            const t = setInterval(() => {
              this.connected && (clearInterval(t), e());
            }, this.connectionStatusPollingInterval);
          })),
        await this.transportOpen());
  }
}
var yI = Object.defineProperty,
  S1 = Object.getOwnPropertySymbols,
  wI = Object.prototype.hasOwnProperty,
  _I = Object.prototype.propertyIsEnumerable,
  M1 = (r, e, t) =>
    e in r
      ? yI(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  P1 = (r, e) => {
    for (var t in e || (e = {})) wI.call(e, t) && M1(r, t, e[t]);
    if (S1) for (var t of S1(e)) _I.call(e, t) && M1(r, t, e[t]);
    return r;
  };
class Ts extends HA {
  constructor(e, t, i, s = bn, a = void 0) {
    super(e, t, i, s),
      (this.core = e),
      (this.logger = t),
      (this.name = i),
      (this.map = new Map()),
      (this.version = lx),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.recentlyDeleted = []),
      (this.recentlyDeletedLimit = 200),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((f) => {
            this.getKey && f !== null && !kr(f)
              ? this.map.set(this.getKey(f), f)
              : pA(f)
              ? this.map.set(f.id, f)
              : gA(f) && this.map.set(f.topic, f);
          }),
          (this.cached = []),
          (this.initialized = !0));
      }),
      (this.set = async (f, g) => {
        this.isInitialized(),
          this.map.has(f)
            ? await this.update(f, g)
            : (this.logger.debug("Setting value"),
              this.logger.trace({
                type: "method",
                method: "set",
                key: f,
                value: g,
              }),
              this.map.set(f, g),
              await this.persist());
      }),
      (this.get = (f) => (
        this.isInitialized(),
        this.logger.debug("Getting value"),
        this.logger.trace({ type: "method", method: "get", key: f }),
        this.getData(f)
      )),
      (this.getAll = (f) => (
        this.isInitialized(),
        f
          ? this.values.filter((g) =>
              Object.keys(f).every((v) => Cw(g[v], f[v]))
            )
          : this.values
      )),
      (this.update = async (f, g) => {
        this.isInitialized(),
          this.logger.debug("Updating value"),
          this.logger.trace({
            type: "method",
            method: "update",
            key: f,
            update: g,
          });
        const v = P1(P1({}, this.getData(f)), g);
        this.map.set(f, v), await this.persist();
      }),
      (this.delete = async (f, g) => {
        this.isInitialized(),
          this.map.has(f) &&
            (this.logger.debug("Deleting value"),
            this.logger.trace({
              type: "method",
              method: "delete",
              key: f,
              reason: g,
            }),
            this.map.delete(f),
            this.addToRecentlyDeleted(f),
            await this.persist());
      }),
      (this.logger = $r(t, this.name)),
      (this.storagePrefix = s),
      (this.getKey = a);
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  addToRecentlyDeleted(e) {
    this.recentlyDeleted.push(e),
      this.recentlyDeleted.length >= this.recentlyDeletedLimit &&
        this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);
  }
  async setDataStore(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(e) {
    const t = this.map.get(e);
    if (!t) {
      if (this.recentlyDeleted.includes(e)) {
        const { message: s } = be(
          "MISSING_OR_INVALID",
          `Record was recently deleted - ${this.name}: ${e}`
        );
        throw (this.logger.error(s), new Error(s));
      }
      const { message: i } = be("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.error(i), new Error(i));
    }
    return t;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const e = await this.getDataStore();
      if (typeof e > "u" || !e.length) return;
      if (this.map.size) {
        const { message: t } = be("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored value for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          value: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore value for ${this.name}`),
        this.logger.error(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class AI {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.name = mx),
      (this.version = yx),
      (this.events = new Hu()),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.ignoredPayloadTypes = [Fn]),
      (this.registeredMethods = []),
      (this.init = async () => {
        this.initialized ||
          (await this.pairings.init(),
          await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          (this.initialized = !0),
          this.logger.trace("Initialized"));
      }),
      (this.register = ({ methods: i }) => {
        this.isInitialized(),
          (this.registeredMethods = [
            ...new Set([...this.registeredMethods, ...i]),
          ]);
      }),
      (this.create = async (i) => {
        this.isInitialized();
        const s = Fu(),
          a = await this.core.crypto.setSymKey(s),
          f = dr(ye.FIVE_MINUTES),
          g = { protocol: Av },
          v = {
            topic: a,
            expiry: f,
            relay: g,
            active: !1,
            methods: i == null ? void 0 : i.methods,
          },
          h = o1({
            protocol: this.core.protocol,
            version: this.core.version,
            topic: a,
            symKey: s,
            relay: g,
            expiryTimestamp: f,
            methods: i == null ? void 0 : i.methods,
          });
        return (
          this.events.emit(As.create, v),
          this.core.expirer.set(a, f),
          await this.pairings.set(a, v),
          await this.core.relayer.subscribe(a, {
            transportType: i == null ? void 0 : i.transportType,
          }),
          { topic: a, uri: h }
        );
      }),
      (this.pair = async (i) => {
        this.isInitialized();
        const s = this.core.eventClient.createEvent({
          properties: {
            topic: i == null ? void 0 : i.uri,
            trace: [sn.pairing_started],
          },
        });
        this.isValidPair(i, s);
        const {
          topic: a,
          symKey: f,
          relay: g,
          expiryTimestamp: v,
          methods: h,
        } = a1(i.uri);
        (s.props.properties.topic = a),
          s.addTrace(sn.pairing_uri_validation_success),
          s.addTrace(sn.pairing_uri_not_expired);
        let y;
        if (this.pairings.keys.includes(a)) {
          if (
            ((y = this.pairings.get(a)),
            s.addTrace(sn.existing_pairing),
            y.active)
          )
            throw (
              (s.setError(On.active_pairing_already_exists),
              new Error(
                `Pairing already exists: ${a}. Please try again with a new connection URI.`
              ))
            );
          s.addTrace(sn.pairing_not_expired);
        }
        const A = v || dr(ye.FIVE_MINUTES),
          P = { topic: a, relay: g, expiry: A, active: !1, methods: h };
        this.core.expirer.set(a, A),
          await this.pairings.set(a, P),
          s.addTrace(sn.store_new_pairing),
          i.activatePairing && (await this.activate({ topic: a })),
          this.events.emit(As.create, P),
          s.addTrace(sn.emit_inactive_pairing),
          this.core.crypto.keychain.has(a) ||
            (await this.core.crypto.setSymKey(f, a)),
          s.addTrace(sn.subscribing_pairing_topic);
        try {
          await this.core.relayer.confirmOnlineStateOrThrow();
        } catch {
          s.setError(On.no_internet_connection);
        }
        try {
          await this.core.relayer.subscribe(a, { relay: g });
        } catch (R) {
          throw (s.setError(On.subscribe_pairing_topic_failure), R);
        }
        return s.addTrace(sn.subscribe_pairing_topic_success), P;
      }),
      (this.activate = async ({ topic: i }) => {
        this.isInitialized();
        const s = dr(ye.THIRTY_DAYS);
        this.core.expirer.set(i, s),
          await this.pairings.update(i, { active: !0, expiry: s });
      }),
      (this.ping = async (i) => {
        this.isInitialized(), await this.isValidPing(i);
        const { topic: s } = i;
        if (this.pairings.keys.includes(s)) {
          const a = await this.sendRequest(s, "wc_pairingPing", {}),
            { done: f, resolve: g, reject: v } = _s();
          this.events.once(Et("pairing_ping", a), ({ error: h }) => {
            h ? v(h) : g();
          }),
            await f();
        }
      }),
      (this.updateExpiry = async ({ topic: i, expiry: s }) => {
        this.isInitialized(), await this.pairings.update(i, { expiry: s });
      }),
      (this.updateMetadata = async ({ topic: i, metadata: s }) => {
        this.isInitialized(),
          await this.pairings.update(i, { peerMetadata: s });
      }),
      (this.getPairings = () => (this.isInitialized(), this.pairings.values)),
      (this.disconnect = async (i) => {
        this.isInitialized(), await this.isValidDisconnect(i);
        const { topic: s } = i;
        this.pairings.keys.includes(s) &&
          (await this.sendRequest(
            s,
            "wc_pairingDelete",
            Ft("USER_DISCONNECTED")
          ),
          await this.deletePairing(s));
      }),
      (this.formatUriFromPairing = (i) => {
        this.isInitialized();
        const { topic: s, relay: a, expiry: f, methods: g } = i,
          v = this.core.crypto.keychain.get(s);
        return o1({
          protocol: this.core.protocol,
          version: this.core.version,
          topic: s,
          symKey: v,
          relay: a,
          expiryTimestamp: f,
          methods: g,
        });
      }),
      (this.sendRequest = async (i, s, a) => {
        const f = rs(s, a),
          g = await this.core.crypto.encode(i, f),
          v = Ua[s].req;
        return (
          this.core.history.set(i, f), this.core.relayer.publish(i, g, v), f.id
        );
      }),
      (this.sendResult = async (i, s, a) => {
        const f = ff(i, a),
          g = await this.core.crypto.encode(s, f),
          v = await this.core.history.get(s, i),
          h = Ua[v.request.method].res;
        await this.core.relayer.publish(s, g, h),
          await this.core.history.resolve(f);
      }),
      (this.sendError = async (i, s, a) => {
        const f = hf(i, a),
          g = await this.core.crypto.encode(s, f),
          v = await this.core.history.get(s, i),
          h = Ua[v.request.method]
            ? Ua[v.request.method].res
            : Ua.unregistered_method.res;
        await this.core.relayer.publish(s, g, h),
          await this.core.history.resolve(f);
      }),
      (this.deletePairing = async (i, s) => {
        await this.core.relayer.unsubscribe(i),
          await Promise.all([
            this.pairings.delete(i, Ft("USER_DISCONNECTED")),
            this.core.crypto.deleteSymKey(i),
            s ? Promise.resolve() : this.core.expirer.del(i),
          ]);
      }),
      (this.cleanup = async () => {
        const i = this.pairings.getAll().filter((s) => Xn(s.expiry));
        await Promise.all(i.map((s) => this.deletePairing(s.topic)));
      }),
      (this.onRelayEventRequest = (i) => {
        const { topic: s, payload: a } = i;
        switch (a.method) {
          case "wc_pairingPing":
            return this.onPairingPingRequest(s, a);
          case "wc_pairingDelete":
            return this.onPairingDeleteRequest(s, a);
          default:
            return this.onUnknownRpcMethodRequest(s, a);
        }
      }),
      (this.onRelayEventResponse = async (i) => {
        const { topic: s, payload: a } = i,
          f = (await this.core.history.get(s, a.id)).request.method;
        switch (f) {
          case "wc_pairingPing":
            return this.onPairingPingResponse(s, a);
          default:
            return this.onUnknownRpcMethodResponse(f);
        }
      }),
      (this.onPairingPingRequest = async (i, s) => {
        const { id: a } = s;
        try {
          this.isValidPing({ topic: i }),
            await this.sendResult(a, i, !0),
            this.events.emit(As.ping, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onPairingPingResponse = (i, s) => {
        const { id: a } = s;
        setTimeout(() => {
          an(s)
            ? this.events.emit(Et("pairing_ping", a), {})
            : Si(s) &&
              this.events.emit(Et("pairing_ping", a), { error: s.error });
        }, 500);
      }),
      (this.onPairingDeleteRequest = async (i, s) => {
        const { id: a } = s;
        try {
          this.isValidDisconnect({ topic: i }),
            await this.deletePairing(i),
            this.events.emit(As.delete, { id: a, topic: i });
        } catch (f) {
          await this.sendError(a, i, f), this.logger.error(f);
        }
      }),
      (this.onUnknownRpcMethodRequest = async (i, s) => {
        const { id: a, method: f } = s;
        try {
          if (this.registeredMethods.includes(f)) return;
          const g = Ft("WC_METHOD_UNSUPPORTED", f);
          await this.sendError(a, i, g), this.logger.error(g);
        } catch (g) {
          await this.sendError(a, i, g), this.logger.error(g);
        }
      }),
      (this.onUnknownRpcMethodResponse = (i) => {
        this.registeredMethods.includes(i) ||
          this.logger.error(Ft("WC_METHOD_UNSUPPORTED", i));
      }),
      (this.isValidPair = (i, s) => {
        var a;
        if (!Xr(i)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `pair() params: ${i}`
          );
          throw (s.setError(On.malformed_pairing_uri), new Error(g));
        }
        if (!lA(i.uri)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `pair() uri: ${i.uri}`
          );
          throw (s.setError(On.malformed_pairing_uri), new Error(g));
        }
        const f = a1(i == null ? void 0 : i.uri);
        if (!((a = f == null ? void 0 : f.relay) != null && a.protocol)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            "pair() uri#relay-protocol"
          );
          throw (s.setError(On.malformed_pairing_uri), new Error(g));
        }
        if (!(f != null && f.symKey)) {
          const { message: g } = be("MISSING_OR_INVALID", "pair() uri#symKey");
          throw (s.setError(On.malformed_pairing_uri), new Error(g));
        }
        if (
          f != null &&
          f.expiryTimestamp &&
          ye.toMiliseconds(f == null ? void 0 : f.expiryTimestamp) < Date.now()
        ) {
          s.setError(On.pairing_expired);
          const { message: g } = be(
            "EXPIRED",
            "pair() URI has expired. Please try again with a new connection URI."
          );
          throw new Error(g);
        }
      }),
      (this.isValidPing = async (i) => {
        if (!Xr(i)) {
          const { message: a } = be(
            "MISSING_OR_INVALID",
            `ping() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: s } = i;
        await this.isValidPairingTopic(s);
      }),
      (this.isValidDisconnect = async (i) => {
        if (!Xr(i)) {
          const { message: a } = be(
            "MISSING_OR_INVALID",
            `disconnect() params: ${i}`
          );
          throw new Error(a);
        }
        const { topic: s } = i;
        await this.isValidPairingTopic(s);
      }),
      (this.isValidPairingTopic = async (i) => {
        if (!sr(i, !1)) {
          const { message: s } = be(
            "MISSING_OR_INVALID",
            `pairing topic should be a string: ${i}`
          );
          throw new Error(s);
        }
        if (!this.pairings.keys.includes(i)) {
          const { message: s } = be(
            "NO_MATCHING_KEY",
            `pairing topic doesn't exist: ${i}`
          );
          throw new Error(s);
        }
        if (Xn(this.pairings.get(i).expiry)) {
          await this.deletePairing(i);
          const { message: s } = be("EXPIRED", `pairing topic: ${i}`);
          throw new Error(s);
        }
      }),
      (this.core = e),
      (this.logger = $r(t, this.name)),
      (this.pairings = new Ts(
        this.core,
        this.logger,
        this.name,
        this.storagePrefix
      ));
  }
  get context() {
    return ti(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(Fr.message, async (e) => {
      const { topic: t, message: i, transportType: s } = e;
      if (
        !this.pairings.keys.includes(t) ||
        s === Kt.link_mode ||
        this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i))
      )
        return;
      const a = await this.core.crypto.decode(t, i);
      try {
        Ju(a)
          ? (this.core.history.set(t, a),
            this.onRelayEventRequest({ topic: t, payload: a }))
          : uf(a) &&
            (await this.core.history.resolve(a),
            await this.onRelayEventResponse({ topic: t, payload: a }),
            this.core.history.delete(t, a.id));
      } catch (f) {
        this.logger.error(f);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on(Ei.expired, async (e) => {
      const { topic: t } = Pg(e.target);
      t &&
        this.pairings.keys.includes(t) &&
        (await this.deletePairing(t, !0),
        this.events.emit(As.expire, { topic: t }));
    });
  }
}
class xI extends $A {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.records = new Map()),
      (this.events = new Pi.EventEmitter()),
      (this.name = wx),
      (this.version = _x),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.records.set(i.id, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.set = (i, s, a) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Setting JSON-RPC request history record"),
          this.logger.trace({
            type: "method",
            method: "set",
            topic: i,
            request: s,
            chainId: a,
          }),
          this.records.has(s.id))
        )
          return;
        const f = {
          id: s.id,
          topic: i,
          request: { method: s.method, params: s.params || null },
          chainId: a,
          expiry: dr(ye.THIRTY_DAYS),
        };
        this.records.set(f.id, f),
          this.persist(),
          this.events.emit(Ui.created, f);
      }),
      (this.resolve = async (i) => {
        if (
          (this.isInitialized(),
          this.logger.debug("Updating JSON-RPC response history record"),
          this.logger.trace({ type: "method", method: "update", response: i }),
          !this.records.has(i.id))
        )
          return;
        const s = await this.getRecord(i.id);
        typeof s.response > "u" &&
          ((s.response = Si(i) ? { error: i.error } : { result: i.result }),
          this.records.set(s.id, s),
          this.persist(),
          this.events.emit(Ui.updated, s));
      }),
      (this.get = async (i, s) => (
        this.isInitialized(),
        this.logger.debug("Getting record"),
        this.logger.trace({ type: "method", method: "get", topic: i, id: s }),
        await this.getRecord(s)
      )),
      (this.delete = (i, s) => {
        this.isInitialized(),
          this.logger.debug("Deleting record"),
          this.logger.trace({ type: "method", method: "delete", id: s }),
          this.values.forEach((a) => {
            if (a.topic === i) {
              if (typeof s < "u" && a.id !== s) return;
              this.records.delete(a.id), this.events.emit(Ui.deleted, a);
            }
          }),
          this.persist();
      }),
      (this.exists = async (i, s) => (
        this.isInitialized(),
        this.records.has(s) ? (await this.getRecord(s)).topic === i : !1
      )),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.logger = $r(t, this.name));
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const e = [];
    return (
      this.values.forEach((t) => {
        if (typeof t.response < "u") return;
        const i = {
          topic: t.topic,
          request: rs(t.request.method, t.request.params, t.id),
          chainId: t.chainId,
        };
        return e.push(i);
      }),
      e
    );
  }
  async setJsonRpcRecords(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(e) {
    this.isInitialized();
    const t = this.records.get(e);
    if (!t) {
      const { message: i } = be("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw new Error(i);
    }
    return t;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(Ui.sync);
  }
  async restore() {
    try {
      const e = await this.getJsonRpcRecords();
      if (typeof e > "u" || !e.length) return;
      if (this.records.size) {
        const { message: t } = be("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored records for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          records: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore records for ${this.name}`),
        this.logger.error(e);
    }
  }
  registerEventListeners() {
    this.events.on(Ui.created, (e) => {
      const t = Ui.created;
      this.logger.info(`Emitting ${t}`),
        this.logger.debug({ type: "event", event: t, record: e });
    }),
      this.events.on(Ui.updated, (e) => {
        const t = Ui.updated;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.events.on(Ui.deleted, (e) => {
        const t = Ui.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, record: e });
      }),
      this.core.heartbeat.on(fa.pulse, () => {
        this.cleanup();
      });
  }
  cleanup() {
    try {
      this.isInitialized();
      let e = !1;
      this.records.forEach((t) => {
        ye.toMiliseconds(t.expiry || 0) - Date.now() <= 0 &&
          (this.logger.info(`Deleting expired history log: ${t.id}`),
          this.records.delete(t.id),
          this.events.emit(Ui.deleted, t, !1),
          (e = !0));
      }),
        e && this.persist();
    } catch (e) {
      this.logger.warn(e);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
class EI extends GA {
  constructor(e, t) {
    super(e, t),
      (this.core = e),
      (this.logger = t),
      (this.expirations = new Map()),
      (this.events = new Pi.EventEmitter()),
      (this.name = Ax),
      (this.version = xx),
      (this.cached = []),
      (this.initialized = !1),
      (this.storagePrefix = bn),
      (this.init = async () => {
        this.initialized ||
          (this.logger.trace("Initialized"),
          await this.restore(),
          this.cached.forEach((i) => this.expirations.set(i.target, i)),
          (this.cached = []),
          this.registerEventListeners(),
          (this.initialized = !0));
      }),
      (this.has = (i) => {
        try {
          const s = this.formatTarget(i);
          return typeof this.getExpiration(s) < "u";
        } catch {
          return !1;
        }
      }),
      (this.set = (i, s) => {
        this.isInitialized();
        const a = this.formatTarget(i),
          f = { target: a, expiry: s };
        this.expirations.set(a, f),
          this.checkExpiry(a, f),
          this.events.emit(Ei.created, { target: a, expiration: f });
      }),
      (this.get = (i) => {
        this.isInitialized();
        const s = this.formatTarget(i);
        return this.getExpiration(s);
      }),
      (this.del = (i) => {
        if ((this.isInitialized(), this.has(i))) {
          const s = this.formatTarget(i),
            a = this.getExpiration(s);
          this.expirations.delete(s),
            this.events.emit(Ei.deleted, { target: s, expiration: a });
        }
      }),
      (this.on = (i, s) => {
        this.events.on(i, s);
      }),
      (this.once = (i, s) => {
        this.events.once(i, s);
      }),
      (this.off = (i, s) => {
        this.events.off(i, s);
      }),
      (this.removeListener = (i, s) => {
        this.events.removeListener(i, s);
      }),
      (this.logger = $r(t, this.name));
  }
  get context() {
    return ti(this.logger);
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//" +
      this.name
    );
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(e) {
    if (typeof e == "string") return O8(e);
    if (typeof e == "number") return T8(e);
    const { message: t } = be("UNKNOWN_TYPE", `Target type: ${typeof e}`);
    throw new Error(t);
  }
  async setExpirations(e) {
    await this.core.storage.setItem(this.storageKey, e);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit(Ei.sync);
  }
  async restore() {
    try {
      const e = await this.getExpirations();
      if (typeof e > "u" || !e.length) return;
      if (this.expirations.size) {
        const { message: t } = be("RESTORE_WILL_OVERRIDE", this.name);
        throw (this.logger.error(t), new Error(t));
      }
      (this.cached = e),
        this.logger.debug(`Successfully Restored expirations for ${this.name}`),
        this.logger.trace({
          type: "method",
          method: "restore",
          expirations: this.values,
        });
    } catch (e) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`),
        this.logger.error(e);
    }
  }
  getExpiration(e) {
    const t = this.expirations.get(e);
    if (!t) {
      const { message: i } = be("NO_MATCHING_KEY", `${this.name}: ${e}`);
      throw (this.logger.warn(i), new Error(i));
    }
    return t;
  }
  checkExpiry(e, t) {
    const { expiry: i } = t;
    ye.toMiliseconds(i) - Date.now() <= 0 && this.expire(e, t);
  }
  expire(e, t) {
    this.expirations.delete(e),
      this.events.emit(Ei.expired, { target: e, expiration: t });
  }
  checkExpirations() {
    this.core.relayer.connected &&
      this.expirations.forEach((e, t) => this.checkExpiry(t, e));
  }
  registerEventListeners() {
    this.core.heartbeat.on(fa.pulse, () => this.checkExpirations()),
      this.events.on(Ei.created, (e) => {
        const t = Ei.created;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Ei.expired, (e) => {
        const t = Ei.expired;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      }),
      this.events.on(Ei.deleted, (e) => {
        const t = Ei.deleted;
        this.logger.info(`Emitting ${t}`),
          this.logger.debug({ type: "event", event: t, data: e }),
          this.persist();
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
}
var Jt = {};
Object.defineProperty(Jt, "__esModule", { value: !0 }),
  (Jt.getLocalStorage =
    Jt.getLocalStorageOrThrow =
    Jt.getCrypto =
    Jt.getCryptoOrThrow =
    Jt.getLocation =
    Jt.getLocationOrThrow =
    Jt.getNavigator =
    Jt.getNavigatorOrThrow =
    Dv =
    Jt.getDocument =
    Jt.getDocumentOrThrow =
    Jt.getFromWindowOrThrow =
    Jt.getFromWindow =
      void 0);
function qs(r) {
  let e;
  return typeof window < "u" && typeof window[r] < "u" && (e = window[r]), e;
}
Jt.getFromWindow = qs;
function va(r) {
  const e = qs(r);
  if (!e) throw new Error(`${r} is not defined in Window`);
  return e;
}
Jt.getFromWindowOrThrow = va;
function II() {
  return va("document");
}
Jt.getDocumentOrThrow = II;
function SI() {
  return qs("document");
}
var Dv = (Jt.getDocument = SI);
function MI() {
  return va("navigator");
}
Jt.getNavigatorOrThrow = MI;
function PI() {
  return qs("navigator");
}
Jt.getNavigator = PI;
function RI() {
  return va("location");
}
Jt.getLocationOrThrow = RI;
function CI() {
  return qs("location");
}
Jt.getLocation = CI;
function NI() {
  return va("crypto");
}
Jt.getCryptoOrThrow = NI;
function OI() {
  return qs("crypto");
}
Jt.getCrypto = OI;
function TI() {
  return va("localStorage");
}
Jt.getLocalStorageOrThrow = TI;
function qI() {
  return qs("localStorage");
}
Jt.getLocalStorage = qI;
class DI extends JA {
  constructor(e, t, i) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.store = i),
      (this.name = Ex),
      (this.verifyUrlV3 = Sx),
      (this.storagePrefix = bn),
      (this.version = _v),
      (this.init = async () => {
        var s;
        this.isDevEnv ||
          ((this.publicKey = await this.store.getItem(this.storeKey)),
          this.publicKey &&
            ye.toMiliseconds(
              (s = this.publicKey) == null ? void 0 : s.expiresAt
            ) < Date.now() &&
            (this.logger.debug("verify v2 public key expired"),
            await this.removePublicKey()));
      }),
      (this.register = async (s) => {
        if (!lo() || this.isDevEnv) return;
        const a = window.location.origin,
          { id: f, decryptedId: g } = s,
          v = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${f}&decryptedId=${g}`;
        try {
          const h = Dv(),
            y = this.startAbortTimer(ye.ONE_SECOND * 5),
            A = await new Promise((P, R) => {
              const C = () => {
                window.removeEventListener("message", L),
                  h.body.removeChild(q),
                  R("attestation aborted");
              };
              this.abortController.signal.addEventListener("abort", C);
              const q = h.createElement("iframe");
              (q.src = v),
                (q.style.display = "none"),
                q.addEventListener("error", C, {
                  signal: this.abortController.signal,
                });
              const L = (j) => {
                if (j.data && typeof j.data == "string")
                  try {
                    const H = JSON.parse(j.data);
                    if (H.type === "verify_attestation") {
                      if (Cu(H.attestation).payload.id !== f) return;
                      clearInterval(y),
                        h.body.removeChild(q),
                        this.abortController.signal.removeEventListener(
                          "abort",
                          C
                        ),
                        window.removeEventListener("message", L),
                        P(H.attestation === null ? "" : H.attestation);
                    }
                  } catch (H) {
                    this.logger.warn(H);
                  }
              };
              h.body.appendChild(q),
                window.addEventListener("message", L, {
                  signal: this.abortController.signal,
                });
            });
          return this.logger.debug("jwt attestation", A), A;
        } catch (h) {
          this.logger.warn(h);
        }
        return "";
      }),
      (this.resolve = async (s) => {
        if (this.isDevEnv) return "";
        const { attestationId: a, hash: f, encryptedId: g } = s;
        if (a === "") {
          this.logger.debug("resolve: attestationId is empty, skipping");
          return;
        }
        if (a) {
          if (Cu(a).payload.id !== g) return;
          const h = await this.isValidJwtAttestation(a);
          if (h) {
            if (!h.isVerified) {
              this.logger.warn(
                "resolve: jwt attestation: origin url not verified"
              );
              return;
            }
            return h;
          }
        }
        if (!f) return;
        const v = this.getVerifyUrl(s == null ? void 0 : s.verifyUrl);
        return this.fetchAttestation(f, v);
      }),
      (this.fetchAttestation = async (s, a) => {
        this.logger.debug(`resolving attestation: ${s} from url: ${a}`);
        const f = this.startAbortTimer(ye.ONE_SECOND * 5),
          g = await fetch(`${a}/attestation/${s}?v2Supported=true`, {
            signal: this.abortController.signal,
          });
        return clearTimeout(f), g.status === 200 ? await g.json() : void 0;
      }),
      (this.getVerifyUrl = (s) => {
        let a = s || ro;
        return (
          Mx.includes(a) ||
            (this.logger.info(
              `verify url: ${a}, not included in trusted list, assigning default: ${ro}`
            ),
            (a = ro)),
          a
        );
      }),
      (this.fetchPublicKey = async () => {
        try {
          this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);
          const s = this.startAbortTimer(ye.FIVE_SECONDS),
            a = await fetch(`${this.verifyUrlV3}/public-key`, {
              signal: this.abortController.signal,
            });
          return clearTimeout(s), await a.json();
        } catch (s) {
          this.logger.warn(s);
        }
      }),
      (this.persistPublicKey = async (s) => {
        this.logger.debug("persisting public key to local storage", s),
          await this.store.setItem(this.storeKey, s),
          (this.publicKey = s);
      }),
      (this.removePublicKey = async () => {
        this.logger.debug("removing verify v2 public key from storage"),
          await this.store.removeItem(this.storeKey),
          (this.publicKey = void 0);
      }),
      (this.isValidJwtAttestation = async (s) => {
        const a = await this.getPublicKey();
        try {
          if (a) return this.validateAttestation(s, a);
        } catch (g) {
          this.logger.error(g),
            this.logger.warn("error validating attestation");
        }
        const f = await this.fetchAndPersistPublicKey();
        try {
          if (f) return this.validateAttestation(s, f);
        } catch (g) {
          this.logger.error(g),
            this.logger.warn("error validating attestation");
        }
      }),
      (this.getPublicKey = async () =>
        this.publicKey
          ? this.publicKey
          : await this.fetchAndPersistPublicKey()),
      (this.fetchAndPersistPublicKey = async () => {
        if (this.fetchPromise) return await this.fetchPromise, this.publicKey;
        this.fetchPromise = new Promise(async (a) => {
          const f = await this.fetchPublicKey();
          f && (await this.persistPublicKey(f), a(f));
        });
        const s = await this.fetchPromise;
        return (this.fetchPromise = void 0), s;
      }),
      (this.validateAttestation = (s, a) => {
        const f = J_(s, a.publicKey),
          g = { hasExpired: ye.toMiliseconds(f.exp) < Date.now(), payload: f };
        if (g.hasExpired)
          throw (
            (this.logger.warn("resolve: jwt attestation expired"),
            new Error("JWT attestation expired"))
          );
        return {
          origin: g.payload.origin,
          isScam: g.payload.isScam,
          isVerified: g.payload.isVerified,
        };
      }),
      (this.logger = $r(t, this.name)),
      (this.abortController = new AbortController()),
      (this.isDevEnv = Yu()),
      this.init();
  }
  get storeKey() {
    return (
      this.storagePrefix +
      this.version +
      this.core.customStoragePrefix +
      "//verify:public:key"
    );
  }
  get context() {
    return ti(this.logger);
  }
  startAbortTimer(e) {
    return (
      (this.abortController = new AbortController()),
      setTimeout(() => this.abortController.abort(), ye.toMiliseconds(e))
    );
  }
}
class BI extends WA {
  constructor(e, t) {
    super(e, t),
      (this.projectId = e),
      (this.logger = t),
      (this.context = Px),
      (this.registerDeviceToken = async (i) => {
        const {
            clientId: s,
            token: a,
            notificationType: f,
            enableEncrypted: g = !1,
          } = i,
          v = `${Rx}/${this.projectId}/clients`;
        await fetch(v, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            client_id: s,
            type: f,
            token: a,
            always_raw: g,
          }),
        });
      }),
      (this.logger = $r(t, this.context));
  }
}
var FI = Object.defineProperty,
  R1 = Object.getOwnPropertySymbols,
  LI = Object.prototype.hasOwnProperty,
  kI = Object.prototype.propertyIsEnumerable,
  C1 = (r, e, t) =>
    e in r
      ? FI(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ha = (r, e) => {
    for (var t in e || (e = {})) LI.call(e, t) && C1(r, t, e[t]);
    if (R1) for (var t of R1(e)) kI.call(e, t) && C1(r, t, e[t]);
    return r;
  };
class zI extends QA {
  constructor(e, t, i = !0) {
    super(e, t, i),
      (this.core = e),
      (this.logger = t),
      (this.context = Nx),
      (this.storagePrefix = bn),
      (this.storageVersion = Cx),
      (this.events = new Map()),
      (this.shouldPersist = !1),
      (this.init = async () => {
        if (!Yu())
          try {
            const s = {
              eventId: Sp(),
              timestamp: Date.now(),
              domain: this.getAppDomain(),
              props: {
                event: "INIT",
                type: "",
                properties: {
                  client_id: await this.core.crypto.getClientId(),
                  user_agent: Eg(
                    this.core.relayer.protocol,
                    this.core.relayer.version,
                    ku
                  ),
                },
              },
            };
            await this.sendEvent([s]);
          } catch (s) {
            this.logger.warn(s);
          }
      }),
      (this.createEvent = (s) => {
        const {
            event: a = "ERROR",
            type: f = "",
            properties: { topic: g, trace: v },
          } = s,
          h = Sp(),
          y = this.core.projectId || "",
          A = Date.now(),
          P = Ha(
            {
              eventId: h,
              timestamp: A,
              props: { event: a, type: f, properties: { topic: g, trace: v } },
              bundleId: y,
              domain: this.getAppDomain(),
            },
            this.setMethods(h)
          );
        return (
          this.telemetryEnabled &&
            (this.events.set(h, P), (this.shouldPersist = !0)),
          P
        );
      }),
      (this.getEvent = (s) => {
        const { eventId: a, topic: f } = s;
        if (a) return this.events.get(a);
        const g = Array.from(this.events.values()).find(
          (v) => v.props.properties.topic === f
        );
        if (g) return Ha(Ha({}, g), this.setMethods(g.eventId));
      }),
      (this.deleteEvent = (s) => {
        const { eventId: a } = s;
        this.events.delete(a), (this.shouldPersist = !0);
      }),
      (this.setEventListeners = () => {
        this.core.heartbeat.on(fa.pulse, async () => {
          this.shouldPersist && (await this.persist()),
            this.events.forEach((s) => {
              ye.fromMiliseconds(Date.now()) - ye.fromMiliseconds(s.timestamp) >
                Ox &&
                (this.events.delete(s.eventId), (this.shouldPersist = !0));
            });
        });
      }),
      (this.setMethods = (s) => ({
        addTrace: (a) => this.addTrace(s, a),
        setError: (a) => this.setError(s, a),
      })),
      (this.addTrace = (s, a) => {
        const f = this.events.get(s);
        f &&
          (f.props.properties.trace.push(a),
          this.events.set(s, f),
          (this.shouldPersist = !0));
      }),
      (this.setError = (s, a) => {
        const f = this.events.get(s);
        f &&
          ((f.props.type = a),
          (f.timestamp = Date.now()),
          this.events.set(s, f),
          (this.shouldPersist = !0));
      }),
      (this.persist = async () => {
        await this.core.storage.setItem(
          this.storageKey,
          Array.from(this.events.values())
        ),
          (this.shouldPersist = !1);
      }),
      (this.restore = async () => {
        try {
          const s = (await this.core.storage.getItem(this.storageKey)) || [];
          if (!s.length) return;
          s.forEach((a) => {
            this.events.set(
              a.eventId,
              Ha(Ha({}, a), this.setMethods(a.eventId))
            );
          });
        } catch (s) {
          this.logger.warn(s);
        }
      }),
      (this.submit = async () => {
        if (!this.telemetryEnabled || this.events.size === 0) return;
        const s = [];
        for (const [a, f] of this.events) f.props.type && s.push(f);
        if (s.length !== 0)
          try {
            if ((await this.sendEvent(s)).ok)
              for (const a of s)
                this.events.delete(a.eventId), (this.shouldPersist = !0);
          } catch (a) {
            this.logger.warn(a);
          }
      }),
      (this.sendEvent = async (s) => {
        const a = this.getAppDomain() ? "" : "&sp=desktop";
        return await fetch(
          `${Tx}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ku}${a}`,
          { method: "POST", body: JSON.stringify(s) }
        );
      }),
      (this.getAppDomain = () => xg().url),
      (this.logger = $r(t, this.context)),
      (this.telemetryEnabled = i),
      i
        ? this.restore().then(async () => {
            await this.submit(), this.setEventListeners();
          })
        : this.persist();
  }
  get storageKey() {
    return (
      this.storagePrefix +
      this.storageVersion +
      this.core.customStoragePrefix +
      "//" +
      this.context
    );
  }
}
var $I = Object.defineProperty,
  N1 = Object.getOwnPropertySymbols,
  UI = Object.prototype.hasOwnProperty,
  jI = Object.prototype.propertyIsEnumerable,
  O1 = (r, e, t) =>
    e in r
      ? $I(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  T1 = (r, e) => {
    for (var t in e || (e = {})) UI.call(e, t) && O1(r, t, e[t]);
    if (N1) for (var t of N1(e)) jI.call(e, t) && O1(r, t, e[t]);
    return r;
  };
class cd extends zA {
  constructor(e) {
    var t;
    super(e),
      (this.protocol = wv),
      (this.version = _v),
      (this.name = od),
      (this.events = new Pi.EventEmitter()),
      (this.initialized = !1),
      (this.on = (f, g) => this.events.on(f, g)),
      (this.once = (f, g) => this.events.once(f, g)),
      (this.off = (f, g) => this.events.off(f, g)),
      (this.removeListener = (f, g) => this.events.removeListener(f, g)),
      (this.dispatchEnvelope = ({ topic: f, message: g, sessionExists: v }) => {
        if (!f || !g) return;
        const h = {
          topic: f,
          message: g,
          publishedAt: Date.now(),
          transportType: Kt.link_mode,
        };
        this.relayer.onLinkMessageEvent(h, { sessionExists: v });
      }),
      (this.projectId = e == null ? void 0 : e.projectId),
      (this.relayUrl = (e == null ? void 0 : e.relayUrl) || xv),
      (this.customStoragePrefix =
        e != null && e.customStoragePrefix ? `:${e.customStoragePrefix}` : "");
    const i = of({
        level:
          typeof (e == null ? void 0 : e.logger) == "string" && e.logger
            ? e.logger
            : ZA.logger,
      }),
      { logger: s, chunkLoggerController: a } = G4({
        opts: i,
        maxSizeInBytes: e == null ? void 0 : e.maxLogBlobSizeInBytes,
        loggerOverride: e == null ? void 0 : e.logger,
      });
    (this.logChunkController = a),
      (t = this.logChunkController) != null &&
        t.downloadLogsBlobInBrowser &&
        (window.downloadLogsBlobInBrowser = async () => {
          var f, g;
          (f = this.logChunkController) != null &&
            f.downloadLogsBlobInBrowser &&
            ((g = this.logChunkController) == null ||
              g.downloadLogsBlobInBrowser({
                clientId: await this.crypto.getClientId(),
              }));
        }),
      (this.logger = $r(s, this.name)),
      (this.heartbeat = new O4()),
      (this.crypto = new nI(
        this,
        this.logger,
        e == null ? void 0 : e.keychain
      )),
      (this.history = new xI(this, this.logger)),
      (this.expirer = new EI(this, this.logger)),
      (this.storage =
        e != null && e.storage
          ? e.storage
          : new C4(T1(T1({}, ex), e == null ? void 0 : e.storageOptions))),
      (this.relayer = new mI({
        core: this,
        logger: this.logger,
        relayUrl: this.relayUrl,
        projectId: this.projectId,
      })),
      (this.pairing = new AI(this, this.logger)),
      (this.verify = new DI(this, this.logger, this.storage)),
      (this.echoClient = new BI(this.projectId || "", this.logger)),
      (this.linkModeSupportedApps = []),
      (this.eventClient = new zI(
        this,
        this.logger,
        e == null ? void 0 : e.telemetryEnabled
      ));
  }
  static async init(e) {
    const t = new cd(e);
    await t.initialize();
    const i = await t.crypto.getClientId();
    return await t.storage.setItem(px, i), t;
  }
  get context() {
    return ti(this.logger);
  }
  async start() {
    this.initialized || (await this.initialize());
  }
  async getLogsBlob() {
    var e;
    return (e = this.logChunkController) == null
      ? void 0
      : e.logsToBlob({ clientId: await this.crypto.getClientId() });
  }
  async addLinkModeSupportedApp(e) {
    this.linkModeSupportedApps.includes(e) ||
      (this.linkModeSupportedApps.push(e),
      await this.storage.setItem(g1, this.linkModeSupportedApps));
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(),
        await this.history.init(),
        await this.expirer.init(),
        await this.relayer.init(),
        await this.heartbeat.init(),
        await this.pairing.init(),
        this.eventClient.init(),
        (this.linkModeSupportedApps = (await this.storage.getItem(g1)) || []),
        (this.initialized = !0),
        this.logger.info("Core Initialization Success");
    } catch (e) {
      throw (
        (this.logger.warn(
          `Core Initialization Failure at epoch ${Date.now()}`,
          e
        ),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
const KI = cd,
  Bv = "wc",
  Fv = 2,
  Lv = "client",
  fd = `${Bv}@${Fv}:${Lv}:`,
  Au = {
    name: Lv,
    logger: "error",
    controller: !1,
    relayUrl: "wss://relay.walletconnect.org",
  },
  q1 = "WALLETCONNECT_DEEPLINK_CHOICE",
  HI = "proposal",
  kv = "Proposal expired",
  VI = "session",
  Zs = ye.SEVEN_DAYS,
  GI = "engine",
  vr = {
    wc_sessionPropose: {
      req: { ttl: ye.FIVE_MINUTES, prompt: !0, tag: 1100 },
      res: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1101 },
      reject: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1120 },
      autoReject: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1121 },
    },
    wc_sessionSettle: {
      req: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1102 },
      res: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1103 },
    },
    wc_sessionUpdate: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 1104 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 1105 },
    },
    wc_sessionExtend: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 1106 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 1107 },
    },
    wc_sessionRequest: {
      req: { ttl: ye.FIVE_MINUTES, prompt: !0, tag: 1108 },
      res: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1109 },
    },
    wc_sessionEvent: {
      req: { ttl: ye.FIVE_MINUTES, prompt: !0, tag: 1110 },
      res: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1111 },
    },
    wc_sessionDelete: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 1112 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 1113 },
    },
    wc_sessionPing: {
      req: { ttl: ye.ONE_DAY, prompt: !1, tag: 1114 },
      res: { ttl: ye.ONE_DAY, prompt: !1, tag: 1115 },
    },
    wc_sessionAuthenticate: {
      req: { ttl: ye.ONE_HOUR, prompt: !0, tag: 1116 },
      res: { ttl: ye.ONE_HOUR, prompt: !1, tag: 1117 },
      reject: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1118 },
      autoReject: { ttl: ye.FIVE_MINUTES, prompt: !1, tag: 1119 },
    },
  },
  xu = { min: ye.FIVE_MINUTES, max: ye.SEVEN_DAYS },
  nn = { idle: "IDLE", active: "ACTIVE" },
  JI = "request",
  WI = [
    "wc_sessionPropose",
    "wc_sessionRequest",
    "wc_authRequest",
    "wc_sessionAuthenticate",
  ],
  QI = "wc",
  YI = "auth",
  XI = "authKeys",
  ZI = "pairingTopics",
  eS = "requests",
  gf = `${QI}@${1.5}:${YI}:`,
  Kc = `${gf}:PUB_KEY`;
var tS = Object.defineProperty,
  rS = Object.defineProperties,
  iS = Object.getOwnPropertyDescriptors,
  D1 = Object.getOwnPropertySymbols,
  nS = Object.prototype.hasOwnProperty,
  sS = Object.prototype.propertyIsEnumerable,
  B1 = (r, e, t) =>
    e in r
      ? tS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Zt = (r, e) => {
    for (var t in e || (e = {})) nS.call(e, t) && B1(r, t, e[t]);
    if (D1) for (var t of D1(e)) sS.call(e, t) && B1(r, t, e[t]);
    return r;
  },
  Ki = (r, e) => rS(r, iS(e));
class aS extends XA {
  constructor(e) {
    super(e),
      (this.name = GI),
      (this.events = new Hu()),
      (this.initialized = !1),
      (this.requestQueue = { state: nn.idle, queue: [] }),
      (this.sessionRequestQueue = { state: nn.idle, queue: [] }),
      (this.requestQueueDelay = ye.ONE_SECOND),
      (this.expectedPairingMethodMap = new Map()),
      (this.recentlyDeletedMap = new Map()),
      (this.recentlyDeletedLimit = 200),
      (this.relayMessageCache = []),
      (this.init = async () => {
        this.initialized ||
          (await this.cleanup(),
          this.registerRelayerEvents(),
          this.registerExpirerEvents(),
          this.registerPairingEvents(),
          await this.registerLinkModeListeners(),
          this.client.core.pairing.register({ methods: Object.keys(vr) }),
          (this.initialized = !0),
          setTimeout(() => {
            (this.sessionRequestQueue.queue = this.getPendingSessionRequests()),
              this.processSessionRequestQueue();
          }, ye.toMiliseconds(this.requestQueueDelay)));
      }),
      (this.connect = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        const i = Ki(Zt({}, t), {
          requiredNamespaces: t.requiredNamespaces || {},
          optionalNamespaces: t.optionalNamespaces || {},
        });
        await this.isValidConnect(i);
        const {
          pairingTopic: s,
          requiredNamespaces: a,
          optionalNamespaces: f,
          sessionProperties: g,
          relays: v,
        } = i;
        let h = s,
          y,
          A = !1;
        try {
          h && (A = this.client.core.pairing.pairings.get(h).active);
        } catch (Q) {
          throw (
            (this.client.logger.error(`connect() -> pairing.get(${h}) failed`),
            Q)
          );
        }
        if (!h || !A) {
          const { topic: Q, uri: G } = await this.client.core.pairing.create();
          (h = Q), (y = G);
        }
        if (!h) {
          const { message: Q } = be(
            "NO_MATCHING_KEY",
            `connect() pairing topic: ${h}`
          );
          throw new Error(Q);
        }
        const P = await this.client.core.crypto.generateKeyPair(),
          R = vr.wc_sessionPropose.req.ttl || ye.FIVE_MINUTES,
          C = dr(R),
          q = Zt(
            {
              requiredNamespaces: a,
              optionalNamespaces: f,
              relays: v ?? [{ protocol: Av }],
              proposer: { publicKey: P, metadata: this.client.metadata },
              expiryTimestamp: C,
              pairingTopic: h,
            },
            g && { sessionProperties: g }
          ),
          { reject: L, resolve: j, done: H } = _s(R, kv);
        this.events.once(
          Et("session_connect"),
          async ({ error: Q, session: G }) => {
            if (Q) L(Q);
            else if (G) {
              G.self.publicKey = P;
              const ee = Ki(Zt({}, G), {
                pairingTopic: q.pairingTopic,
                requiredNamespaces: q.requiredNamespaces,
                optionalNamespaces: q.optionalNamespaces,
                transportType: Kt.relay,
              });
              await this.client.session.set(G.topic, ee),
                await this.setExpiry(G.topic, G.expiry),
                h &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: h,
                    metadata: G.peer.metadata,
                  })),
                this.cleanupDuplicatePairings(ee),
                j(ee);
            }
          }
        );
        const Y = await this.sendRequest({
          topic: h,
          method: "wc_sessionPropose",
          params: q,
          throwOnFailedPublish: !0,
        });
        return (
          await this.setProposal(Y, Zt({ id: Y }, q)), { uri: y, approval: H }
        );
      }),
      (this.pair = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          return await this.client.core.pairing.pair(t);
        } catch (i) {
          throw (this.client.logger.error("pair() failed"), i);
        }
      }),
      (this.approve = async (t) => {
        var i, s, a;
        const f = this.client.core.eventClient.createEvent({
          properties: {
            topic:
              (i = t == null ? void 0 : t.id) == null ? void 0 : i.toString(),
            trace: [ji.session_approve_started],
          },
        });
        try {
          this.isInitialized(), await this.confirmOnlineStateOrThrow();
        } catch (de) {
          throw (f.setError(ys.no_internet_connection), de);
        }
        try {
          await this.isValidProposalId(t == null ? void 0 : t.id);
        } catch (de) {
          throw (
            (this.client.logger.error(
              `approve() -> proposal.get(${t == null ? void 0 : t.id}) failed`
            ),
            f.setError(ys.proposal_not_found),
            de)
          );
        }
        try {
          await this.isValidApprove(t);
        } catch (de) {
          throw (
            (this.client.logger.error("approve() -> isValidApprove() failed"),
            f.setError(ys.session_approve_namespace_validation_failure),
            de)
          );
        }
        const {
            id: g,
            relayProtocol: v,
            namespaces: h,
            sessionProperties: y,
            sessionConfig: A,
          } = t,
          P = this.client.proposal.get(g);
        this.client.core.eventClient.deleteEvent({ eventId: f.eventId });
        const {
          pairingTopic: R,
          proposer: C,
          requiredNamespaces: q,
          optionalNamespaces: L,
        } = P;
        let j =
          (s = this.client.core.eventClient) == null
            ? void 0
            : s.getEvent({ topic: R });
        j ||
          (j =
            (a = this.client.core.eventClient) == null
              ? void 0
              : a.createEvent({
                  type: ji.session_approve_started,
                  properties: {
                    topic: R,
                    trace: [
                      ji.session_approve_started,
                      ji.session_namespaces_validation_success,
                    ],
                  },
                }));
        const H = await this.client.core.crypto.generateKeyPair(),
          Y = C.publicKey,
          Q = await this.client.core.crypto.generateSharedKey(H, Y),
          G = Zt(
            Zt(
              {
                relay: { protocol: v ?? "irn" },
                namespaces: h,
                controller: { publicKey: H, metadata: this.client.metadata },
                expiry: dr(Zs),
              },
              y && { sessionProperties: y }
            ),
            A && { sessionConfig: A }
          ),
          ee = Kt.relay;
        j.addTrace(ji.subscribing_session_topic);
        try {
          await this.client.core.relayer.subscribe(Q, { transportType: ee });
        } catch (de) {
          throw (j.setError(ys.subscribe_session_topic_failure), de);
        }
        j.addTrace(ji.subscribe_session_topic_success);
        const ne = Ki(Zt({}, G), {
          topic: Q,
          requiredNamespaces: q,
          optionalNamespaces: L,
          pairingTopic: R,
          acknowledged: !1,
          self: G.controller,
          peer: { publicKey: C.publicKey, metadata: C.metadata },
          controller: H,
          transportType: Kt.relay,
        });
        await this.client.session.set(Q, ne), j.addTrace(ji.store_session);
        try {
          j.addTrace(ji.publishing_session_settle),
            await this.sendRequest({
              topic: Q,
              method: "wc_sessionSettle",
              params: G,
              throwOnFailedPublish: !0,
            }).catch((de) => {
              throw (
                (j == null || j.setError(ys.session_settle_publish_failure), de)
              );
            }),
            j.addTrace(ji.session_settle_publish_success),
            j.addTrace(ji.publishing_session_approve),
            await this.sendResult({
              id: g,
              topic: R,
              result: {
                relay: { protocol: v ?? "irn" },
                responderPublicKey: H,
              },
              throwOnFailedPublish: !0,
            }).catch((de) => {
              throw (
                (j == null || j.setError(ys.session_approve_publish_failure),
                de)
              );
            }),
            j.addTrace(ji.session_approve_publish_success);
        } catch (de) {
          throw (
            (this.client.logger.error(de),
            this.client.session.delete(Q, Ft("USER_DISCONNECTED")),
            await this.client.core.relayer.unsubscribe(Q),
            de)
          );
        }
        return (
          this.client.core.eventClient.deleteEvent({ eventId: j.eventId }),
          await this.client.core.pairing.updateMetadata({
            topic: R,
            metadata: C.metadata,
          }),
          await this.client.proposal.delete(g, Ft("USER_DISCONNECTED")),
          await this.client.core.pairing.activate({ topic: R }),
          await this.setExpiry(Q, dr(Zs)),
          {
            topic: Q,
            acknowledged: () => Promise.resolve(this.client.session.get(Q)),
          }
        );
      }),
      (this.reject = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidReject(t);
        } catch (f) {
          throw (
            (this.client.logger.error("reject() -> isValidReject() failed"), f)
          );
        }
        const { id: i, reason: s } = t;
        let a;
        try {
          a = this.client.proposal.get(i).pairingTopic;
        } catch (f) {
          throw (
            (this.client.logger.error(`reject() -> proposal.get(${i}) failed`),
            f)
          );
        }
        a &&
          (await this.sendError({
            id: i,
            topic: a,
            error: s,
            rpcOpts: vr.wc_sessionPropose.reject,
          }),
          await this.client.proposal.delete(i, Ft("USER_DISCONNECTED")));
      }),
      (this.update = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidUpdate(t);
        } catch (A) {
          throw (
            (this.client.logger.error("update() -> isValidUpdate() failed"), A)
          );
        }
        const { topic: i, namespaces: s } = t,
          { done: a, resolve: f, reject: g } = _s(),
          v = Yn(),
          h = xs().toString(),
          y = this.client.session.get(i).namespaces;
        return (
          this.events.once(Et("session_update", v), ({ error: A }) => {
            A ? g(A) : f();
          }),
          await this.client.session.update(i, { namespaces: s }),
          await this.sendRequest({
            topic: i,
            method: "wc_sessionUpdate",
            params: { namespaces: s },
            throwOnFailedPublish: !0,
            clientRpcId: v,
            relayRpcId: h,
          }).catch((A) => {
            this.client.logger.error(A),
              this.client.session.update(i, { namespaces: y }),
              g(A);
          }),
          { acknowledged: a }
        );
      }),
      (this.extend = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidExtend(t);
        } catch (v) {
          throw (
            (this.client.logger.error("extend() -> isValidExtend() failed"), v)
          );
        }
        const { topic: i } = t,
          s = Yn(),
          { done: a, resolve: f, reject: g } = _s();
        return (
          this.events.once(Et("session_extend", s), ({ error: v }) => {
            v ? g(v) : f();
          }),
          await this.setExpiry(i, dr(Zs)),
          this.sendRequest({
            topic: i,
            method: "wc_sessionExtend",
            params: {},
            clientRpcId: s,
            throwOnFailedPublish: !0,
          }).catch((v) => {
            g(v);
          }),
          { acknowledged: a }
        );
      }),
      (this.request = async (t) => {
        this.isInitialized();
        try {
          await this.isValidRequest(t);
        } catch (C) {
          throw (
            (this.client.logger.error("request() -> isValidRequest() failed"),
            C)
          );
        }
        const {
            chainId: i,
            request: s,
            topic: a,
            expiry: f = vr.wc_sessionRequest.req.ttl,
          } = t,
          g = this.client.session.get(a);
        (g == null ? void 0 : g.transportType) === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const v = Yn(),
          h = xs().toString(),
          {
            done: y,
            resolve: A,
            reject: P,
          } = _s(f, "Request expired. Please try again.");
        this.events.once(
          Et("session_request", v),
          ({ error: C, result: q }) => {
            C ? P(C) : A(q);
          }
        );
        const R = this.getAppLinkIfEnabled(g.peer.metadata, g.transportType);
        return R
          ? (await this.sendRequest({
              clientRpcId: v,
              relayRpcId: h,
              topic: a,
              method: "wc_sessionRequest",
              params: {
                request: Ki(Zt({}, s), { expiryTimestamp: dr(f) }),
                chainId: i,
              },
              expiry: f,
              throwOnFailedPublish: !0,
              appLink: R,
            }).catch((C) => P(C)),
            this.client.events.emit("session_request_sent", {
              topic: a,
              request: s,
              chainId: i,
              id: v,
            }),
            await y())
          : await Promise.all([
              new Promise(async (C) => {
                await this.sendRequest({
                  clientRpcId: v,
                  relayRpcId: h,
                  topic: a,
                  method: "wc_sessionRequest",
                  params: {
                    request: Ki(Zt({}, s), { expiryTimestamp: dr(f) }),
                    chainId: i,
                  },
                  expiry: f,
                  throwOnFailedPublish: !0,
                }).catch((q) => P(q)),
                  this.client.events.emit("session_request_sent", {
                    topic: a,
                    request: s,
                    chainId: i,
                    id: v,
                  }),
                  C();
              }),
              new Promise(async (C) => {
                var q;
                if (!((q = g.sessionConfig) != null && q.disableDeepLink)) {
                  const L = await B8(this.client.core.storage, q1);
                  await q8({ id: v, topic: a, wcDeepLink: L });
                }
                C();
              }),
              y(),
            ]).then((C) => C[2]);
      }),
      (this.respond = async (t) => {
        this.isInitialized(), await this.isValidRespond(t);
        const { topic: i, response: s } = t,
          { id: a } = s,
          f = this.client.session.get(i);
        f.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const g = this.getAppLinkIfEnabled(f.peer.metadata, f.transportType);
        an(s)
          ? await this.sendResult({
              id: a,
              topic: i,
              result: s.result,
              throwOnFailedPublish: !0,
              appLink: g,
            })
          : Si(s) &&
            (await this.sendError({
              id: a,
              topic: i,
              error: s.error,
              appLink: g,
            })),
          this.cleanupAfterResponse(t);
      }),
      (this.ping = async (t) => {
        this.isInitialized(), await this.confirmOnlineStateOrThrow();
        try {
          await this.isValidPing(t);
        } catch (s) {
          throw (this.client.logger.error("ping() -> isValidPing() failed"), s);
        }
        const { topic: i } = t;
        if (this.client.session.keys.includes(i)) {
          const s = Yn(),
            a = xs().toString(),
            { done: f, resolve: g, reject: v } = _s();
          this.events.once(Et("session_ping", s), ({ error: h }) => {
            h ? v(h) : g();
          }),
            await Promise.all([
              this.sendRequest({
                topic: i,
                method: "wc_sessionPing",
                params: {},
                throwOnFailedPublish: !0,
                clientRpcId: s,
                relayRpcId: a,
              }),
              f(),
            ]);
        } else
          this.client.core.pairing.pairings.keys.includes(i) &&
            (await this.client.core.pairing.ping({ topic: i }));
      }),
      (this.emit = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidEmit(t);
        const { topic: i, event: s, chainId: a } = t,
          f = xs().toString();
        await this.sendRequest({
          topic: i,
          method: "wc_sessionEvent",
          params: { event: s, chainId: a },
          throwOnFailedPublish: !0,
          relayRpcId: f,
        });
      }),
      (this.disconnect = async (t) => {
        this.isInitialized(),
          await this.confirmOnlineStateOrThrow(),
          await this.isValidDisconnect(t);
        const { topic: i } = t;
        if (this.client.session.keys.includes(i))
          await this.sendRequest({
            topic: i,
            method: "wc_sessionDelete",
            params: Ft("USER_DISCONNECTED"),
            throwOnFailedPublish: !0,
          }),
            await this.deleteSession({ topic: i, emitEvent: !1 });
        else if (this.client.core.pairing.pairings.keys.includes(i))
          await this.client.core.pairing.disconnect({ topic: i });
        else {
          const { message: s } = be(
            "MISMATCHED_TOPIC",
            `Session or pairing topic not found: ${i}`
          );
          throw new Error(s);
        }
      }),
      (this.find = (t) => (
        this.isInitialized(),
        this.client.session.getAll().filter((i) => uA(i, t))
      )),
      (this.getPendingSessionRequests = () =>
        this.client.pendingRequest.getAll()),
      (this.authenticate = async (t, i) => {
        var s;
        this.isInitialized(), this.isValidAuthenticate(t);
        const a =
            i &&
            this.client.core.linkModeSupportedApps.includes(i) &&
            ((s = this.client.metadata.redirect) == null ? void 0 : s.linkMode),
          f = a ? Kt.link_mode : Kt.relay;
        f === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const {
            chains: g,
            statement: v = "",
            uri: h,
            domain: y,
            nonce: A,
            type: P,
            exp: R,
            nbf: C,
            methods: q = [],
            expiry: L,
          } = t,
          j = [...(t.resources || [])],
          { topic: H, uri: Y } = await this.client.core.pairing.create({
            methods: ["wc_sessionAuthenticate"],
            transportType: f,
          });
        this.client.logger.info({
          message: "Generated new pairing",
          pairing: { topic: H, uri: Y },
        });
        const Q = await this.client.core.crypto.generateKeyPair(),
          G = jc(Q);
        if (
          (await Promise.all([
            this.client.auth.authKeys.set(Kc, {
              responseTopic: G,
              publicKey: Q,
            }),
            this.client.auth.pairingTopics.set(G, {
              topic: G,
              pairingTopic: H,
            }),
          ]),
          await this.client.core.relayer.subscribe(G, { transportType: f }),
          this.client.logger.info(`sending request to new pairing topic: ${H}`),
          q.length > 0)
        ) {
          const { namespace: S } = Xa(g[0]);
          let E = O_(S, "request", q);
          Uc(j) && (E = q_(E, j.pop())), j.push(E);
        }
        const ee =
            L && L > vr.wc_sessionAuthenticate.req.ttl
              ? L
              : vr.wc_sessionAuthenticate.req.ttl,
          ne = {
            authPayload: {
              type: P ?? "caip122",
              chains: g,
              statement: v,
              aud: h,
              domain: y,
              version: "1",
              nonce: A,
              iat: new Date().toISOString(),
              exp: R,
              nbf: C,
              resources: j,
            },
            requester: { publicKey: Q, metadata: this.client.metadata },
            expiryTimestamp: dr(ee),
          },
          de = {
            eip155: {
              chains: g,
              methods: [...new Set(["personal_sign", ...q])],
              events: ["chainChanged", "accountsChanged"],
            },
          },
          fe = {
            requiredNamespaces: {},
            optionalNamespaces: de,
            relays: [{ protocol: "irn" }],
            pairingTopic: H,
            proposer: { publicKey: Q, metadata: this.client.metadata },
            expiryTimestamp: dr(vr.wc_sessionPropose.req.ttl),
          },
          { done: xe, resolve: F, reject: m } = _s(ee, "Request expired"),
          c = async ({ error: S, session: E }) => {
            if ((this.events.off(Et("session_request", b), u), S)) m(S);
            else if (E) {
              (E.self.publicKey = Q),
                await this.client.session.set(E.topic, E),
                await this.setExpiry(E.topic, E.expiry),
                H &&
                  (await this.client.core.pairing.updateMetadata({
                    topic: H,
                    metadata: E.peer.metadata,
                  }));
              const l = this.client.session.get(E.topic);
              await this.deleteProposal(w), F({ session: l });
            }
          },
          u = async (S) => {
            var E, l, p;
            if (
              (await this.deletePendingAuthRequest(b, {
                message: "fulfilled",
                code: 0,
              }),
              S.error)
            ) {
              const $ = Ft("WC_METHOD_UNSUPPORTED", "wc_sessionAuthenticate");
              return S.error.code === $.code
                ? void 0
                : (this.events.off(Et("session_connect"), c),
                  m(S.error.message));
            }
            await this.deleteProposal(w),
              this.events.off(Et("session_connect"), c);
            const { cacaos: O, responder: te } = S.result,
              se = [],
              M = [];
            for (const $ of O) {
              (await Yp({ cacao: $, projectId: this.client.core.projectId })) ||
                (this.client.logger.error($, "Signature verification failed"),
                m(
                  Ft(
                    "SESSION_SETTLEMENT_FAILED",
                    "Signature verification failed"
                  )
                ));
              const { p: U } = $,
                _ = Uc(U.resources),
                k = [Qp(U.iss)],
                re = tf(U.iss);
              if (_) {
                const oe = Xp(_),
                  ce = Zp(_);
                se.push(...oe), k.push(...ce);
              }
              for (const oe of k) M.push(`${oe}:${re}`);
            }
            const Z = await this.client.core.crypto.generateSharedKey(
              Q,
              te.publicKey
            );
            let B;
            se.length > 0 &&
              ((B = {
                topic: Z,
                acknowledged: !0,
                self: { publicKey: Q, metadata: this.client.metadata },
                peer: te,
                controller: te.publicKey,
                expiry: dr(Zs),
                requiredNamespaces: {},
                optionalNamespaces: {},
                relay: { protocol: "irn" },
                pairingTopic: H,
                namespaces: c1([...new Set(se)], [...new Set(M)]),
                transportType: f,
              }),
              await this.client.core.relayer.subscribe(Z, { transportType: f }),
              await this.client.session.set(Z, B),
              H &&
                (await this.client.core.pairing.updateMetadata({
                  topic: H,
                  metadata: te.metadata,
                })),
              (B = this.client.session.get(Z))),
              (E = this.client.metadata.redirect) != null &&
                E.linkMode &&
                (l = te.metadata.redirect) != null &&
                l.linkMode &&
                (p = te.metadata.redirect) != null &&
                p.universal &&
                i &&
                (this.client.core.addLinkModeSupportedApp(
                  te.metadata.redirect.universal
                ),
                this.client.session.update(Z, { transportType: Kt.link_mode })),
              F({ auths: O, session: B });
          },
          b = Yn(),
          w = Yn();
        this.events.once(Et("session_connect"), c),
          this.events.once(Et("session_request", b), u);
        let I;
        try {
          if (a) {
            const S = rs("wc_sessionAuthenticate", ne, b);
            this.client.core.history.set(H, S);
            const E = await this.client.core.crypto.encode("", S, {
              type: bo,
              encoding: za,
            });
            I = Cc(i, H, E);
          } else
            await Promise.all([
              this.sendRequest({
                topic: H,
                method: "wc_sessionAuthenticate",
                params: ne,
                expiry: t.expiry,
                throwOnFailedPublish: !0,
                clientRpcId: b,
              }),
              this.sendRequest({
                topic: H,
                method: "wc_sessionPropose",
                params: fe,
                expiry: vr.wc_sessionPropose.req.ttl,
                throwOnFailedPublish: !0,
                clientRpcId: w,
              }),
            ]);
        } catch (S) {
          throw (
            (this.events.off(Et("session_connect"), c),
            this.events.off(Et("session_request", b), u),
            S)
          );
        }
        return (
          await this.setProposal(w, Zt({ id: w }, fe)),
          await this.setAuthRequest(b, {
            request: Ki(Zt({}, ne), { verifyContext: {} }),
            pairingTopic: H,
            transportType: f,
          }),
          { uri: I ?? Y, response: xe }
        );
      }),
      (this.approveSessionAuthenticate = async (t) => {
        const { id: i, auths: s } = t,
          a = this.client.core.eventClient.createEvent({
            properties: {
              topic: i.toString(),
              trace: [ws.authenticated_session_approve_started],
            },
          });
        try {
          this.isInitialized();
        } catch (L) {
          throw (a.setError(ja.no_internet_connection), L);
        }
        const f = this.getPendingAuthRequest(i);
        if (!f)
          throw (
            (a.setError(ja.authenticated_session_pending_request_not_found),
            new Error(`Could not find pending auth request with id ${i}`))
          );
        const g = f.transportType || Kt.relay;
        g === Kt.relay && (await this.confirmOnlineStateOrThrow());
        const v = f.requester.publicKey,
          h = await this.client.core.crypto.generateKeyPair(),
          y = jc(v),
          A = { type: Fn, receiverPublicKey: v, senderPublicKey: h },
          P = [],
          R = [];
        for (const L of s) {
          if (
            !(await Yp({ cacao: L, projectId: this.client.core.projectId }))
          ) {
            a.setError(ja.invalid_cacao);
            const G = Ft(
              "SESSION_SETTLEMENT_FAILED",
              "Signature verification failed"
            );
            throw (
              (await this.sendError({
                id: i,
                topic: y,
                error: G,
                encodeOpts: A,
              }),
              new Error(G.message))
            );
          }
          a.addTrace(ws.cacaos_verified);
          const { p: j } = L,
            H = Uc(j.resources),
            Y = [Qp(j.iss)],
            Q = tf(j.iss);
          if (H) {
            const G = Xp(H),
              ee = Zp(H);
            P.push(...G), Y.push(...ee);
          }
          for (const G of Y) R.push(`${G}:${Q}`);
        }
        const C = await this.client.core.crypto.generateSharedKey(h, v);
        a.addTrace(ws.create_authenticated_session_topic);
        let q;
        if ((P == null ? void 0 : P.length) > 0) {
          (q = {
            topic: C,
            acknowledged: !0,
            self: { publicKey: h, metadata: this.client.metadata },
            peer: { publicKey: v, metadata: f.requester.metadata },
            controller: v,
            expiry: dr(Zs),
            authentication: s,
            requiredNamespaces: {},
            optionalNamespaces: {},
            relay: { protocol: "irn" },
            pairingTopic: f.pairingTopic,
            namespaces: c1([...new Set(P)], [...new Set(R)]),
            transportType: g,
          }),
            a.addTrace(ws.subscribing_authenticated_session_topic);
          try {
            await this.client.core.relayer.subscribe(C, { transportType: g });
          } catch (L) {
            throw (
              (a.setError(ja.subscribe_authenticated_session_topic_failure), L)
            );
          }
          a.addTrace(ws.subscribe_authenticated_session_topic_success),
            await this.client.session.set(C, q),
            a.addTrace(ws.store_authenticated_session),
            await this.client.core.pairing.updateMetadata({
              topic: f.pairingTopic,
              metadata: f.requester.metadata,
            });
        }
        a.addTrace(ws.publishing_authenticated_session_approve);
        try {
          await this.sendResult({
            topic: y,
            id: i,
            result: {
              cacaos: s,
              responder: { publicKey: h, metadata: this.client.metadata },
            },
            encodeOpts: A,
            throwOnFailedPublish: !0,
            appLink: this.getAppLinkIfEnabled(f.requester.metadata, g),
          });
        } catch (L) {
          throw (
            (a.setError(ja.authenticated_session_approve_publish_failure), L)
          );
        }
        return (
          await this.client.auth.requests.delete(i, {
            message: "fulfilled",
            code: 0,
          }),
          await this.client.core.pairing.activate({ topic: f.pairingTopic }),
          this.client.core.eventClient.deleteEvent({ eventId: a.eventId }),
          { session: q }
        );
      }),
      (this.rejectSessionAuthenticate = async (t) => {
        this.isInitialized();
        const { id: i, reason: s } = t,
          a = this.getPendingAuthRequest(i);
        if (!a)
          throw new Error(`Could not find pending auth request with id ${i}`);
        a.transportType === Kt.relay &&
          (await this.confirmOnlineStateOrThrow());
        const f = a.requester.publicKey,
          g = await this.client.core.crypto.generateKeyPair(),
          v = jc(f),
          h = { type: Fn, receiverPublicKey: f, senderPublicKey: g };
        await this.sendError({
          id: i,
          topic: v,
          error: s,
          encodeOpts: h,
          rpcOpts: vr.wc_sessionAuthenticate.reject,
          appLink: this.getAppLinkIfEnabled(
            a.requester.metadata,
            a.transportType
          ),
        }),
          await this.client.auth.requests.delete(i, {
            message: "rejected",
            code: 0,
          }),
          await this.client.proposal.delete(i, Ft("USER_DISCONNECTED"));
      }),
      (this.formatAuthMessage = (t) => {
        this.isInitialized();
        const { request: i, iss: s } = t;
        return uv(i, s);
      }),
      (this.processRelayMessageCache = () => {
        setTimeout(async () => {
          if (this.relayMessageCache.length !== 0)
            for (; this.relayMessageCache.length > 0; )
              try {
                const t = this.relayMessageCache.shift();
                t && (await this.onRelayMessage(t));
              } catch (t) {
                this.client.logger.error(t);
              }
        }, 50);
      }),
      (this.cleanupDuplicatePairings = async (t) => {
        if (t.pairingTopic)
          try {
            const i = this.client.core.pairing.pairings.get(t.pairingTopic),
              s = this.client.core.pairing.pairings.getAll().filter((a) => {
                var f, g;
                return (
                  ((f = a.peerMetadata) == null ? void 0 : f.url) &&
                  ((g = a.peerMetadata) == null ? void 0 : g.url) ===
                    t.peer.metadata.url &&
                  a.topic &&
                  a.topic !== i.topic
                );
              });
            if (s.length === 0) return;
            this.client.logger.info(
              `Cleaning up ${s.length} duplicate pairing(s)`
            ),
              await Promise.all(
                s.map((a) =>
                  this.client.core.pairing.disconnect({ topic: a.topic })
                )
              ),
              this.client.logger.info("Duplicate pairings clean up finished");
          } catch (i) {
            this.client.logger.error(i);
          }
      }),
      (this.deleteSession = async (t) => {
        var i;
        const {
            topic: s,
            expirerHasDeleted: a = !1,
            emitEvent: f = !0,
            id: g = 0,
          } = t,
          { self: v } = this.client.session.get(s);
        await this.client.core.relayer.unsubscribe(s),
          await this.client.session.delete(s, Ft("USER_DISCONNECTED")),
          this.addToRecentlyDeleted(s, "session"),
          this.client.core.crypto.keychain.has(v.publicKey) &&
            (await this.client.core.crypto.deleteKeyPair(v.publicKey)),
          this.client.core.crypto.keychain.has(s) &&
            (await this.client.core.crypto.deleteSymKey(s)),
          a || this.client.core.expirer.del(s),
          this.client.core.storage
            .removeItem(q1)
            .catch((h) => this.client.logger.warn(h)),
          this.getPendingSessionRequests().forEach((h) => {
            h.topic === s &&
              this.deletePendingSessionRequest(h.id, Ft("USER_DISCONNECTED"));
          }),
          s ===
            ((i = this.sessionRequestQueue.queue[0]) == null
              ? void 0
              : i.topic) && (this.sessionRequestQueue.state = nn.idle),
          f && this.client.events.emit("session_delete", { id: g, topic: s });
      }),
      (this.deleteProposal = async (t, i) => {
        if (i)
          try {
            const s = this.client.proposal.get(t),
              a = this.client.core.eventClient.getEvent({
                topic: s.pairingTopic,
              });
            a == null || a.setError(ys.proposal_expired);
          } catch {}
        await Promise.all([
          this.client.proposal.delete(t, Ft("USER_DISCONNECTED")),
          i ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "proposal");
      }),
      (this.deletePendingSessionRequest = async (t, i, s = !1) => {
        await Promise.all([
          this.client.pendingRequest.delete(t, i),
          s ? Promise.resolve() : this.client.core.expirer.del(t),
        ]),
          this.addToRecentlyDeleted(t, "request"),
          (this.sessionRequestQueue.queue =
            this.sessionRequestQueue.queue.filter((a) => a.id !== t)),
          s &&
            ((this.sessionRequestQueue.state = nn.idle),
            this.client.events.emit("session_request_expire", { id: t }));
      }),
      (this.deletePendingAuthRequest = async (t, i, s = !1) => {
        await Promise.all([
          this.client.auth.requests.delete(t, i),
          s ? Promise.resolve() : this.client.core.expirer.del(t),
        ]);
      }),
      (this.setExpiry = async (t, i) => {
        this.client.session.keys.includes(t) &&
          (this.client.core.expirer.set(t, i),
          await this.client.session.update(t, { expiry: i }));
      }),
      (this.setProposal = async (t, i) => {
        this.client.core.expirer.set(t, dr(vr.wc_sessionPropose.req.ttl)),
          await this.client.proposal.set(t, i);
      }),
      (this.setAuthRequest = async (t, i) => {
        const { request: s, pairingTopic: a, transportType: f = Kt.relay } = i;
        this.client.core.expirer.set(t, s.expiryTimestamp),
          await this.client.auth.requests.set(t, {
            authPayload: s.authPayload,
            requester: s.requester,
            expiryTimestamp: s.expiryTimestamp,
            id: t,
            pairingTopic: a,
            verifyContext: s.verifyContext,
            transportType: f,
          });
      }),
      (this.setPendingSessionRequest = async (t) => {
        const { id: i, topic: s, params: a, verifyContext: f } = t,
          g = a.request.expiryTimestamp || dr(vr.wc_sessionRequest.req.ttl);
        this.client.core.expirer.set(i, g),
          await this.client.pendingRequest.set(i, {
            id: i,
            topic: s,
            params: a,
            verifyContext: f,
          });
      }),
      (this.sendRequest = async (t) => {
        const {
            topic: i,
            method: s,
            params: a,
            expiry: f,
            relayRpcId: g,
            clientRpcId: v,
            throwOnFailedPublish: h,
            appLink: y,
          } = t,
          A = rs(s, a, v);
        let P;
        const R = !!y;
        try {
          const L = R ? za : is;
          P = await this.client.core.crypto.encode(i, A, { encoding: L });
        } catch (L) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendRequest() -> core.crypto.encode() for topic ${i} failed`
            ),
            L)
          );
        }
        let C;
        if (WI.includes(s)) {
          const L = qn(JSON.stringify(A)),
            j = qn(P);
          C = await this.client.core.verify.register({ id: j, decryptedId: L });
        }
        const q = vr[s].req;
        if (
          ((q.attestation = C),
          f && (q.ttl = f),
          g && (q.id = g),
          this.client.core.history.set(i, A),
          R)
        ) {
          const L = Cc(y, i, P);
          await global.Linking.openURL(L, this.client.name);
        } else {
          const L = vr[s].req;
          f && (L.ttl = f),
            g && (L.id = g),
            h
              ? ((L.internal = Ki(Zt({}, L.internal), {
                  throwOnFailedPublish: !0,
                })),
                await this.client.core.relayer.publish(i, P, L))
              : this.client.core.relayer
                  .publish(i, P, L)
                  .catch((j) => this.client.logger.error(j));
        }
        return A.id;
      }),
      (this.sendResult = async (t) => {
        const {
            id: i,
            topic: s,
            result: a,
            throwOnFailedPublish: f,
            encodeOpts: g,
            appLink: v,
          } = t,
          h = ff(i, a);
        let y;
        const A = v && typeof (global == null ? void 0 : global.Linking) < "u";
        try {
          const R = A ? za : is;
          y = await this.client.core.crypto.encode(
            s,
            h,
            Ki(Zt({}, g || {}), { encoding: R })
          );
        } catch (R) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendResult() -> core.crypto.encode() for topic ${s} failed`
            ),
            R)
          );
        }
        let P;
        try {
          P = await this.client.core.history.get(s, i);
        } catch (R) {
          throw (
            (this.client.logger.error(
              `sendResult() -> history.get(${s}, ${i}) failed`
            ),
            R)
          );
        }
        if (A) {
          const R = Cc(v, s, y);
          await global.Linking.openURL(R, this.client.name);
        } else {
          const R = vr[P.request.method].res;
          f
            ? ((R.internal = Ki(Zt({}, R.internal), {
                throwOnFailedPublish: !0,
              })),
              await this.client.core.relayer.publish(s, y, R))
            : this.client.core.relayer
                .publish(s, y, R)
                .catch((C) => this.client.logger.error(C));
        }
        await this.client.core.history.resolve(h);
      }),
      (this.sendError = async (t) => {
        const {
            id: i,
            topic: s,
            error: a,
            encodeOpts: f,
            rpcOpts: g,
            appLink: v,
          } = t,
          h = hf(i, a);
        let y;
        const A = v && typeof (global == null ? void 0 : global.Linking) < "u";
        try {
          const R = A ? za : is;
          y = await this.client.core.crypto.encode(
            s,
            h,
            Ki(Zt({}, f || {}), { encoding: R })
          );
        } catch (R) {
          throw (
            (await this.cleanup(),
            this.client.logger.error(
              `sendError() -> core.crypto.encode() for topic ${s} failed`
            ),
            R)
          );
        }
        let P;
        try {
          P = await this.client.core.history.get(s, i);
        } catch (R) {
          throw (
            (this.client.logger.error(
              `sendError() -> history.get(${s}, ${i}) failed`
            ),
            R)
          );
        }
        if (A) {
          const R = Cc(v, s, y);
          await global.Linking.openURL(R, this.client.name);
        } else {
          const R = g || vr[P.request.method].res;
          this.client.core.relayer.publish(s, y, R);
        }
        await this.client.core.history.resolve(h);
      }),
      (this.cleanup = async () => {
        const t = [],
          i = [];
        this.client.session.getAll().forEach((s) => {
          let a = !1;
          Xn(s.expiry) && (a = !0),
            this.client.core.crypto.keychain.has(s.topic) || (a = !0),
            a && t.push(s.topic);
        }),
          this.client.proposal.getAll().forEach((s) => {
            Xn(s.expiryTimestamp) && i.push(s.id);
          }),
          await Promise.all([
            ...t.map((s) => this.deleteSession({ topic: s })),
            ...i.map((s) => this.deleteProposal(s)),
          ]);
      }),
      (this.onRelayEventRequest = async (t) => {
        this.requestQueue.queue.push(t), await this.processRequestsQueue();
      }),
      (this.processRequestsQueue = async () => {
        if (this.requestQueue.state === nn.active) {
          this.client.logger.info("Request queue already active, skipping...");
          return;
        }
        for (
          this.client.logger.info(
            `Request queue starting with ${this.requestQueue.queue.length} requests`
          );
          this.requestQueue.queue.length > 0;

        ) {
          this.requestQueue.state = nn.active;
          const t = this.requestQueue.queue.shift();
          if (t)
            try {
              await this.processRequest(t);
            } catch (i) {
              this.client.logger.warn(i);
            }
        }
        this.requestQueue.state = nn.idle;
      }),
      (this.processRequest = async (t) => {
        const {
            topic: i,
            payload: s,
            attestation: a,
            transportType: f,
            encryptedId: g,
          } = t,
          v = s.method;
        if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: v }))
          switch (v) {
            case "wc_sessionPropose":
              return await this.onSessionProposeRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: g,
              });
            case "wc_sessionSettle":
              return await this.onSessionSettleRequest(i, s);
            case "wc_sessionUpdate":
              return await this.onSessionUpdateRequest(i, s);
            case "wc_sessionExtend":
              return await this.onSessionExtendRequest(i, s);
            case "wc_sessionPing":
              return await this.onSessionPingRequest(i, s);
            case "wc_sessionDelete":
              return await this.onSessionDeleteRequest(i, s);
            case "wc_sessionRequest":
              return await this.onSessionRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: g,
                transportType: f,
              });
            case "wc_sessionEvent":
              return await this.onSessionEventRequest(i, s);
            case "wc_sessionAuthenticate":
              return await this.onSessionAuthenticateRequest({
                topic: i,
                payload: s,
                attestation: a,
                encryptedId: g,
                transportType: f,
              });
            default:
              return this.client.logger.info(`Unsupported request method ${v}`);
          }
      }),
      (this.onRelayEventResponse = async (t) => {
        const { topic: i, payload: s, transportType: a } = t,
          f = (await this.client.core.history.get(i, s.id)).request.method;
        switch (f) {
          case "wc_sessionPropose":
            return this.onSessionProposeResponse(i, s, a);
          case "wc_sessionSettle":
            return this.onSessionSettleResponse(i, s);
          case "wc_sessionUpdate":
            return this.onSessionUpdateResponse(i, s);
          case "wc_sessionExtend":
            return this.onSessionExtendResponse(i, s);
          case "wc_sessionPing":
            return this.onSessionPingResponse(i, s);
          case "wc_sessionRequest":
            return this.onSessionRequestResponse(i, s);
          case "wc_sessionAuthenticate":
            return this.onSessionAuthenticateResponse(i, s);
          default:
            return this.client.logger.info(`Unsupported response method ${f}`);
        }
      }),
      (this.onRelayEventUnknownPayload = (t) => {
        const { topic: i } = t,
          { message: s } = be(
            "MISSING_OR_INVALID",
            `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`
          );
        throw new Error(s);
      }),
      (this.shouldIgnorePairingRequest = (t) => {
        const { topic: i, requestMethod: s } = t,
          a = this.expectedPairingMethodMap.get(i);
        return !a || a.includes(s)
          ? !1
          : !!(
              a.includes("wc_sessionAuthenticate") &&
              this.client.events.listenerCount("session_authenticate") > 0
            );
      }),
      (this.onSessionProposeRequest = async (t) => {
        const { topic: i, payload: s, attestation: a, encryptedId: f } = t,
          { params: g, id: v } = s;
        try {
          const h = this.client.core.eventClient.getEvent({ topic: i });
          this.isValidConnect(Zt({}, s.params));
          const y = g.expiryTimestamp || dr(vr.wc_sessionPropose.req.ttl),
            A = Zt({ id: v, pairingTopic: i, expiryTimestamp: y }, g);
          await this.setProposal(v, A);
          const P = await this.getVerifyContext({
            attestationId: a,
            hash: qn(JSON.stringify(s)),
            encryptedId: f,
            metadata: A.proposer.metadata,
          });
          this.client.events.listenerCount("session_proposal") === 0 &&
            (console.warn("No listener for session_proposal event"),
            h == null || h.setError(On.proposal_listener_not_found)),
            h == null || h.addTrace(sn.emit_session_proposal),
            this.client.events.emit("session_proposal", {
              id: v,
              params: A,
              verifyContext: P,
            });
        } catch (h) {
          await this.sendError({
            id: v,
            topic: i,
            error: h,
            rpcOpts: vr.wc_sessionPropose.autoReject,
          }),
            this.client.logger.error(h);
        }
      }),
      (this.onSessionProposeResponse = async (t, i, s) => {
        const { id: a } = i;
        if (an(i)) {
          const { result: f } = i;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            result: f,
          });
          const g = this.client.proposal.get(a);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            proposal: g,
          });
          const v = g.proposer.publicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            selfPublicKey: v,
          });
          const h = f.responderPublicKey;
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            peerPublicKey: h,
          });
          const y = await this.client.core.crypto.generateSharedKey(v, h);
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            sessionTopic: y,
          });
          const A = await this.client.core.relayer.subscribe(y, {
            transportType: s,
          });
          this.client.logger.trace({
            type: "method",
            method: "onSessionProposeResponse",
            subscriptionId: A,
          }),
            await this.client.core.pairing.activate({ topic: t });
        } else if (Si(i)) {
          await this.client.proposal.delete(a, Ft("USER_DISCONNECTED"));
          const f = Et("session_connect");
          if (this.events.listenerCount(f) === 0)
            throw new Error(`emitting ${f} without any listeners, 954`);
          this.events.emit(Et("session_connect"), { error: i.error });
        }
      }),
      (this.onSessionSettleRequest = async (t, i) => {
        const { id: s, params: a } = i;
        try {
          this.isValidSessionSettleRequest(a);
          const {
              relay: f,
              controller: g,
              expiry: v,
              namespaces: h,
              sessionProperties: y,
              sessionConfig: A,
            } = i.params,
            P = Ki(
              Zt(
                Zt(
                  {
                    topic: t,
                    relay: f,
                    expiry: v,
                    namespaces: h,
                    acknowledged: !0,
                    pairingTopic: "",
                    requiredNamespaces: {},
                    optionalNamespaces: {},
                    controller: g.publicKey,
                    self: { publicKey: "", metadata: this.client.metadata },
                    peer: { publicKey: g.publicKey, metadata: g.metadata },
                  },
                  y && { sessionProperties: y }
                ),
                A && { sessionConfig: A }
              ),
              { transportType: Kt.relay }
            ),
            R = Et("session_connect");
          if (this.events.listenerCount(R) === 0)
            throw new Error(`emitting ${R} without any listeners 997`);
          this.events.emit(Et("session_connect"), { session: P }),
            await this.sendResult({
              id: i.id,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            });
        } catch (f) {
          await this.sendError({ id: s, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionSettleResponse = async (t, i) => {
        const { id: s } = i;
        an(i)
          ? (await this.client.session.update(t, { acknowledged: !0 }),
            this.events.emit(Et("session_approve", s), {}))
          : Si(i) &&
            (await this.client.session.delete(t, Ft("USER_DISCONNECTED")),
            this.events.emit(Et("session_approve", s), { error: i.error }));
      }),
      (this.onSessionUpdateRequest = async (t, i) => {
        const { params: s, id: a } = i;
        try {
          const f = `${t}_session_update`,
            g = $a.get(f);
          if (g && this.isRequestOutOfSync(g, a)) {
            this.client.logger.info(`Discarding out of sync request - ${a}`),
              this.sendError({
                id: a,
                topic: t,
                error: Ft("INVALID_UPDATE_REQUEST"),
              });
            return;
          }
          this.isValidUpdate(Zt({ topic: t }, s));
          try {
            $a.set(f, a),
              await this.client.session.update(t, { namespaces: s.namespaces }),
              await this.sendResult({
                id: a,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              });
          } catch (v) {
            throw ($a.delete(f), v);
          }
          this.client.events.emit("session_update", {
            id: a,
            topic: t,
            params: s,
          });
        } catch (f) {
          await this.sendError({ id: a, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.isRequestOutOfSync = (t, i) =>
        parseInt(i.toString().slice(0, -3)) <=
        parseInt(t.toString().slice(0, -3))),
      (this.onSessionUpdateResponse = (t, i) => {
        const { id: s } = i,
          a = Et("session_update", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        an(i)
          ? this.events.emit(Et("session_update", s), {})
          : Si(i) &&
            this.events.emit(Et("session_update", s), { error: i.error });
      }),
      (this.onSessionExtendRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidExtend({ topic: t }),
            await this.setExpiry(t, dr(Zs)),
            await this.sendResult({
              id: s,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_extend", { id: s, topic: t });
        } catch (a) {
          await this.sendError({ id: s, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionExtendResponse = (t, i) => {
        const { id: s } = i,
          a = Et("session_extend", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        an(i)
          ? this.events.emit(Et("session_extend", s), {})
          : Si(i) &&
            this.events.emit(Et("session_extend", s), { error: i.error });
      }),
      (this.onSessionPingRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidPing({ topic: t }),
            await this.sendResult({
              id: s,
              topic: t,
              result: !0,
              throwOnFailedPublish: !0,
            }),
            this.client.events.emit("session_ping", { id: s, topic: t });
        } catch (a) {
          await this.sendError({ id: s, topic: t, error: a }),
            this.client.logger.error(a);
        }
      }),
      (this.onSessionPingResponse = (t, i) => {
        const { id: s } = i,
          a = Et("session_ping", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        setTimeout(() => {
          an(i)
            ? this.events.emit(Et("session_ping", s), {})
            : Si(i) &&
              this.events.emit(Et("session_ping", s), { error: i.error });
        }, 500);
      }),
      (this.onSessionDeleteRequest = async (t, i) => {
        const { id: s } = i;
        try {
          this.isValidDisconnect({ topic: t, reason: i.params }),
            Promise.all([
              new Promise((a) => {
                this.client.core.relayer.once(Fr.publish, async () => {
                  a(await this.deleteSession({ topic: t, id: s }));
                });
              }),
              this.sendResult({
                id: s,
                topic: t,
                result: !0,
                throwOnFailedPublish: !0,
              }),
              this.cleanupPendingSentRequestsForTopic({
                topic: t,
                error: Ft("USER_DISCONNECTED"),
              }),
            ]).catch((a) => this.client.logger.error(a));
        } catch (a) {
          this.client.logger.error(a);
        }
      }),
      (this.onSessionRequest = async (t) => {
        var i, s, a;
        const {
            topic: f,
            payload: g,
            attestation: v,
            encryptedId: h,
            transportType: y,
          } = t,
          { id: A, params: P } = g;
        try {
          await this.isValidRequest(Zt({ topic: f }, P));
          const R = this.client.session.get(f),
            C = await this.getVerifyContext({
              attestationId: v,
              hash: qn(JSON.stringify(rs("wc_sessionRequest", P, A))),
              encryptedId: h,
              metadata: R.peer.metadata,
              transportType: y,
            }),
            q = { id: A, topic: f, params: P, verifyContext: C };
          await this.setPendingSessionRequest(q),
            y === Kt.link_mode &&
              (i = R.peer.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                (s = R.peer.metadata.redirect) == null ? void 0 : s.universal
              ),
            (a = this.client.signConfig) != null && a.disableRequestQueue
              ? this.emitSessionRequest(q)
              : (this.addSessionRequestToSessionRequestQueue(q),
                this.processSessionRequestQueue());
        } catch (R) {
          await this.sendError({ id: A, topic: f, error: R }),
            this.client.logger.error(R);
        }
      }),
      (this.onSessionRequestResponse = (t, i) => {
        const { id: s } = i,
          a = Et("session_request", s);
        if (this.events.listenerCount(a) === 0)
          throw new Error(`emitting ${a} without any listeners`);
        an(i)
          ? this.events.emit(Et("session_request", s), { result: i.result })
          : Si(i) &&
            this.events.emit(Et("session_request", s), { error: i.error });
      }),
      (this.onSessionEventRequest = async (t, i) => {
        const { id: s, params: a } = i;
        try {
          const f = `${t}_session_event_${a.event.name}`,
            g = $a.get(f);
          if (g && this.isRequestOutOfSync(g, s)) {
            this.client.logger.info(`Discarding out of sync request - ${s}`);
            return;
          }
          this.isValidEmit(Zt({ topic: t }, a)),
            this.client.events.emit("session_event", {
              id: s,
              topic: t,
              params: a,
            }),
            $a.set(f, s);
        } catch (f) {
          await this.sendError({ id: s, topic: t, error: f }),
            this.client.logger.error(f);
        }
      }),
      (this.onSessionAuthenticateResponse = (t, i) => {
        const { id: s } = i;
        this.client.logger.trace({
          type: "method",
          method: "onSessionAuthenticateResponse",
          topic: t,
          payload: i,
        }),
          an(i)
            ? this.events.emit(Et("session_request", s), { result: i.result })
            : Si(i) &&
              this.events.emit(Et("session_request", s), { error: i.error });
      }),
      (this.onSessionAuthenticateRequest = async (t) => {
        var i;
        const {
          topic: s,
          payload: a,
          attestation: f,
          encryptedId: g,
          transportType: v,
        } = t;
        try {
          const { requester: h, authPayload: y, expiryTimestamp: A } = a.params,
            P = await this.getVerifyContext({
              attestationId: f,
              hash: qn(JSON.stringify(a)),
              encryptedId: g,
              metadata: h.metadata,
              transportType: v,
            }),
            R = {
              requester: h,
              pairingTopic: s,
              id: a.id,
              authPayload: y,
              verifyContext: P,
              expiryTimestamp: A,
            };
          await this.setAuthRequest(a.id, {
            request: R,
            pairingTopic: s,
            transportType: v,
          }),
            v === Kt.link_mode &&
              (i = h.metadata.redirect) != null &&
              i.universal &&
              this.client.core.addLinkModeSupportedApp(
                h.metadata.redirect.universal
              ),
            this.client.events.emit("session_authenticate", {
              topic: s,
              params: a.params,
              id: a.id,
              verifyContext: P,
            });
        } catch (h) {
          this.client.logger.error(h);
          const y = a.params.requester.publicKey,
            A = await this.client.core.crypto.generateKeyPair(),
            P = this.getAppLinkIfEnabled(a.params.requester.metadata, v),
            R = { type: Fn, receiverPublicKey: y, senderPublicKey: A };
          await this.sendError({
            id: a.id,
            topic: s,
            error: h,
            encodeOpts: R,
            rpcOpts: vr.wc_sessionAuthenticate.autoReject,
            appLink: P,
          });
        }
      }),
      (this.addSessionRequestToSessionRequestQueue = (t) => {
        this.sessionRequestQueue.queue.push(t);
      }),
      (this.cleanupAfterResponse = (t) => {
        this.deletePendingSessionRequest(t.response.id, {
          message: "fulfilled",
          code: 0,
        }),
          setTimeout(() => {
            (this.sessionRequestQueue.state = nn.idle),
              this.processSessionRequestQueue();
          }, ye.toMiliseconds(this.requestQueueDelay));
      }),
      (this.cleanupPendingSentRequestsForTopic = ({ topic: t, error: i }) => {
        const s = this.client.core.history.pending;
        s.length > 0 &&
          s
            .filter(
              (a) => a.topic === t && a.request.method === "wc_sessionRequest"
            )
            .forEach((a) => {
              const f = a.request.id,
                g = Et("session_request", f);
              if (this.events.listenerCount(g) === 0)
                throw new Error(`emitting ${g} without any listeners`);
              this.events.emit(Et("session_request", a.request.id), {
                error: i,
              });
            });
      }),
      (this.processSessionRequestQueue = () => {
        if (this.sessionRequestQueue.state === nn.active) {
          this.client.logger.info("session request queue is already active.");
          return;
        }
        const t = this.sessionRequestQueue.queue[0];
        if (!t) {
          this.client.logger.info("session request queue is empty.");
          return;
        }
        try {
          (this.sessionRequestQueue.state = nn.active),
            this.emitSessionRequest(t);
        } catch (i) {
          this.client.logger.error(i);
        }
      }),
      (this.emitSessionRequest = (t) => {
        this.client.events.emit("session_request", t);
      }),
      (this.onPairingCreated = (t) => {
        if (
          (t.methods && this.expectedPairingMethodMap.set(t.topic, t.methods),
          t.active)
        )
          return;
        const i = this.client.proposal
          .getAll()
          .find((s) => s.pairingTopic === t.topic);
        i &&
          this.onSessionProposeRequest({
            topic: t.topic,
            payload: rs(
              "wc_sessionPropose",
              {
                requiredNamespaces: i.requiredNamespaces,
                optionalNamespaces: i.optionalNamespaces,
                relays: i.relays,
                proposer: i.proposer,
                sessionProperties: i.sessionProperties,
              },
              i.id
            ),
          });
      }),
      (this.isValidConnect = async (t) => {
        if (!Xr(t)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `connect() params: ${JSON.stringify(t)}`
          );
          throw new Error(v);
        }
        const {
          pairingTopic: i,
          requiredNamespaces: s,
          optionalNamespaces: a,
          sessionProperties: f,
          relays: g,
        } = t;
        if ((kr(i) || (await this.isValidPairingTopic(i)), !xA(g))) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `connect() relays: ${g}`
          );
          throw new Error(v);
        }
        !kr(s) &&
          ao(s) !== 0 &&
          this.validateNamespaces(s, "requiredNamespaces"),
          !kr(a) &&
            ao(a) !== 0 &&
            this.validateNamespaces(a, "optionalNamespaces"),
          kr(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.validateNamespaces = (t, i) => {
        const s = AA(t, "connect()", i);
        if (s) throw new Error(s.message);
      }),
      (this.isValidApprove = async (t) => {
        if (!Xr(t))
          throw new Error(
            be("MISSING_OR_INVALID", `approve() params: ${t}`).message
          );
        const {
          id: i,
          namespaces: s,
          relayProtocol: a,
          sessionProperties: f,
        } = t;
        this.checkRecentlyDeleted(i), await this.isValidProposalId(i);
        const g = this.client.proposal.get(i),
          v = mu(s, "approve()");
        if (v) throw new Error(v.message);
        const h = u1(g.requiredNamespaces, s, "approve()");
        if (h) throw new Error(h.message);
        if (!sr(a, !0)) {
          const { message: y } = be(
            "MISSING_OR_INVALID",
            `approve() relayProtocol: ${a}`
          );
          throw new Error(y);
        }
        kr(f) || this.validateSessionProps(f, "sessionProperties");
      }),
      (this.isValidReject = async (t) => {
        if (!Xr(t)) {
          const { message: a } = be(
            "MISSING_OR_INVALID",
            `reject() params: ${t}`
          );
          throw new Error(a);
        }
        const { id: i, reason: s } = t;
        if (
          (this.checkRecentlyDeleted(i),
          await this.isValidProposalId(i),
          !IA(s))
        ) {
          const { message: a } = be(
            "MISSING_OR_INVALID",
            `reject() reason: ${JSON.stringify(s)}`
          );
          throw new Error(a);
        }
      }),
      (this.isValidSessionSettleRequest = (t) => {
        if (!Xr(t)) {
          const { message: h } = be(
            "MISSING_OR_INVALID",
            `onSessionSettleRequest() params: ${t}`
          );
          throw new Error(h);
        }
        const { relay: i, controller: s, namespaces: a, expiry: f } = t;
        if (!yv(i)) {
          const { message: h } = be(
            "MISSING_OR_INVALID",
            "onSessionSettleRequest() relay protocol should be a string"
          );
          throw new Error(h);
        }
        const g = vA(s, "onSessionSettleRequest()");
        if (g) throw new Error(g.message);
        const v = mu(a, "onSessionSettleRequest()");
        if (v) throw new Error(v.message);
        if (Xn(f)) {
          const { message: h } = be("EXPIRED", "onSessionSettleRequest()");
          throw new Error(h);
        }
      }),
      (this.isValidUpdate = async (t) => {
        if (!Xr(t)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `update() params: ${t}`
          );
          throw new Error(v);
        }
        const { topic: i, namespaces: s } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const a = this.client.session.get(i),
          f = mu(s, "update()");
        if (f) throw new Error(f.message);
        const g = u1(a.requiredNamespaces, s, "update()");
        if (g) throw new Error(g.message);
      }),
      (this.isValidExtend = async (t) => {
        if (!Xr(t)) {
          const { message: s } = be(
            "MISSING_OR_INVALID",
            `extend() params: ${t}`
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
      }),
      (this.isValidRequest = async (t) => {
        if (!Xr(t)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `request() params: ${t}`
          );
          throw new Error(v);
        }
        const { topic: i, request: s, chainId: a, expiry: f } = t;
        this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);
        const { namespaces: g } = this.client.session.get(i);
        if (!h1(g, a)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `request() chainId: ${a}`
          );
          throw new Error(v);
        }
        if (!SA(s)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `request() ${JSON.stringify(s)}`
          );
          throw new Error(v);
        }
        if (!RA(g, a, s.method)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `request() method: ${s.method}`
          );
          throw new Error(v);
        }
        if (f && !TA(f, xu)) {
          const { message: v } = be(
            "MISSING_OR_INVALID",
            `request() expiry: ${f}. Expiry must be a number (in seconds) between ${xu.min} and ${xu.max}`
          );
          throw new Error(v);
        }
      }),
      (this.isValidRespond = async (t) => {
        var i;
        if (!Xr(t)) {
          const { message: f } = be(
            "MISSING_OR_INVALID",
            `respond() params: ${t}`
          );
          throw new Error(f);
        }
        const { topic: s, response: a } = t;
        try {
          await this.isValidSessionTopic(s);
        } catch (f) {
          throw (
            ((i = t == null ? void 0 : t.response) != null &&
              i.id &&
              this.cleanupAfterResponse(t),
            f)
          );
        }
        if (!MA(a)) {
          const { message: f } = be(
            "MISSING_OR_INVALID",
            `respond() response: ${JSON.stringify(a)}`
          );
          throw new Error(f);
        }
      }),
      (this.isValidPing = async (t) => {
        if (!Xr(t)) {
          const { message: s } = be(
            "MISSING_OR_INVALID",
            `ping() params: ${t}`
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidEmit = async (t) => {
        if (!Xr(t)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `emit() params: ${t}`
          );
          throw new Error(g);
        }
        const { topic: i, event: s, chainId: a } = t;
        await this.isValidSessionTopic(i);
        const { namespaces: f } = this.client.session.get(i);
        if (!h1(f, a)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `emit() chainId: ${a}`
          );
          throw new Error(g);
        }
        if (!PA(s)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(s)}`
          );
          throw new Error(g);
        }
        if (!CA(f, a, s.name)) {
          const { message: g } = be(
            "MISSING_OR_INVALID",
            `emit() event: ${JSON.stringify(s)}`
          );
          throw new Error(g);
        }
      }),
      (this.isValidDisconnect = async (t) => {
        if (!Xr(t)) {
          const { message: s } = be(
            "MISSING_OR_INVALID",
            `disconnect() params: ${t}`
          );
          throw new Error(s);
        }
        const { topic: i } = t;
        await this.isValidSessionOrPairingTopic(i);
      }),
      (this.isValidAuthenticate = (t) => {
        const { chains: i, uri: s, domain: a, nonce: f } = t;
        if (!Array.isArray(i) || i.length === 0)
          throw new Error("chains is required and must be a non-empty array");
        if (!sr(s, !1)) throw new Error("uri is required parameter");
        if (!sr(a, !1)) throw new Error("domain is required parameter");
        if (!sr(f, !1)) throw new Error("nonce is required parameter");
        if ([...new Set(i.map((v) => Xa(v).namespace))].length > 1)
          throw new Error(
            "Multi-namespace requests are not supported. Please request single namespace only."
          );
        const { namespace: g } = Xa(i[0]);
        if (g !== "eip155")
          throw new Error(
            "Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains."
          );
      }),
      (this.getVerifyContext = async (t) => {
        const {
            attestationId: i,
            hash: s,
            encryptedId: a,
            metadata: f,
            transportType: g,
          } = t,
          v = {
            verified: {
              verifyUrl: f.verifyUrl || ro,
              validation: "UNKNOWN",
              origin: f.url || "",
            },
          };
        try {
          if (g === Kt.link_mode) {
            const y = this.getAppLinkIfEnabled(f, g);
            return (
              (v.verified.validation =
                y && new URL(y).origin === new URL(f.url).origin
                  ? "VALID"
                  : "INVALID"),
              v
            );
          }
          const h = await this.client.core.verify.resolve({
            attestationId: i,
            hash: s,
            encryptedId: a,
            verifyUrl: f.verifyUrl,
          });
          h &&
            ((v.verified.origin = h.origin),
            (v.verified.isScam = h.isScam),
            (v.verified.validation =
              h.origin === new URL(f.url).origin ? "VALID" : "INVALID"));
        } catch (h) {
          this.client.logger.warn(h);
        }
        return (
          this.client.logger.debug(`Verify context: ${JSON.stringify(v)}`), v
        );
      }),
      (this.validateSessionProps = (t, i) => {
        Object.values(t).forEach((s) => {
          if (!sr(s, !1)) {
            const { message: a } = be(
              "MISSING_OR_INVALID",
              `${i} must be in Record<string, string> format. Received: ${JSON.stringify(
                s
              )}`
            );
            throw new Error(a);
          }
        });
      }),
      (this.getPendingAuthRequest = (t) => {
        const i = this.client.auth.requests.get(t);
        return typeof i == "object" ? i : void 0;
      }),
      (this.addToRecentlyDeleted = (t, i) => {
        if (
          (this.recentlyDeletedMap.set(t, i),
          this.recentlyDeletedMap.size >= this.recentlyDeletedLimit)
        ) {
          let s = 0;
          const a = this.recentlyDeletedLimit / 2;
          for (const f of this.recentlyDeletedMap.keys()) {
            if (s++ >= a) break;
            this.recentlyDeletedMap.delete(f);
          }
        }
      }),
      (this.checkRecentlyDeleted = (t) => {
        const i = this.recentlyDeletedMap.get(t);
        if (i) {
          const { message: s } = be(
            "MISSING_OR_INVALID",
            `Record was recently deleted - ${i}: ${t}`
          );
          throw new Error(s);
        }
      }),
      (this.isLinkModeEnabled = (t, i) => {
        var s, a, f, g, v, h, y, A, P;
        return !t || i !== Kt.link_mode
          ? !1
          : ((a = (s = this.client.metadata) == null ? void 0 : s.redirect) ==
            null
              ? void 0
              : a.linkMode) === !0 &&
              ((g = (f = this.client.metadata) == null ? void 0 : f.redirect) ==
              null
                ? void 0
                : g.universal) !== void 0 &&
              ((h = (v = this.client.metadata) == null ? void 0 : v.redirect) ==
              null
                ? void 0
                : h.universal) !== "" &&
              ((y = t == null ? void 0 : t.redirect) == null
                ? void 0
                : y.universal) !== void 0 &&
              ((A = t == null ? void 0 : t.redirect) == null
                ? void 0
                : A.universal) !== "" &&
              ((P = t == null ? void 0 : t.redirect) == null
                ? void 0
                : P.linkMode) === !0 &&
              this.client.core.linkModeSupportedApps.includes(
                t.redirect.universal
              ) &&
              typeof (global == null ? void 0 : global.Linking) < "u";
      }),
      (this.getAppLinkIfEnabled = (t, i) => {
        var s;
        return this.isLinkModeEnabled(t, i)
          ? (s = t == null ? void 0 : t.redirect) == null
            ? void 0
            : s.universal
          : void 0;
      }),
      (this.handleLinkModeMessage = ({ url: t }) => {
        if (!t || !t.includes("wc_ev") || !t.includes("topic")) return;
        const i = Ip(t, "topic") || "",
          s = decodeURIComponent(Ip(t, "wc_ev") || ""),
          a = this.client.session.keys.includes(i);
        a && this.client.session.update(i, { transportType: Kt.link_mode }),
          this.client.core.dispatchEnvelope({
            topic: i,
            message: s,
            sessionExists: a,
          });
      }),
      (this.registerLinkModeListeners = async () => {
        var t;
        if (
          Yu() ||
          (ha() && (t = this.client.metadata.redirect) != null && t.linkMode)
        ) {
          const i = global == null ? void 0 : global.Linking;
          if (typeof i < "u") {
            i.addEventListener(
              "url",
              this.handleLinkModeMessage,
              this.client.name
            );
            const s = await i.getInitialURL();
            s &&
              setTimeout(() => {
                this.handleLinkModeMessage({ url: s });
              }, 50);
          }
        }
      });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e } = be("NOT_INITIALIZED", this.name);
      throw new Error(e);
    }
  }
  async confirmOnlineStateOrThrow() {
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(Fr.message, (e) => {
      !this.initialized || this.relayMessageCache.length > 0
        ? this.relayMessageCache.push(e)
        : this.onRelayMessage(e);
    });
  }
  async onRelayMessage(e) {
    const { topic: t, message: i, attestation: s, transportType: a } = e,
      { publicKey: f } = this.client.auth.authKeys.keys.includes(Kc)
        ? this.client.auth.authKeys.get(Kc)
        : { responseTopic: void 0, publicKey: void 0 },
      g = await this.client.core.crypto.decode(t, i, {
        receiverPublicKey: f,
        encoding: a === Kt.link_mode ? za : is,
      });
    try {
      Ju(g)
        ? (this.client.core.history.set(t, g),
          this.onRelayEventRequest({
            topic: t,
            payload: g,
            attestation: s,
            transportType: a,
            encryptedId: qn(i),
          }))
        : uf(g)
        ? (await this.client.core.history.resolve(g),
          await this.onRelayEventResponse({
            topic: t,
            payload: g,
            transportType: a,
          }),
          this.client.core.history.delete(t, g.id))
        : this.onRelayEventUnknownPayload({
            topic: t,
            payload: g,
            transportType: a,
          });
    } catch (v) {
      this.client.logger.error(v);
    }
  }
  registerExpirerEvents() {
    this.client.core.expirer.on(Ei.expired, async (e) => {
      const { topic: t, id: i } = Pg(e.target);
      if (i && this.client.pendingRequest.keys.includes(i))
        return await this.deletePendingSessionRequest(i, be("EXPIRED"), !0);
      if (i && this.client.auth.requests.keys.includes(i))
        return await this.deletePendingAuthRequest(i, be("EXPIRED"), !0);
      t
        ? this.client.session.keys.includes(t) &&
          (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }),
          this.client.events.emit("session_expire", { topic: t }))
        : i &&
          (await this.deleteProposal(i, !0),
          this.client.events.emit("proposal_expire", { id: i }));
    });
  }
  registerPairingEvents() {
    this.client.core.pairing.events.on(As.create, (e) =>
      this.onPairingCreated(e)
    ),
      this.client.core.pairing.events.on(As.delete, (e) => {
        this.addToRecentlyDeleted(e.topic, "pairing");
      });
  }
  isValidPairingTopic(e) {
    if (!sr(e, !1)) {
      const { message: t } = be(
        "MISSING_OR_INVALID",
        `pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.core.pairing.pairings.keys.includes(e)) {
      const { message: t } = be(
        "NO_MATCHING_KEY",
        `pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Xn(this.client.core.pairing.pairings.get(e).expiry)) {
      const { message: t } = be("EXPIRED", `pairing topic: ${e}`);
      throw new Error(t);
    }
  }
  async isValidSessionTopic(e) {
    if (!sr(e, !1)) {
      const { message: t } = be(
        "MISSING_OR_INVALID",
        `session topic should be a string: ${e}`
      );
      throw new Error(t);
    }
    if ((this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e))) {
      const { message: t } = be(
        "NO_MATCHING_KEY",
        `session topic doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Xn(this.client.session.get(e).expiry)) {
      await this.deleteSession({ topic: e });
      const { message: t } = be("EXPIRED", `session topic: ${e}`);
      throw new Error(t);
    }
    if (!this.client.core.crypto.keychain.has(e)) {
      const { message: t } = be(
        "MISSING_OR_INVALID",
        `session topic does not exist in keychain: ${e}`
      );
      throw (await this.deleteSession({ topic: e }), new Error(t));
    }
  }
  async isValidSessionOrPairingTopic(e) {
    if ((this.checkRecentlyDeleted(e), this.client.session.keys.includes(e)))
      await this.isValidSessionTopic(e);
    else if (this.client.core.pairing.pairings.keys.includes(e))
      this.isValidPairingTopic(e);
    else if (sr(e, !1)) {
      const { message: t } = be(
        "NO_MATCHING_KEY",
        `session or pairing topic doesn't exist: ${e}`
      );
      throw new Error(t);
    } else {
      const { message: t } = be(
        "MISSING_OR_INVALID",
        `session or pairing topic should be a string: ${e}`
      );
      throw new Error(t);
    }
  }
  async isValidProposalId(e) {
    if (!EA(e)) {
      const { message: t } = be(
        "MISSING_OR_INVALID",
        `proposal id should be a number: ${e}`
      );
      throw new Error(t);
    }
    if (!this.client.proposal.keys.includes(e)) {
      const { message: t } = be(
        "NO_MATCHING_KEY",
        `proposal id doesn't exist: ${e}`
      );
      throw new Error(t);
    }
    if (Xn(this.client.proposal.get(e).expiryTimestamp)) {
      await this.deleteProposal(e);
      const { message: t } = be("EXPIRED", `proposal id: ${e}`);
      throw new Error(t);
    }
  }
}
class oS extends Ts {
  constructor(e, t) {
    super(e, t, HI, fd), (this.core = e), (this.logger = t);
  }
}
class cS extends Ts {
  constructor(e, t) {
    super(e, t, VI, fd), (this.core = e), (this.logger = t);
  }
}
class fS extends Ts {
  constructor(e, t) {
    super(e, t, JI, fd, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class hS extends Ts {
  constructor(e, t) {
    super(e, t, XI, gf, () => Kc), (this.core = e), (this.logger = t);
  }
}
class uS extends Ts {
  constructor(e, t) {
    super(e, t, ZI, gf), (this.core = e), (this.logger = t);
  }
}
class dS extends Ts {
  constructor(e, t) {
    super(e, t, eS, gf, (i) => i.id), (this.core = e), (this.logger = t);
  }
}
class lS {
  constructor(e, t) {
    (this.core = e),
      (this.logger = t),
      (this.authKeys = new hS(this.core, this.logger)),
      (this.pairingTopics = new uS(this.core, this.logger)),
      (this.requests = new dS(this.core, this.logger));
  }
  async init() {
    await this.authKeys.init(),
      await this.pairingTopics.init(),
      await this.requests.init();
  }
}
class hd extends YA {
  constructor(e) {
    super(e),
      (this.protocol = Bv),
      (this.version = Fv),
      (this.name = Au.name),
      (this.events = new Pi.EventEmitter()),
      (this.on = (i, s) => this.events.on(i, s)),
      (this.once = (i, s) => this.events.once(i, s)),
      (this.off = (i, s) => this.events.off(i, s)),
      (this.removeListener = (i, s) => this.events.removeListener(i, s)),
      (this.removeAllListeners = (i) => this.events.removeAllListeners(i)),
      (this.connect = async (i) => {
        try {
          return await this.engine.connect(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.pair = async (i) => {
        try {
          return await this.engine.pair(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.approve = async (i) => {
        try {
          return await this.engine.approve(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.reject = async (i) => {
        try {
          return await this.engine.reject(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.update = async (i) => {
        try {
          return await this.engine.update(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.extend = async (i) => {
        try {
          return await this.engine.extend(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.request = async (i) => {
        try {
          return await this.engine.request(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.respond = async (i) => {
        try {
          return await this.engine.respond(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.ping = async (i) => {
        try {
          return await this.engine.ping(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.emit = async (i) => {
        try {
          return await this.engine.emit(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.disconnect = async (i) => {
        try {
          return await this.engine.disconnect(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.find = (i) => {
        try {
          return this.engine.find(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.getPendingSessionRequests = () => {
        try {
          return this.engine.getPendingSessionRequests();
        } catch (i) {
          throw (this.logger.error(i.message), i);
        }
      }),
      (this.authenticate = async (i, s) => {
        try {
          return await this.engine.authenticate(i, s);
        } catch (a) {
          throw (this.logger.error(a.message), a);
        }
      }),
      (this.formatAuthMessage = (i) => {
        try {
          return this.engine.formatAuthMessage(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.approveSessionAuthenticate = async (i) => {
        try {
          return await this.engine.approveSessionAuthenticate(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.rejectSessionAuthenticate = async (i) => {
        try {
          return await this.engine.rejectSessionAuthenticate(i);
        } catch (s) {
          throw (this.logger.error(s.message), s);
        }
      }),
      (this.name = (e == null ? void 0 : e.name) || Au.name),
      (this.metadata = (e == null ? void 0 : e.metadata) || xg()),
      (this.signConfig = e == null ? void 0 : e.signConfig);
    const t =
      typeof (e == null ? void 0 : e.logger) < "u" &&
      typeof (e == null ? void 0 : e.logger) != "string"
        ? e.logger
        : oo(of({ level: (e == null ? void 0 : e.logger) || Au.logger }));
    (this.core = (e == null ? void 0 : e.core) || new KI(e)),
      (this.logger = $r(t, this.name)),
      (this.session = new cS(this.core, this.logger)),
      (this.proposal = new oS(this.core, this.logger)),
      (this.pendingRequest = new fS(this.core, this.logger)),
      (this.engine = new aS(this)),
      (this.auth = new lS(this.core, this.logger));
  }
  static async init(e) {
    const t = new hd(e);
    return await t.initialize(), t;
  }
  get context() {
    return ti(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(),
        await this.session.init(),
        await this.proposal.init(),
        await this.pendingRequest.init(),
        await this.auth.init(),
        await this.engine.init(),
        this.logger.info("SignClient Initialization Success"),
        this.engine.processRelayMessageCache();
    } catch (e) {
      throw (
        (this.logger.info("SignClient Initialization Failure"),
        this.logger.error(e.message),
        e)
      );
    }
  }
}
const F1 = "error",
  pS = "wss://relay.walletconnect.org",
  gS = "wc",
  vS = "universal_provider",
  L1 = `${gS}@2:${vS}:`,
  zv = "https://rpc.walletconnect.org/v1/",
  ta = "generic",
  bS = `${zv}bundler`,
  Qi = { DEFAULT_CHAIN_CHANGED: "default_chain_changed" };
var Va =
    typeof globalThis < "u"
      ? globalThis
      : typeof window < "u"
      ? window
      : typeof global < "u"
      ? global
      : typeof self < "u"
      ? self
      : {},
  Uu = { exports: {} };
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ (function (r, e) {
  (function () {
    var t,
      i = "4.17.21",
      s = 200,
      a = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
      f = "Expected a function",
      g = "Invalid `variable` option passed into `_.template`",
      v = "__lodash_hash_undefined__",
      h = 500,
      y = "__lodash_placeholder__",
      A = 1,
      P = 2,
      R = 4,
      C = 1,
      q = 2,
      L = 1,
      j = 2,
      H = 4,
      Y = 8,
      Q = 16,
      G = 32,
      ee = 64,
      ne = 128,
      de = 256,
      fe = 512,
      xe = 30,
      F = "...",
      m = 800,
      c = 16,
      u = 1,
      b = 2,
      w = 3,
      I = 1 / 0,
      S = 9007199254740991,
      E = 17976931348623157e292,
      l = NaN,
      p = 4294967295,
      O = p - 1,
      te = p >>> 1,
      se = [
        ["ary", ne],
        ["bind", L],
        ["bindKey", j],
        ["curry", Y],
        ["curryRight", Q],
        ["flip", fe],
        ["partial", G],
        ["partialRight", ee],
        ["rearg", de],
      ],
      M = "[object Arguments]",
      Z = "[object Array]",
      B = "[object AsyncFunction]",
      $ = "[object Boolean]",
      U = "[object Date]",
      _ = "[object DOMException]",
      k = "[object Error]",
      re = "[object Function]",
      oe = "[object GeneratorFunction]",
      ce = "[object Map]",
      ge = "[object Number]",
      ve = "[object Null]",
      Ee = "[object Object]",
      We = "[object Promise]",
      Ie = "[object Proxy]",
      He = "[object RegExp]",
      Fe = "[object Set]",
      we = "[object String]",
      $e = "[object Symbol]",
      Ue = "[object Undefined]",
      me = "[object WeakMap]",
      je = "[object WeakSet]",
      De = "[object ArrayBuffer]",
      Ae = "[object DataView]",
      Ye = "[object Float32Array]",
      ze = "[object Float64Array]",
      Ce = "[object Int8Array]",
      ct = "[object Int16Array]",
      ht = "[object Int32Array]",
      Be = "[object Uint8Array]",
      ft = "[object Uint8ClampedArray]",
      ut = "[object Uint16Array]",
      Le = "[object Uint32Array]",
      wt = /\b__p \+= '';/g,
      dt = /\b(__p \+=) '' \+/g,
      Ke = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
      At = /&(?:amp|lt|gt|quot|#39);/g,
      It = /[&<>"']/g,
      Se = RegExp(At.source),
      Ge = RegExp(It.source),
      Xe = /<%-([\s\S]+?)%>/g,
      Me = /<%([\s\S]+?)%>/g,
      Qe = /<%=([\s\S]+?)%>/g,
      Je = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
      Ne = /^\w*$/,
      at =
        /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
      Ze = /[\\^$.*+?()[\]{}|]/g,
      Oe = RegExp(Ze.source),
      et = /^\s+/,
      rt = /\s/,
      Pe = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
      Ve = /\{\n\/\* \[wrapped with (.+)\] \*/,
      ot = /,? & /,
      Te = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
      Nt = /[()=,{}\[\]\/\s]/,
      Ot = /\\(\\)?/g,
      it = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
      bt = /\w*$/,
      Er = /^[-+]0x[0-9a-f]+$/i,
      Ir = /^0b[01]+$/i,
      Sr = /^\[object .+?Constructor\]$/,
      Mr = /^0o[0-7]+$/i,
      Pr = /^(?:0|[1-9]\d*)$/,
      Yt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
      Ur = /($^)/,
      Ci = /['\n\r\u2028\u2029\\]/g,
      jr = "\\ud800-\\udfff",
      Ni = "\\u0300-\\u036f",
      Oi = "\\ufe20-\\ufe2f",
      Kr = "\\u20d0-\\u20ff",
      ui = Ni + Oi + Kr,
      di = "\\u2700-\\u27bf",
      cr = "a-z\\xdf-\\xf6\\xf8-\\xff",
      Ti = "\\xac\\xb1\\xd7\\xf7",
      qi = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
      Di = "\\u2000-\\u206f",
      ns =
        " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
      yo = "A-Z\\xc0-\\xd6\\xd8-\\xde",
      wo = "\\ufe0e\\ufe0f",
      ss = Ti + qi + Di + ns,
      ba = "[']",
      as = "[" + jr + "]",
      ma = "[" + ss + "]",
      os = "[" + ui + "]",
      _o = "\\d+",
      vf = "[" + di + "]",
      Ao = "[" + cr + "]",
      xo = "[^" + jr + ss + _o + di + cr + yo + "]",
      Bs = "\\ud83c[\\udffb-\\udfff]",
      bf = "(?:" + os + "|" + Bs + ")",
      Eo = "[^" + jr + "]",
      Fs = "(?:\\ud83c[\\udde6-\\uddff]){2}",
      zn = "[\\ud800-\\udbff][\\udc00-\\udfff]",
      ri = "[" + yo + "]",
      Io = "\\u200d",
      So = "(?:" + Ao + "|" + xo + ")",
      Yi = "(?:" + ri + "|" + xo + ")",
      Mo = "(?:" + ba + "(?:d|ll|m|re|s|t|ve))?",
      Po = "(?:" + ba + "(?:D|LL|M|RE|S|T|VE))?",
      Ro = bf + "?",
      Co = "[" + wo + "]?",
      mf = "(?:" + Io + "(?:" + [Eo, Fs, zn].join("|") + ")" + Co + Ro + ")*",
      _n = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
      No = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
      Oo = Co + Ro + mf,
      Ls = "(?:" + [vf, Fs, zn].join("|") + ")" + Oo,
      yf = "(?:" + [Eo + os + "?", os, Fs, zn, as].join("|") + ")",
      ya = RegExp(ba, "g"),
      wf = RegExp(os, "g"),
      ks = RegExp(Bs + "(?=" + Bs + ")|" + yf + Oo, "g"),
      To = RegExp(
        [
          ri + "?" + Ao + "+" + Mo + "(?=" + [ma, ri, "$"].join("|") + ")",
          Yi + "+" + Po + "(?=" + [ma, ri + So, "$"].join("|") + ")",
          ri + "?" + So + "+" + Mo,
          ri + "+" + Po,
          No,
          _n,
          _o,
          Ls,
        ].join("|"),
        "g"
      ),
      qo = RegExp("[" + Io + jr + ui + wo + "]"),
      cs = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
      Do = [
        "Array",
        "Buffer",
        "DataView",
        "Date",
        "Error",
        "Float32Array",
        "Float64Array",
        "Function",
        "Int8Array",
        "Int16Array",
        "Int32Array",
        "Map",
        "Math",
        "Object",
        "Promise",
        "RegExp",
        "Set",
        "String",
        "Symbol",
        "TypeError",
        "Uint8Array",
        "Uint8ClampedArray",
        "Uint16Array",
        "Uint32Array",
        "WeakMap",
        "_",
        "clearTimeout",
        "isFinite",
        "parseInt",
        "setTimeout",
      ],
      _f = -1,
      zt = {};
    (zt[Ye] =
      zt[ze] =
      zt[Ce] =
      zt[ct] =
      zt[ht] =
      zt[Be] =
      zt[ft] =
      zt[ut] =
      zt[Le] =
        !0),
      (zt[M] =
        zt[Z] =
        zt[De] =
        zt[$] =
        zt[Ae] =
        zt[U] =
        zt[k] =
        zt[re] =
        zt[ce] =
        zt[ge] =
        zt[Ee] =
        zt[He] =
        zt[Fe] =
        zt[we] =
        zt[me] =
          !1);
    var Lt = {};
    (Lt[M] =
      Lt[Z] =
      Lt[De] =
      Lt[Ae] =
      Lt[$] =
      Lt[U] =
      Lt[Ye] =
      Lt[ze] =
      Lt[Ce] =
      Lt[ct] =
      Lt[ht] =
      Lt[ce] =
      Lt[ge] =
      Lt[Ee] =
      Lt[He] =
      Lt[Fe] =
      Lt[we] =
      Lt[$e] =
      Lt[Be] =
      Lt[ft] =
      Lt[ut] =
      Lt[Le] =
        !0),
      (Lt[k] = Lt[re] = Lt[me] = !1);
    var z = {
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "A",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "a",
        : "C",
        : "c",
        : "D",
        : "d",
        : "E",
        : "E",
        : "E",
        : "E",
        : "e",
        : "e",
        : "e",
        : "e",
        : "I",
        : "I",
        : "I",
        : "I",
        : "i",
        : "i",
        : "i",
        : "i",
        : "N",
        : "n",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "O",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "o",
        : "U",
        : "U",
        : "U",
        : "U",
        : "u",
        : "u",
        : "u",
        : "u",
        : "Y",
        : "y",
        : "y",
        : "Ae",
        : "ae",
        : "Th",
        : "th",
        : "ss",
        : "A",
        : "A",
        : "A",
        : "a",
        : "a",
        : "a",
        : "C",
        : "C",
        : "C",
        : "C",
        : "c",
        : "c",
        : "c",
        : "c",
        : "D",
        : "D",
        : "d",
        : "d",
        : "E",
        : "E",
        : "E",
        : "E",
        : "E",
        : "e",
        : "e",
        : "e",
        : "e",
        : "e",
        : "G",
        : "G",
        : "G",
        : "G",
        : "g",
        : "g",
        : "g",
        : "g",
        : "H",
        : "H",
        : "h",
        : "h",
        : "I",
        : "I",
        : "I",
        : "I",
        : "I",
        : "i",
        : "i",
        : "i",
        : "i",
        : "i",
        : "J",
        : "j",
        : "K",
        : "k",
        : "k",
        : "L",
        : "L",
        : "L",
        : "L",
        : "L",
        : "l",
        : "l",
        : "l",
        : "l",
        : "l",
        : "N",
        : "N",
        : "N",
        : "N",
        : "n",
        : "n",
        : "n",
        : "n",
        : "O",
        : "O",
        : "O",
        : "o",
        : "o",
        : "o",
        : "R",
        : "R",
        : "R",
        : "r",
        : "r",
        : "r",
        : "S",
        : "S",
        : "S",
        : "S",
        : "s",
        : "s",
        : "s",
        : "s",
        : "T",
        : "T",
        : "T",
        : "t",
        : "t",
        : "t",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "U",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "u",
        : "W",
        : "w",
        : "Y",
        : "y",
        : "Y",
        : "Z",
        : "Z",
        : "Z",
        : "z",
        : "z",
        : "z",
        : "IJ",
        : "ij",
        : "Oe",
        : "oe",
        : "'n",
        : "s",
      },
      J = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      },
      le = {
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'",
      },
      Re = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029",
      },
      $t = parseFloat,
      pt = parseInt,
      Vt = typeof Va == "object" && Va && Va.Object === Object && Va,
      ar = typeof self == "object" && self && self.Object === Object && self,
      Rt = Vt || ar || Function("return this")(),
      Ut = e && !e.nodeType && e,
      tr = Ut && !0 && r && !r.nodeType && r,
      Hr = tr && tr.exports === Ut,
      or = Hr && Vt.process,
      Gt = (function () {
        try {
          var W = tr && tr.require && tr.require("util").types;
          return W || (or && or.binding && or.binding("util"));
        } catch {}
      })(),
      Or = Gt && Gt.isArrayBuffer,
      Bi = Gt && Gt.isDate,
      li = Gt && Gt.isMap,
      Xi = Gt && Gt.isRegExp,
      wa = Gt && Gt.isSet,
      fs = Gt && Gt.isTypedArray;
    function lr(W, ae, ie) {
      switch (ie.length) {
        case 0:
          return W.call(ae);
        case 1:
          return W.call(ae, ie[0]);
        case 2:
          return W.call(ae, ie[0], ie[1]);
        case 3:
          return W.call(ae, ie[0], ie[1], ie[2]);
      }
      return W.apply(ae, ie);
    }
    function jv(W, ae, ie, qe) {
      for (var lt = -1, Tt = W == null ? 0 : W.length; ++lt < Tt; ) {
        var fr = W[lt];
        ae(qe, fr, ie(fr), W);
      }
      return qe;
    }
    function pi(W, ae) {
      for (
        var ie = -1, qe = W == null ? 0 : W.length;
        ++ie < qe && ae(W[ie], ie, W) !== !1;

      );
      return W;
    }
    function Kv(W, ae) {
      for (
        var ie = W == null ? 0 : W.length;
        ie-- && ae(W[ie], ie, W) !== !1;

      );
      return W;
    }
    function ld(W, ae) {
      for (var ie = -1, qe = W == null ? 0 : W.length; ++ie < qe; )
        if (!ae(W[ie], ie, W)) return !1;
      return !0;
    }
    function $n(W, ae) {
      for (
        var ie = -1, qe = W == null ? 0 : W.length, lt = 0, Tt = [];
        ++ie < qe;

      ) {
        var fr = W[ie];
        ae(fr, ie, W) && (Tt[lt++] = fr);
      }
      return Tt;
    }
    function Bo(W, ae) {
      var ie = W == null ? 0 : W.length;
      return !!ie && zs(W, ae, 0) > -1;
    }
    function Af(W, ae, ie) {
      for (var qe = -1, lt = W == null ? 0 : W.length; ++qe < lt; )
        if (ie(ae, W[qe])) return !0;
      return !1;
    }
    function Wt(W, ae) {
      for (
        var ie = -1, qe = W == null ? 0 : W.length, lt = Array(qe);
        ++ie < qe;

      )
        lt[ie] = ae(W[ie], ie, W);
      return lt;
    }
    function Un(W, ae) {
      for (var ie = -1, qe = ae.length, lt = W.length; ++ie < qe; )
        W[lt + ie] = ae[ie];
      return W;
    }
    function xf(W, ae, ie, qe) {
      var lt = -1,
        Tt = W == null ? 0 : W.length;
      for (qe && Tt && (ie = W[++lt]); ++lt < Tt; ) ie = ae(ie, W[lt], lt, W);
      return ie;
    }
    function Hv(W, ae, ie, qe) {
      var lt = W == null ? 0 : W.length;
      for (qe && lt && (ie = W[--lt]); lt--; ) ie = ae(ie, W[lt], lt, W);
      return ie;
    }
    function Ef(W, ae) {
      for (var ie = -1, qe = W == null ? 0 : W.length; ++ie < qe; )
        if (ae(W[ie], ie, W)) return !0;
      return !1;
    }
    var Vv = If("length");
    function Gv(W) {
      return W.split("");
    }
    function Jv(W) {
      return W.match(Te) || [];
    }
    function pd(W, ae, ie) {
      var qe;
      return (
        ie(W, function (lt, Tt, fr) {
          if (ae(lt, Tt, fr)) return (qe = Tt), !1;
        }),
        qe
      );
    }
    function Fo(W, ae, ie, qe) {
      for (var lt = W.length, Tt = ie + (qe ? 1 : -1); qe ? Tt-- : ++Tt < lt; )
        if (ae(W[Tt], Tt, W)) return Tt;
      return -1;
    }
    function zs(W, ae, ie) {
      return ae === ae ? ab(W, ae, ie) : Fo(W, gd, ie);
    }
    function Wv(W, ae, ie, qe) {
      for (var lt = ie - 1, Tt = W.length; ++lt < Tt; )
        if (qe(W[lt], ae)) return lt;
      return -1;
    }
    function gd(W) {
      return W !== W;
    }
    function vd(W, ae) {
      var ie = W == null ? 0 : W.length;
      return ie ? Mf(W, ae) / ie : l;
    }
    function If(W) {
      return function (ae) {
        return ae == null ? t : ae[W];
      };
    }
    function Sf(W) {
      return function (ae) {
        return W == null ? t : W[ae];
      };
    }
    function bd(W, ae, ie, qe, lt) {
      return (
        lt(W, function (Tt, fr, jt) {
          ie = qe ? ((qe = !1), Tt) : ae(ie, Tt, fr, jt);
        }),
        ie
      );
    }
    function Qv(W, ae) {
      var ie = W.length;
      for (W.sort(ae); ie--; ) W[ie] = W[ie].value;
      return W;
    }
    function Mf(W, ae) {
      for (var ie, qe = -1, lt = W.length; ++qe < lt; ) {
        var Tt = ae(W[qe]);
        Tt !== t && (ie = ie === t ? Tt : ie + Tt);
      }
      return ie;
    }
    function Pf(W, ae) {
      for (var ie = -1, qe = Array(W); ++ie < W; ) qe[ie] = ae(ie);
      return qe;
    }
    function Yv(W, ae) {
      return Wt(ae, function (ie) {
        return [ie, W[ie]];
      });
    }
    function md(W) {
      return W && W.slice(0, Ad(W) + 1).replace(et, "");
    }
    function ii(W) {
      return function (ae) {
        return W(ae);
      };
    }
    function Rf(W, ae) {
      return Wt(ae, function (ie) {
        return W[ie];
      });
    }
    function _a(W, ae) {
      return W.has(ae);
    }
    function yd(W, ae) {
      for (var ie = -1, qe = W.length; ++ie < qe && zs(ae, W[ie], 0) > -1; );
      return ie;
    }
    function wd(W, ae) {
      for (var ie = W.length; ie-- && zs(ae, W[ie], 0) > -1; );
      return ie;
    }
    function Xv(W, ae) {
      for (var ie = W.length, qe = 0; ie--; ) W[ie] === ae && ++qe;
      return qe;
    }
    var Zv = Sf(z),
      eb = Sf(J);
    function tb(W) {
      return "\\" + Re[W];
    }
    function rb(W, ae) {
      return W == null ? t : W[ae];
    }
    function $s(W) {
      return qo.test(W);
    }
    function ib(W) {
      return cs.test(W);
    }
    function nb(W) {
      for (var ae, ie = []; !(ae = W.next()).done; ) ie.push(ae.value);
      return ie;
    }
    function Cf(W) {
      var ae = -1,
        ie = Array(W.size);
      return (
        W.forEach(function (qe, lt) {
          ie[++ae] = [lt, qe];
        }),
        ie
      );
    }
    function _d(W, ae) {
      return function (ie) {
        return W(ae(ie));
      };
    }
    function jn(W, ae) {
      for (var ie = -1, qe = W.length, lt = 0, Tt = []; ++ie < qe; ) {
        var fr = W[ie];
        (fr === ae || fr === y) && ((W[ie] = y), (Tt[lt++] = ie));
      }
      return Tt;
    }
    function Lo(W) {
      var ae = -1,
        ie = Array(W.size);
      return (
        W.forEach(function (qe) {
          ie[++ae] = qe;
        }),
        ie
      );
    }
    function sb(W) {
      var ae = -1,
        ie = Array(W.size);
      return (
        W.forEach(function (qe) {
          ie[++ae] = [qe, qe];
        }),
        ie
      );
    }
    function ab(W, ae, ie) {
      for (var qe = ie - 1, lt = W.length; ++qe < lt; )
        if (W[qe] === ae) return qe;
      return -1;
    }
    function ob(W, ae, ie) {
      for (var qe = ie + 1; qe--; ) if (W[qe] === ae) return qe;
      return qe;
    }
    function Us(W) {
      return $s(W) ? fb(W) : Vv(W);
    }
    function Fi(W) {
      return $s(W) ? hb(W) : Gv(W);
    }
    function Ad(W) {
      for (var ae = W.length; ae-- && rt.test(W.charAt(ae)); );
      return ae;
    }
    var cb = Sf(le);
    function fb(W) {
      for (var ae = (ks.lastIndex = 0); ks.test(W); ) ++ae;
      return ae;
    }
    function hb(W) {
      return W.match(ks) || [];
    }
    function ub(W) {
      return W.match(To) || [];
    }
    var db = function W(ae) {
        ae = ae == null ? Rt : js.defaults(Rt.Object(), ae, js.pick(Rt, Do));
        var ie = ae.Array,
          qe = ae.Date,
          lt = ae.Error,
          Tt = ae.Function,
          fr = ae.Math,
          jt = ae.Object,
          Nf = ae.RegExp,
          lb = ae.String,
          gi = ae.TypeError,
          ko = ie.prototype,
          pb = Tt.prototype,
          Ks = jt.prototype,
          zo = ae["__core-js_shared__"],
          $o = pb.toString,
          Bt = Ks.hasOwnProperty,
          gb = 0,
          xd = (function () {
            var n = /[^.]+$/.exec((zo && zo.keys && zo.keys.IE_PROTO) || "");
            return n ? "Symbol(src)_1." + n : "";
          })(),
          Uo = Ks.toString,
          vb = $o.call(jt),
          bb = Rt._,
          mb = Nf(
            "^" +
              $o
                .call(Bt)
                .replace(Ze, "\\$&")
                .replace(
                  /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                  "$1.*?"
                ) +
              "$"
          ),
          jo = Hr ? ae.Buffer : t,
          Kn = ae.Symbol,
          Ko = ae.Uint8Array,
          Ed = jo ? jo.allocUnsafe : t,
          Ho = _d(jt.getPrototypeOf, jt),
          Id = jt.create,
          Sd = Ks.propertyIsEnumerable,
          Vo = ko.splice,
          Md = Kn ? Kn.isConcatSpreadable : t,
          Aa = Kn ? Kn.iterator : t,
          hs = Kn ? Kn.toStringTag : t,
          Go = (function () {
            try {
              var n = gs(jt, "defineProperty");
              return n({}, "", {}), n;
            } catch {}
          })(),
          yb = ae.clearTimeout !== Rt.clearTimeout && ae.clearTimeout,
          wb = qe && qe.now !== Rt.Date.now && qe.now,
          _b = ae.setTimeout !== Rt.setTimeout && ae.setTimeout,
          Jo = fr.ceil,
          Wo = fr.floor,
          Of = jt.getOwnPropertySymbols,
          Ab = jo ? jo.isBuffer : t,
          Pd = ae.isFinite,
          xb = ko.join,
          Eb = _d(jt.keys, jt),
          hr = fr.max,
          Rr = fr.min,
          Ib = qe.now,
          Sb = ae.parseInt,
          Rd = fr.random,
          Mb = ko.reverse,
          Tf = gs(ae, "DataView"),
          xa = gs(ae, "Map"),
          qf = gs(ae, "Promise"),
          Hs = gs(ae, "Set"),
          Ea = gs(ae, "WeakMap"),
          Ia = gs(jt, "create"),
          Qo = Ea && new Ea(),
          Vs = {},
          Pb = vs(Tf),
          Rb = vs(xa),
          Cb = vs(qf),
          Nb = vs(Hs),
          Ob = vs(Ea),
          Yo = Kn ? Kn.prototype : t,
          Sa = Yo ? Yo.valueOf : t,
          Cd = Yo ? Yo.toString : t;
        function T(n) {
          if (Xt(n) && !gt(n) && !(n instanceof St)) {
            if (n instanceof vi) return n;
            if (Bt.call(n, "__wrapped__")) return Nl(n);
          }
          return new vi(n);
        }
        var Gs = (function () {
          function n() {}
          return function (o) {
            if (!Qt(o)) return {};
            if (Id) return Id(o);
            n.prototype = o;
            var d = new n();
            return (n.prototype = t), d;
          };
        })();
        function Xo() {}
        function vi(n, o) {
          (this.__wrapped__ = n),
            (this.__actions__ = []),
            (this.__chain__ = !!o),
            (this.__index__ = 0),
            (this.__values__ = t);
        }
        (T.templateSettings = {
          escape: Xe,
          evaluate: Me,
          interpolate: Qe,
          variable: "",
          imports: { _: T },
        }),
          (T.prototype = Xo.prototype),
          (T.prototype.constructor = T),
          (vi.prototype = Gs(Xo.prototype)),
          (vi.prototype.constructor = vi);
        function St(n) {
          (this.__wrapped__ = n),
            (this.__actions__ = []),
            (this.__dir__ = 1),
            (this.__filtered__ = !1),
            (this.__iteratees__ = []),
            (this.__takeCount__ = p),
            (this.__views__ = []);
        }
        function Tb() {
          var n = new St(this.__wrapped__);
          return (
            (n.__actions__ = Vr(this.__actions__)),
            (n.__dir__ = this.__dir__),
            (n.__filtered__ = this.__filtered__),
            (n.__iteratees__ = Vr(this.__iteratees__)),
            (n.__takeCount__ = this.__takeCount__),
            (n.__views__ = Vr(this.__views__)),
            n
          );
        }
        function qb() {
          if (this.__filtered__) {
            var n = new St(this);
            (n.__dir__ = -1), (n.__filtered__ = !0);
          } else (n = this.clone()), (n.__dir__ *= -1);
          return n;
        }
        function Db() {
          var n = this.__wrapped__.value(),
            o = this.__dir__,
            d = gt(n),
            x = o < 0,
            N = d ? n.length : 0,
            D = G2(0, N, this.__views__),
            K = D.start,
            V = D.end,
            X = V - K,
            he = x ? V : K - 1,
            ue = this.__iteratees__,
            pe = ue.length,
            _e = 0,
            ke = Rr(X, this.__takeCount__);
          if (!d || (!x && N == X && ke == X)) return el(n, this.__actions__);
          var nt = [];
          e: for (; X-- && _e < ke; ) {
            he += o;
            for (var yt = -1, st = n[he]; ++yt < pe; ) {
              var xt = ue[yt],
                Ct = xt.iteratee,
                ai = xt.type,
                Dr = Ct(st);
              if (ai == b) st = Dr;
              else if (!Dr) {
                if (ai == u) continue e;
                break e;
              }
            }
            nt[_e++] = st;
          }
          return nt;
        }
        (St.prototype = Gs(Xo.prototype)), (St.prototype.constructor = St);
        function us(n) {
          var o = -1,
            d = n == null ? 0 : n.length;
          for (this.clear(); ++o < d; ) {
            var x = n[o];
            this.set(x[0], x[1]);
          }
        }
        function Bb() {
          (this.__data__ = Ia ? Ia(null) : {}), (this.size = 0);
        }
        function Fb(n) {
          var o = this.has(n) && delete this.__data__[n];
          return (this.size -= o ? 1 : 0), o;
        }
        function Lb(n) {
          var o = this.__data__;
          if (Ia) {
            var d = o[n];
            return d === v ? t : d;
          }
          return Bt.call(o, n) ? o[n] : t;
        }
        function kb(n) {
          var o = this.__data__;
          return Ia ? o[n] !== t : Bt.call(o, n);
        }
        function zb(n, o) {
          var d = this.__data__;
          return (
            (this.size += this.has(n) ? 0 : 1),
            (d[n] = Ia && o === t ? v : o),
            this
          );
        }
        (us.prototype.clear = Bb),
          (us.prototype.delete = Fb),
          (us.prototype.get = Lb),
          (us.prototype.has = kb),
          (us.prototype.set = zb);
        function An(n) {
          var o = -1,
            d = n == null ? 0 : n.length;
          for (this.clear(); ++o < d; ) {
            var x = n[o];
            this.set(x[0], x[1]);
          }
        }
        function $b() {
          (this.__data__ = []), (this.size = 0);
        }
        function Ub(n) {
          var o = this.__data__,
            d = Zo(o, n);
          if (d < 0) return !1;
          var x = o.length - 1;
          return d == x ? o.pop() : Vo.call(o, d, 1), --this.size, !0;
        }
        function jb(n) {
          var o = this.__data__,
            d = Zo(o, n);
          return d < 0 ? t : o[d][1];
        }
        function Kb(n) {
          return Zo(this.__data__, n) > -1;
        }
        function Hb(n, o) {
          var d = this.__data__,
            x = Zo(d, n);
          return x < 0 ? (++this.size, d.push([n, o])) : (d[x][1] = o), this;
        }
        (An.prototype.clear = $b),
          (An.prototype.delete = Ub),
          (An.prototype.get = jb),
          (An.prototype.has = Kb),
          (An.prototype.set = Hb);
        function xn(n) {
          var o = -1,
            d = n == null ? 0 : n.length;
          for (this.clear(); ++o < d; ) {
            var x = n[o];
            this.set(x[0], x[1]);
          }
        }
        function Vb() {
          (this.size = 0),
            (this.__data__ = {
              hash: new us(),
              map: new (xa || An)(),
              string: new us(),
            });
        }
        function Gb(n) {
          var o = uc(this, n).delete(n);
          return (this.size -= o ? 1 : 0), o;
        }
        function Jb(n) {
          return uc(this, n).get(n);
        }
        function Wb(n) {
          return uc(this, n).has(n);
        }
        function Qb(n, o) {
          var d = uc(this, n),
            x = d.size;
          return d.set(n, o), (this.size += d.size == x ? 0 : 1), this;
        }
        (xn.prototype.clear = Vb),
          (xn.prototype.delete = Gb),
          (xn.prototype.get = Jb),
          (xn.prototype.has = Wb),
          (xn.prototype.set = Qb);
        function ds(n) {
          var o = -1,
            d = n == null ? 0 : n.length;
          for (this.__data__ = new xn(); ++o < d; ) this.add(n[o]);
        }
        function Yb(n) {
          return this.__data__.set(n, v), this;
        }
        function Xb(n) {
          return this.__data__.has(n);
        }
        (ds.prototype.add = ds.prototype.push = Yb), (ds.prototype.has = Xb);
        function Li(n) {
          var o = (this.__data__ = new An(n));
          this.size = o.size;
        }
        function Zb() {
          (this.__data__ = new An()), (this.size = 0);
        }
        function e2(n) {
          var o = this.__data__,
            d = o.delete(n);
          return (this.size = o.size), d;
        }
        function t2(n) {
          return this.__data__.get(n);
        }
        function r2(n) {
          return this.__data__.has(n);
        }
        function i2(n, o) {
          var d = this.__data__;
          if (d instanceof An) {
            var x = d.__data__;
            if (!xa || x.length < s - 1)
              return x.push([n, o]), (this.size = ++d.size), this;
            d = this.__data__ = new xn(x);
          }
          return d.set(n, o), (this.size = d.size), this;
        }
        (Li.prototype.clear = Zb),
          (Li.prototype.delete = e2),
          (Li.prototype.get = t2),
          (Li.prototype.has = r2),
          (Li.prototype.set = i2);
        function Nd(n, o) {
          var d = gt(n),
            x = !d && bs(n),
            N = !d && !x && Wn(n),
            D = !d && !x && !N && Ys(n),
            K = d || x || N || D,
            V = K ? Pf(n.length, lb) : [],
            X = V.length;
          for (var he in n)
            (o || Bt.call(n, he)) &&
              !(
                K &&
                (he == "length" ||
                  (N && (he == "offset" || he == "parent")) ||
                  (D &&
                    (he == "buffer" ||
                      he == "byteLength" ||
                      he == "byteOffset")) ||
                  Mn(he, X))
              ) &&
              V.push(he);
          return V;
        }
        function Od(n) {
          var o = n.length;
          return o ? n[Hf(0, o - 1)] : t;
        }
        function n2(n, o) {
          return dc(Vr(n), ls(o, 0, n.length));
        }
        function s2(n) {
          return dc(Vr(n));
        }
        function Df(n, o, d) {
          ((d !== t && !ki(n[o], d)) || (d === t && !(o in n))) && En(n, o, d);
        }
        function Ma(n, o, d) {
          var x = n[o];
          (!(Bt.call(n, o) && ki(x, d)) || (d === t && !(o in n))) &&
            En(n, o, d);
        }
        function Zo(n, o) {
          for (var d = n.length; d--; ) if (ki(n[d][0], o)) return d;
          return -1;
        }
        function a2(n, o, d, x) {
          return (
            Hn(n, function (N, D, K) {
              o(x, N, d(N), K);
            }),
            x
          );
        }
        function Td(n, o) {
          return n && en(o, pr(o), n);
        }
        function o2(n, o) {
          return n && en(o, Jr(o), n);
        }
        function En(n, o, d) {
          o == "__proto__" && Go
            ? Go(n, o, {
                configurable: !0,
                enumerable: !0,
                value: d,
                writable: !0,
              })
            : (n[o] = d);
        }
        function Bf(n, o) {
          for (var d = -1, x = o.length, N = ie(x), D = n == null; ++d < x; )
            N[d] = D ? t : vh(n, o[d]);
          return N;
        }
        function ls(n, o, d) {
          return (
            n === n &&
              (d !== t && (n = n <= d ? n : d),
              o !== t && (n = n >= o ? n : o)),
            n
          );
        }
        function bi(n, o, d, x, N, D) {
          var K,
            V = o & A,
            X = o & P,
            he = o & R;
          if ((d && (K = N ? d(n, x, N, D) : d(n)), K !== t)) return K;
          if (!Qt(n)) return n;
          var ue = gt(n);
          if (ue) {
            if (((K = W2(n)), !V)) return Vr(n, K);
          } else {
            var pe = Cr(n),
              _e = pe == re || pe == oe;
            if (Wn(n)) return il(n, V);
            if (pe == Ee || pe == M || (_e && !N)) {
              if (((K = X || _e ? {} : Al(n)), !V))
                return X ? L2(n, o2(K, n)) : F2(n, Td(K, n));
            } else {
              if (!Lt[pe]) return N ? n : {};
              K = Q2(n, pe, V);
            }
          }
          D || (D = new Li());
          var ke = D.get(n);
          if (ke) return ke;
          D.set(n, K),
            Yl(n)
              ? n.forEach(function (st) {
                  K.add(bi(st, o, d, st, n, D));
                })
              : Wl(n) &&
                n.forEach(function (st, xt) {
                  K.set(xt, bi(st, o, d, xt, n, D));
                });
          var nt = he ? (X ? rh : th) : X ? Jr : pr,
            yt = ue ? t : nt(n);
          return (
            pi(yt || n, function (st, xt) {
              yt && ((xt = st), (st = n[xt])),
                Ma(K, xt, bi(st, o, d, xt, n, D));
            }),
            K
          );
        }
        function c2(n) {
          var o = pr(n);
          return function (d) {
            return qd(d, n, o);
          };
        }
        function qd(n, o, d) {
          var x = d.length;
          if (n == null) return !x;
          for (n = jt(n); x--; ) {
            var N = d[x],
              D = o[N],
              K = n[N];
            if ((K === t && !(N in n)) || !D(K)) return !1;
          }
          return !0;
        }
        function Dd(n, o, d) {
          if (typeof n != "function") throw new gi(f);
          return qa(function () {
            n.apply(t, d);
          }, o);
        }
        function Pa(n, o, d, x) {
          var N = -1,
            D = Bo,
            K = !0,
            V = n.length,
            X = [],
            he = o.length;
          if (!V) return X;
          d && (o = Wt(o, ii(d))),
            x
              ? ((D = Af), (K = !1))
              : o.length >= s && ((D = _a), (K = !1), (o = new ds(o)));
          e: for (; ++N < V; ) {
            var ue = n[N],
              pe = d == null ? ue : d(ue);
            if (((ue = x || ue !== 0 ? ue : 0), K && pe === pe)) {
              for (var _e = he; _e--; ) if (o[_e] === pe) continue e;
              X.push(ue);
            } else D(o, pe, x) || X.push(ue);
          }
          return X;
        }
        var Hn = cl(Zi),
          Bd = cl(Lf, !0);
        function f2(n, o) {
          var d = !0;
          return (
            Hn(n, function (x, N, D) {
              return (d = !!o(x, N, D)), d;
            }),
            d
          );
        }
        function ec(n, o, d) {
          for (var x = -1, N = n.length; ++x < N; ) {
            var D = n[x],
              K = o(D);
            if (K != null && (V === t ? K === K && !si(K) : d(K, V)))
              var V = K,
                X = D;
          }
          return X;
        }
        function h2(n, o, d, x) {
          var N = n.length;
          for (
            d = mt(d),
              d < 0 && (d = -d > N ? 0 : N + d),
              x = x === t || x > N ? N : mt(x),
              x < 0 && (x += N),
              x = d > x ? 0 : Zl(x);
            d < x;

          )
            n[d++] = o;
          return n;
        }
        function Fd(n, o) {
          var d = [];
          return (
            Hn(n, function (x, N, D) {
              o(x, N, D) && d.push(x);
            }),
            d
          );
        }
        function wr(n, o, d, x, N) {
          var D = -1,
            K = n.length;
          for (d || (d = X2), N || (N = []); ++D < K; ) {
            var V = n[D];
            o > 0 && d(V)
              ? o > 1
                ? wr(V, o - 1, d, x, N)
                : Un(N, V)
              : x || (N[N.length] = V);
          }
          return N;
        }
        var Ff = fl(),
          Ld = fl(!0);
        function Zi(n, o) {
          return n && Ff(n, o, pr);
        }
        function Lf(n, o) {
          return n && Ld(n, o, pr);
        }
        function tc(n, o) {
          return $n(o, function (d) {
            return Pn(n[d]);
          });
        }
        function ps(n, o) {
          o = Gn(o, n);
          for (var d = 0, x = o.length; n != null && d < x; ) n = n[tn(o[d++])];
          return d && d == x ? n : t;
        }
        function kd(n, o, d) {
          var x = o(n);
          return gt(n) ? x : Un(x, d(n));
        }
        function Tr(n) {
          return n == null
            ? n === t
              ? Ue
              : ve
            : hs && hs in jt(n)
            ? V2(n)
            : sm(n);
        }
        function kf(n, o) {
          return n > o;
        }
        function u2(n, o) {
          return n != null && Bt.call(n, o);
        }
        function d2(n, o) {
          return n != null && o in jt(n);
        }
        function l2(n, o, d) {
          return n >= Rr(o, d) && n < hr(o, d);
        }
        function zf(n, o, d) {
          for (
            var x = d ? Af : Bo,
              N = n[0].length,
              D = n.length,
              K = D,
              V = ie(D),
              X = 1 / 0,
              he = [];
            K--;

          ) {
            var ue = n[K];
            K && o && (ue = Wt(ue, ii(o))),
              (X = Rr(ue.length, X)),
              (V[K] =
                !d && (o || (N >= 120 && ue.length >= 120))
                  ? new ds(K && ue)
                  : t);
          }
          ue = n[0];
          var pe = -1,
            _e = V[0];
          e: for (; ++pe < N && he.length < X; ) {
            var ke = ue[pe],
              nt = o ? o(ke) : ke;
            if (
              ((ke = d || ke !== 0 ? ke : 0), !(_e ? _a(_e, nt) : x(he, nt, d)))
            ) {
              for (K = D; --K; ) {
                var yt = V[K];
                if (!(yt ? _a(yt, nt) : x(n[K], nt, d))) continue e;
              }
              _e && _e.push(nt), he.push(ke);
            }
          }
          return he;
        }
        function p2(n, o, d, x) {
          return (
            Zi(n, function (N, D, K) {
              o(x, d(N), D, K);
            }),
            x
          );
        }
        function Ra(n, o, d) {
          (o = Gn(o, n)), (n = Sl(n, o));
          var x = n == null ? n : n[tn(yi(o))];
          return x == null ? t : lr(x, n, d);
        }
        function zd(n) {
          return Xt(n) && Tr(n) == M;
        }
        function g2(n) {
          return Xt(n) && Tr(n) == De;
        }
        function v2(n) {
          return Xt(n) && Tr(n) == U;
        }
        function Ca(n, o, d, x, N) {
          return n === o
            ? !0
            : n == null || o == null || (!Xt(n) && !Xt(o))
            ? n !== n && o !== o
            : b2(n, o, d, x, Ca, N);
        }
        function b2(n, o, d, x, N, D) {
          var K = gt(n),
            V = gt(o),
            X = K ? Z : Cr(n),
            he = V ? Z : Cr(o);
          (X = X == M ? Ee : X), (he = he == M ? Ee : he);
          var ue = X == Ee,
            pe = he == Ee,
            _e = X == he;
          if (_e && Wn(n)) {
            if (!Wn(o)) return !1;
            (K = !0), (ue = !1);
          }
          if (_e && !ue)
            return (
              D || (D = new Li()),
              K || Ys(n) ? yl(n, o, d, x, N, D) : K2(n, o, X, d, x, N, D)
            );
          if (!(d & C)) {
            var ke = ue && Bt.call(n, "__wrapped__"),
              nt = pe && Bt.call(o, "__wrapped__");
            if (ke || nt) {
              var yt = ke ? n.value() : n,
                st = nt ? o.value() : o;
              return D || (D = new Li()), N(yt, st, d, x, D);
            }
          }
          return _e ? (D || (D = new Li()), H2(n, o, d, x, N, D)) : !1;
        }
        function m2(n) {
          return Xt(n) && Cr(n) == ce;
        }
        function $f(n, o, d, x) {
          var N = d.length,
            D = N,
            K = !x;
          if (n == null) return !D;
          for (n = jt(n); N--; ) {
            var V = d[N];
            if (K && V[2] ? V[1] !== n[V[0]] : !(V[0] in n)) return !1;
          }
          for (; ++N < D; ) {
            V = d[N];
            var X = V[0],
              he = n[X],
              ue = V[1];
            if (K && V[2]) {
              if (he === t && !(X in n)) return !1;
            } else {
              var pe = new Li();
              if (x) var _e = x(he, ue, X, n, o, pe);
              if (!(_e === t ? Ca(ue, he, C | q, x, pe) : _e)) return !1;
            }
          }
          return !0;
        }
        function $d(n) {
          if (!Qt(n) || em(n)) return !1;
          var o = Pn(n) ? mb : Sr;
          return o.test(vs(n));
        }
        function y2(n) {
          return Xt(n) && Tr(n) == He;
        }
        function w2(n) {
          return Xt(n) && Cr(n) == Fe;
        }
        function _2(n) {
          return Xt(n) && mc(n.length) && !!zt[Tr(n)];
        }
        function Ud(n) {
          return typeof n == "function"
            ? n
            : n == null
            ? Wr
            : typeof n == "object"
            ? gt(n)
              ? Hd(n[0], n[1])
              : Kd(n)
            : h0(n);
        }
        function Uf(n) {
          if (!Ta(n)) return Eb(n);
          var o = [];
          for (var d in jt(n)) Bt.call(n, d) && d != "constructor" && o.push(d);
          return o;
        }
        function A2(n) {
          if (!Qt(n)) return nm(n);
          var o = Ta(n),
            d = [];
          for (var x in n)
            (x == "constructor" && (o || !Bt.call(n, x))) || d.push(x);
          return d;
        }
        function jf(n, o) {
          return n < o;
        }
        function jd(n, o) {
          var d = -1,
            x = Gr(n) ? ie(n.length) : [];
          return (
            Hn(n, function (N, D, K) {
              x[++d] = o(N, D, K);
            }),
            x
          );
        }
        function Kd(n) {
          var o = nh(n);
          return o.length == 1 && o[0][2]
            ? El(o[0][0], o[0][1])
            : function (d) {
                return d === n || $f(d, n, o);
              };
        }
        function Hd(n, o) {
          return ah(n) && xl(o)
            ? El(tn(n), o)
            : function (d) {
                var x = vh(d, n);
                return x === t && x === o ? bh(d, n) : Ca(o, x, C | q);
              };
        }
        function rc(n, o, d, x, N) {
          n !== o &&
            Ff(
              o,
              function (D, K) {
                if ((N || (N = new Li()), Qt(D))) x2(n, o, K, d, rc, x, N);
                else {
                  var V = x ? x(ch(n, K), D, K + "", n, o, N) : t;
                  V === t && (V = D), Df(n, K, V);
                }
              },
              Jr
            );
        }
        function x2(n, o, d, x, N, D, K) {
          var V = ch(n, d),
            X = ch(o, d),
            he = K.get(X);
          if (he) {
            Df(n, d, he);
            return;
          }
          var ue = D ? D(V, X, d + "", n, o, K) : t,
            pe = ue === t;
          if (pe) {
            var _e = gt(X),
              ke = !_e && Wn(X),
              nt = !_e && !ke && Ys(X);
            (ue = X),
              _e || ke || nt
                ? gt(V)
                  ? (ue = V)
                  : rr(V)
                  ? (ue = Vr(V))
                  : ke
                  ? ((pe = !1), (ue = il(X, !0)))
                  : nt
                  ? ((pe = !1), (ue = nl(X, !0)))
                  : (ue = [])
                : Da(X) || bs(X)
                ? ((ue = V),
                  bs(V) ? (ue = e0(V)) : (!Qt(V) || Pn(V)) && (ue = Al(X)))
                : (pe = !1);
          }
          pe && (K.set(X, ue), N(ue, X, x, D, K), K.delete(X)), Df(n, d, ue);
        }
        function Vd(n, o) {
          var d = n.length;
          if (d) return (o += o < 0 ? d : 0), Mn(o, d) ? n[o] : t;
        }
        function Gd(n, o, d) {
          o.length
            ? (o = Wt(o, function (D) {
                return gt(D)
                  ? function (K) {
                      return ps(K, D.length === 1 ? D[0] : D);
                    }
                  : D;
              }))
            : (o = [Wr]);
          var x = -1;
          o = Wt(o, ii(tt()));
          var N = jd(n, function (D, K, V) {
            var X = Wt(o, function (he) {
              return he(D);
            });
            return { criteria: X, index: ++x, value: D };
          });
          return Qv(N, function (D, K) {
            return B2(D, K, d);
          });
        }
        function E2(n, o) {
          return Jd(n, o, function (d, x) {
            return bh(n, x);
          });
        }
        function Jd(n, o, d) {
          for (var x = -1, N = o.length, D = {}; ++x < N; ) {
            var K = o[x],
              V = ps(n, K);
            d(V, K) && Na(D, Gn(K, n), V);
          }
          return D;
        }
        function I2(n) {
          return function (o) {
            return ps(o, n);
          };
        }
        function Kf(n, o, d, x) {
          var N = x ? Wv : zs,
            D = -1,
            K = o.length,
            V = n;
          for (n === o && (o = Vr(o)), d && (V = Wt(n, ii(d))); ++D < K; )
            for (
              var X = 0, he = o[D], ue = d ? d(he) : he;
              (X = N(V, ue, X, x)) > -1;

            )
              V !== n && Vo.call(V, X, 1), Vo.call(n, X, 1);
          return n;
        }
        function Wd(n, o) {
          for (var d = n ? o.length : 0, x = d - 1; d--; ) {
            var N = o[d];
            if (d == x || N !== D) {
              var D = N;
              Mn(N) ? Vo.call(n, N, 1) : Jf(n, N);
            }
          }
          return n;
        }
        function Hf(n, o) {
          return n + Wo(Rd() * (o - n + 1));
        }
        function S2(n, o, d, x) {
          for (var N = -1, D = hr(Jo((o - n) / (d || 1)), 0), K = ie(D); D--; )
            (K[x ? D : ++N] = n), (n += d);
          return K;
        }
        function Vf(n, o) {
          var d = "";
          if (!n || o < 1 || o > S) return d;
          do o % 2 && (d += n), (o = Wo(o / 2)), o && (n += n);
          while (o);
          return d;
        }
        function _t(n, o) {
          return fh(Il(n, o, Wr), n + "");
        }
        function M2(n) {
          return Od(Xs(n));
        }
        function P2(n, o) {
          var d = Xs(n);
          return dc(d, ls(o, 0, d.length));
        }
        function Na(n, o, d, x) {
          if (!Qt(n)) return n;
          o = Gn(o, n);
          for (
            var N = -1, D = o.length, K = D - 1, V = n;
            V != null && ++N < D;

          ) {
            var X = tn(o[N]),
              he = d;
            if (X === "__proto__" || X === "constructor" || X === "prototype")
              return n;
            if (N != K) {
              var ue = V[X];
              (he = x ? x(ue, X, V) : t),
                he === t && (he = Qt(ue) ? ue : Mn(o[N + 1]) ? [] : {});
            }
            Ma(V, X, he), (V = V[X]);
          }
          return n;
        }
        var Qd = Qo
            ? function (n, o) {
                return Qo.set(n, o), n;
              }
            : Wr,
          R2 = Go
            ? function (n, o) {
                return Go(n, "toString", {
                  configurable: !0,
                  enumerable: !1,
                  value: yh(o),
                  writable: !0,
                });
              }
            : Wr;
        function C2(n) {
          return dc(Xs(n));
        }
        function mi(n, o, d) {
          var x = -1,
            N = n.length;
          o < 0 && (o = -o > N ? 0 : N + o),
            (d = d > N ? N : d),
            d < 0 && (d += N),
            (N = o > d ? 0 : (d - o) >>> 0),
            (o >>>= 0);
          for (var D = ie(N); ++x < N; ) D[x] = n[x + o];
          return D;
        }
        function N2(n, o) {
          var d;
          return (
            Hn(n, function (x, N, D) {
              return (d = o(x, N, D)), !d;
            }),
            !!d
          );
        }
        function ic(n, o, d) {
          var x = 0,
            N = n == null ? x : n.length;
          if (typeof o == "number" && o === o && N <= te) {
            for (; x < N; ) {
              var D = (x + N) >>> 1,
                K = n[D];
              K !== null && !si(K) && (d ? K <= o : K < o)
                ? (x = D + 1)
                : (N = D);
            }
            return N;
          }
          return Gf(n, o, Wr, d);
        }
        function Gf(n, o, d, x) {
          var N = 0,
            D = n == null ? 0 : n.length;
          if (D === 0) return 0;
          o = d(o);
          for (
            var K = o !== o, V = o === null, X = si(o), he = o === t;
            N < D;

          ) {
            var ue = Wo((N + D) / 2),
              pe = d(n[ue]),
              _e = pe !== t,
              ke = pe === null,
              nt = pe === pe,
              yt = si(pe);
            if (K) var st = x || nt;
            else
              he
                ? (st = nt && (x || _e))
                : V
                ? (st = nt && _e && (x || !ke))
                : X
                ? (st = nt && _e && !ke && (x || !yt))
                : ke || yt
                ? (st = !1)
                : (st = x ? pe <= o : pe < o);
            st ? (N = ue + 1) : (D = ue);
          }
          return Rr(D, O);
        }
        function Yd(n, o) {
          for (var d = -1, x = n.length, N = 0, D = []; ++d < x; ) {
            var K = n[d],
              V = o ? o(K) : K;
            if (!d || !ki(V, X)) {
              var X = V;
              D[N++] = K === 0 ? 0 : K;
            }
          }
          return D;
        }
        function Xd(n) {
          return typeof n == "number" ? n : si(n) ? l : +n;
        }
        function ni(n) {
          if (typeof n == "string") return n;
          if (gt(n)) return Wt(n, ni) + "";
          if (si(n)) return Cd ? Cd.call(n) : "";
          var o = n + "";
          return o == "0" && 1 / n == -1 / 0 ? "-0" : o;
        }
        function Vn(n, o, d) {
          var x = -1,
            N = Bo,
            D = n.length,
            K = !0,
            V = [],
            X = V;
          if (d) (K = !1), (N = Af);
          else if (D >= s) {
            var he = o ? null : U2(n);
            if (he) return Lo(he);
            (K = !1), (N = _a), (X = new ds());
          } else X = o ? [] : V;
          e: for (; ++x < D; ) {
            var ue = n[x],
              pe = o ? o(ue) : ue;
            if (((ue = d || ue !== 0 ? ue : 0), K && pe === pe)) {
              for (var _e = X.length; _e--; ) if (X[_e] === pe) continue e;
              o && X.push(pe), V.push(ue);
            } else N(X, pe, d) || (X !== V && X.push(pe), V.push(ue));
          }
          return V;
        }
        function Jf(n, o) {
          return (
            (o = Gn(o, n)), (n = Sl(n, o)), n == null || delete n[tn(yi(o))]
          );
        }
        function Zd(n, o, d, x) {
          return Na(n, o, d(ps(n, o)), x);
        }
        function nc(n, o, d, x) {
          for (
            var N = n.length, D = x ? N : -1;
            (x ? D-- : ++D < N) && o(n[D], D, n);

          );
          return d
            ? mi(n, x ? 0 : D, x ? D + 1 : N)
            : mi(n, x ? D + 1 : 0, x ? N : D);
        }
        function el(n, o) {
          var d = n;
          return (
            d instanceof St && (d = d.value()),
            xf(
              o,
              function (x, N) {
                return N.func.apply(N.thisArg, Un([x], N.args));
              },
              d
            )
          );
        }
        function Wf(n, o, d) {
          var x = n.length;
          if (x < 2) return x ? Vn(n[0]) : [];
          for (var N = -1, D = ie(x); ++N < x; )
            for (var K = n[N], V = -1; ++V < x; )
              V != N && (D[N] = Pa(D[N] || K, n[V], o, d));
          return Vn(wr(D, 1), o, d);
        }
        function tl(n, o, d) {
          for (var x = -1, N = n.length, D = o.length, K = {}; ++x < N; ) {
            var V = x < D ? o[x] : t;
            d(K, n[x], V);
          }
          return K;
        }
        function Qf(n) {
          return rr(n) ? n : [];
        }
        function Yf(n) {
          return typeof n == "function" ? n : Wr;
        }
        function Gn(n, o) {
          return gt(n) ? n : ah(n, o) ? [n] : Cl(qt(n));
        }
        var O2 = _t;
        function Jn(n, o, d) {
          var x = n.length;
          return (d = d === t ? x : d), !o && d >= x ? n : mi(n, o, d);
        }
        var rl =
          yb ||
          function (n) {
            return Rt.clearTimeout(n);
          };
        function il(n, o) {
          if (o) return n.slice();
          var d = n.length,
            x = Ed ? Ed(d) : new n.constructor(d);
          return n.copy(x), x;
        }
        function Xf(n) {
          var o = new n.constructor(n.byteLength);
          return new Ko(o).set(new Ko(n)), o;
        }
        function T2(n, o) {
          var d = o ? Xf(n.buffer) : n.buffer;
          return new n.constructor(d, n.byteOffset, n.byteLength);
        }
        function q2(n) {
          var o = new n.constructor(n.source, bt.exec(n));
          return (o.lastIndex = n.lastIndex), o;
        }
        function D2(n) {
          return Sa ? jt(Sa.call(n)) : {};
        }
        function nl(n, o) {
          var d = o ? Xf(n.buffer) : n.buffer;
          return new n.constructor(d, n.byteOffset, n.length);
        }
        function sl(n, o) {
          if (n !== o) {
            var d = n !== t,
              x = n === null,
              N = n === n,
              D = si(n),
              K = o !== t,
              V = o === null,
              X = o === o,
              he = si(o);
            if (
              (!V && !he && !D && n > o) ||
              (D && K && X && !V && !he) ||
              (x && K && X) ||
              (!d && X) ||
              !N
            )
              return 1;
            if (
              (!x && !D && !he && n < o) ||
              (he && d && N && !x && !D) ||
              (V && d && N) ||
              (!K && N) ||
              !X
            )
              return -1;
          }
          return 0;
        }
        function B2(n, o, d) {
          for (
            var x = -1,
              N = n.criteria,
              D = o.criteria,
              K = N.length,
              V = d.length;
            ++x < K;

          ) {
            var X = sl(N[x], D[x]);
            if (X) {
              if (x >= V) return X;
              var he = d[x];
              return X * (he == "desc" ? -1 : 1);
            }
          }
          return n.index - o.index;
        }
        function al(n, o, d, x) {
          for (
            var N = -1,
              D = n.length,
              K = d.length,
              V = -1,
              X = o.length,
              he = hr(D - K, 0),
              ue = ie(X + he),
              pe = !x;
            ++V < X;

          )
            ue[V] = o[V];
          for (; ++N < K; ) (pe || N < D) && (ue[d[N]] = n[N]);
          for (; he--; ) ue[V++] = n[N++];
          return ue;
        }
        function ol(n, o, d, x) {
          for (
            var N = -1,
              D = n.length,
              K = -1,
              V = d.length,
              X = -1,
              he = o.length,
              ue = hr(D - V, 0),
              pe = ie(ue + he),
              _e = !x;
            ++N < ue;

          )
            pe[N] = n[N];
          for (var ke = N; ++X < he; ) pe[ke + X] = o[X];
          for (; ++K < V; ) (_e || N < D) && (pe[ke + d[K]] = n[N++]);
          return pe;
        }
        function Vr(n, o) {
          var d = -1,
            x = n.length;
          for (o || (o = ie(x)); ++d < x; ) o[d] = n[d];
          return o;
        }
        function en(n, o, d, x) {
          var N = !d;
          d || (d = {});
          for (var D = -1, K = o.length; ++D < K; ) {
            var V = o[D],
              X = x ? x(d[V], n[V], V, d, n) : t;
            X === t && (X = n[V]), N ? En(d, V, X) : Ma(d, V, X);
          }
          return d;
        }
        function F2(n, o) {
          return en(n, sh(n), o);
        }
        function L2(n, o) {
          return en(n, wl(n), o);
        }
        function sc(n, o) {
          return function (d, x) {
            var N = gt(d) ? jv : a2,
              D = o ? o() : {};
            return N(d, n, tt(x, 2), D);
          };
        }
        function Js(n) {
          return _t(function (o, d) {
            var x = -1,
              N = d.length,
              D = N > 1 ? d[N - 1] : t,
              K = N > 2 ? d[2] : t;
            for (
              D = n.length > 3 && typeof D == "function" ? (N--, D) : t,
                K && qr(d[0], d[1], K) && ((D = N < 3 ? t : D), (N = 1)),
                o = jt(o);
              ++x < N;

            ) {
              var V = d[x];
              V && n(o, V, x, D);
            }
            return o;
          });
        }
        function cl(n, o) {
          return function (d, x) {
            if (d == null) return d;
            if (!Gr(d)) return n(d, x);
            for (
              var N = d.length, D = o ? N : -1, K = jt(d);
              (o ? D-- : ++D < N) && x(K[D], D, K) !== !1;

            );
            return d;
          };
        }
        function fl(n) {
          return function (o, d, x) {
            for (var N = -1, D = jt(o), K = x(o), V = K.length; V--; ) {
              var X = K[n ? V : ++N];
              if (d(D[X], X, D) === !1) break;
            }
            return o;
          };
        }
        function k2(n, o, d) {
          var x = o & L,
            N = Oa(n);
          function D() {
            var K = this && this !== Rt && this instanceof D ? N : n;
            return K.apply(x ? d : this, arguments);
          }
          return D;
        }
        function hl(n) {
          return function (o) {
            o = qt(o);
            var d = $s(o) ? Fi(o) : t,
              x = d ? d[0] : o.charAt(0),
              N = d ? Jn(d, 1).join("") : o.slice(1);
            return x[n]() + N;
          };
        }
        function Ws(n) {
          return function (o) {
            return xf(c0(o0(o).replace(ya, "")), n, "");
          };
        }
        function Oa(n) {
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return new n();
              case 1:
                return new n(o[0]);
              case 2:
                return new n(o[0], o[1]);
              case 3:
                return new n(o[0], o[1], o[2]);
              case 4:
                return new n(o[0], o[1], o[2], o[3]);
              case 5:
                return new n(o[0], o[1], o[2], o[3], o[4]);
              case 6:
                return new n(o[0], o[1], o[2], o[3], o[4], o[5]);
              case 7:
                return new n(o[0], o[1], o[2], o[3], o[4], o[5], o[6]);
            }
            var d = Gs(n.prototype),
              x = n.apply(d, o);
            return Qt(x) ? x : d;
          };
        }
        function z2(n, o, d) {
          var x = Oa(n);
          function N() {
            for (var D = arguments.length, K = ie(D), V = D, X = Qs(N); V--; )
              K[V] = arguments[V];
            var he = D < 3 && K[0] !== X && K[D - 1] !== X ? [] : jn(K, X);
            if (((D -= he.length), D < d))
              return gl(n, o, ac, N.placeholder, t, K, he, t, t, d - D);
            var ue = this && this !== Rt && this instanceof N ? x : n;
            return lr(ue, this, K);
          }
          return N;
        }
        function ul(n) {
          return function (o, d, x) {
            var N = jt(o);
            if (!Gr(o)) {
              var D = tt(d, 3);
              (o = pr(o)),
                (d = function (V) {
                  return D(N[V], V, N);
                });
            }
            var K = n(o, d, x);
            return K > -1 ? N[D ? o[K] : K] : t;
          };
        }
        function dl(n) {
          return Sn(function (o) {
            var d = o.length,
              x = d,
              N = vi.prototype.thru;
            for (n && o.reverse(); x--; ) {
              var D = o[x];
              if (typeof D != "function") throw new gi(f);
              if (N && !K && hc(D) == "wrapper") var K = new vi([], !0);
            }
            for (x = K ? x : d; ++x < d; ) {
              D = o[x];
              var V = hc(D),
                X = V == "wrapper" ? ih(D) : t;
              X &&
              oh(X[0]) &&
              X[1] == (ne | Y | G | de) &&
              !X[4].length &&
              X[9] == 1
                ? (K = K[hc(X[0])].apply(K, X[3]))
                : (K = D.length == 1 && oh(D) ? K[V]() : K.thru(D));
            }
            return function () {
              var he = arguments,
                ue = he[0];
              if (K && he.length == 1 && gt(ue)) return K.plant(ue).value();
              for (var pe = 0, _e = d ? o[pe].apply(this, he) : ue; ++pe < d; )
                _e = o[pe].call(this, _e);
              return _e;
            };
          });
        }
        function ac(n, o, d, x, N, D, K, V, X, he) {
          var ue = o & ne,
            pe = o & L,
            _e = o & j,
            ke = o & (Y | Q),
            nt = o & fe,
            yt = _e ? t : Oa(n);
          function st() {
            for (var xt = arguments.length, Ct = ie(xt), ai = xt; ai--; )
              Ct[ai] = arguments[ai];
            if (ke)
              var Dr = Qs(st),
                oi = Xv(Ct, Dr);
            if (
              (x && (Ct = al(Ct, x, N, ke)),
              D && (Ct = ol(Ct, D, K, ke)),
              (xt -= oi),
              ke && xt < he)
            ) {
              var ir = jn(Ct, Dr);
              return gl(n, o, ac, st.placeholder, d, Ct, ir, V, X, he - xt);
            }
            var zi = pe ? d : this,
              Cn = _e ? zi[n] : n;
            return (
              (xt = Ct.length),
              V ? (Ct = am(Ct, V)) : nt && xt > 1 && Ct.reverse(),
              ue && X < xt && (Ct.length = X),
              this && this !== Rt && this instanceof st && (Cn = yt || Oa(Cn)),
              Cn.apply(zi, Ct)
            );
          }
          return st;
        }
        function ll(n, o) {
          return function (d, x) {
            return p2(d, n, o(x), {});
          };
        }
        function oc(n, o) {
          return function (d, x) {
            var N;
            if (d === t && x === t) return o;
            if ((d !== t && (N = d), x !== t)) {
              if (N === t) return x;
              typeof d == "string" || typeof x == "string"
                ? ((d = ni(d)), (x = ni(x)))
                : ((d = Xd(d)), (x = Xd(x))),
                (N = n(d, x));
            }
            return N;
          };
        }
        function Zf(n) {
          return Sn(function (o) {
            return (
              (o = Wt(o, ii(tt()))),
              _t(function (d) {
                var x = this;
                return n(o, function (N) {
                  return lr(N, x, d);
                });
              })
            );
          });
        }
        function cc(n, o) {
          o = o === t ? " " : ni(o);
          var d = o.length;
          if (d < 2) return d ? Vf(o, n) : o;
          var x = Vf(o, Jo(n / Us(o)));
          return $s(o) ? Jn(Fi(x), 0, n).join("") : x.slice(0, n);
        }
        function $2(n, o, d, x) {
          var N = o & L,
            D = Oa(n);
          function K() {
            for (
              var V = -1,
                X = arguments.length,
                he = -1,
                ue = x.length,
                pe = ie(ue + X),
                _e = this && this !== Rt && this instanceof K ? D : n;
              ++he < ue;

            )
              pe[he] = x[he];
            for (; X--; ) pe[he++] = arguments[++V];
            return lr(_e, N ? d : this, pe);
          }
          return K;
        }
        function pl(n) {
          return function (o, d, x) {
            return (
              x && typeof x != "number" && qr(o, d, x) && (d = x = t),
              (o = Rn(o)),
              d === t ? ((d = o), (o = 0)) : (d = Rn(d)),
              (x = x === t ? (o < d ? 1 : -1) : Rn(x)),
              S2(o, d, x, n)
            );
          };
        }
        function fc(n) {
          return function (o, d) {
            return (
              (typeof o == "string" && typeof d == "string") ||
                ((o = wi(o)), (d = wi(d))),
              n(o, d)
            );
          };
        }
        function gl(n, o, d, x, N, D, K, V, X, he) {
          var ue = o & Y,
            pe = ue ? K : t,
            _e = ue ? t : K,
            ke = ue ? D : t,
            nt = ue ? t : D;
          (o |= ue ? G : ee), (o &= ~(ue ? ee : G)), o & H || (o &= -4);
          var yt = [n, o, N, ke, pe, nt, _e, V, X, he],
            st = d.apply(t, yt);
          return oh(n) && Ml(st, yt), (st.placeholder = x), Pl(st, n, o);
        }
        function eh(n) {
          var o = fr[n];
          return function (d, x) {
            if (
              ((d = wi(d)), (x = x == null ? 0 : Rr(mt(x), 292)), x && Pd(d))
            ) {
              var N = (qt(d) + "e").split("e"),
                D = o(N[0] + "e" + (+N[1] + x));
              return (
                (N = (qt(D) + "e").split("e")), +(N[0] + "e" + (+N[1] - x))
              );
            }
            return o(d);
          };
        }
        var U2 =
          Hs && 1 / Lo(new Hs([, -0]))[1] == I
            ? function (n) {
                return new Hs(n);
              }
            : Ah;
        function vl(n) {
          return function (o) {
            var d = Cr(o);
            return d == ce ? Cf(o) : d == Fe ? sb(o) : Yv(o, n(o));
          };
        }
        function In(n, o, d, x, N, D, K, V) {
          var X = o & j;
          if (!X && typeof n != "function") throw new gi(f);
          var he = x ? x.length : 0;
          if (
            (he || ((o &= -97), (x = N = t)),
            (K = K === t ? K : hr(mt(K), 0)),
            (V = V === t ? V : mt(V)),
            (he -= N ? N.length : 0),
            o & ee)
          ) {
            var ue = x,
              pe = N;
            x = N = t;
          }
          var _e = X ? t : ih(n),
            ke = [n, o, d, x, N, ue, pe, D, K, V];
          if (
            (_e && im(ke, _e),
            (n = ke[0]),
            (o = ke[1]),
            (d = ke[2]),
            (x = ke[3]),
            (N = ke[4]),
            (V = ke[9] = ke[9] === t ? (X ? 0 : n.length) : hr(ke[9] - he, 0)),
            !V && o & (Y | Q) && (o &= -25),
            !o || o == L)
          )
            var nt = k2(n, o, d);
          else
            o == Y || o == Q
              ? (nt = z2(n, o, V))
              : (o == G || o == (L | G)) && !N.length
              ? (nt = $2(n, o, d, x))
              : (nt = ac.apply(t, ke));
          var yt = _e ? Qd : Ml;
          return Pl(yt(nt, ke), n, o);
        }
        function bl(n, o, d, x) {
          return n === t || (ki(n, Ks[d]) && !Bt.call(x, d)) ? o : n;
        }
        function ml(n, o, d, x, N, D) {
          return (
            Qt(n) && Qt(o) && (D.set(o, n), rc(n, o, t, ml, D), D.delete(o)), n
          );
        }
        function j2(n) {
          return Da(n) ? t : n;
        }
        function yl(n, o, d, x, N, D) {
          var K = d & C,
            V = n.length,
            X = o.length;
          if (V != X && !(K && X > V)) return !1;
          var he = D.get(n),
            ue = D.get(o);
          if (he && ue) return he == o && ue == n;
          var pe = -1,
            _e = !0,
            ke = d & q ? new ds() : t;
          for (D.set(n, o), D.set(o, n); ++pe < V; ) {
            var nt = n[pe],
              yt = o[pe];
            if (x) var st = K ? x(yt, nt, pe, o, n, D) : x(nt, yt, pe, n, o, D);
            if (st !== t) {
              if (st) continue;
              _e = !1;
              break;
            }
            if (ke) {
              if (
                !Ef(o, function (xt, Ct) {
                  if (!_a(ke, Ct) && (nt === xt || N(nt, xt, d, x, D)))
                    return ke.push(Ct);
                })
              ) {
                _e = !1;
                break;
              }
            } else if (!(nt === yt || N(nt, yt, d, x, D))) {
              _e = !1;
              break;
            }
          }
          return D.delete(n), D.delete(o), _e;
        }
        function K2(n, o, d, x, N, D, K) {
          switch (d) {
            case Ae:
              if (n.byteLength != o.byteLength || n.byteOffset != o.byteOffset)
                return !1;
              (n = n.buffer), (o = o.buffer);
            case De:
              return !(
                n.byteLength != o.byteLength || !D(new Ko(n), new Ko(o))
              );
            case $:
            case U:
            case ge:
              return ki(+n, +o);
            case k:
              return n.name == o.name && n.message == o.message;
            case He:
            case we:
              return n == o + "";
            case ce:
              var V = Cf;
            case Fe:
              var X = x & C;
              if ((V || (V = Lo), n.size != o.size && !X)) return !1;
              var he = K.get(n);
              if (he) return he == o;
              (x |= q), K.set(n, o);
              var ue = yl(V(n), V(o), x, N, D, K);
              return K.delete(n), ue;
            case $e:
              if (Sa) return Sa.call(n) == Sa.call(o);
          }
          return !1;
        }
        function H2(n, o, d, x, N, D) {
          var K = d & C,
            V = th(n),
            X = V.length,
            he = th(o),
            ue = he.length;
          if (X != ue && !K) return !1;
          for (var pe = X; pe--; ) {
            var _e = V[pe];
            if (!(K ? _e in o : Bt.call(o, _e))) return !1;
          }
          var ke = D.get(n),
            nt = D.get(o);
          if (ke && nt) return ke == o && nt == n;
          var yt = !0;
          D.set(n, o), D.set(o, n);
          for (var st = K; ++pe < X; ) {
            _e = V[pe];
            var xt = n[_e],
              Ct = o[_e];
            if (x) var ai = K ? x(Ct, xt, _e, o, n, D) : x(xt, Ct, _e, n, o, D);
            if (!(ai === t ? xt === Ct || N(xt, Ct, d, x, D) : ai)) {
              yt = !1;
              break;
            }
            st || (st = _e == "constructor");
          }
          if (yt && !st) {
            var Dr = n.constructor,
              oi = o.constructor;
            Dr != oi &&
              "constructor" in n &&
              "constructor" in o &&
              !(
                typeof Dr == "function" &&
                Dr instanceof Dr &&
                typeof oi == "function" &&
                oi instanceof oi
              ) &&
              (yt = !1);
          }
          return D.delete(n), D.delete(o), yt;
        }
        function Sn(n) {
          return fh(Il(n, t, ql), n + "");
        }
        function th(n) {
          return kd(n, pr, sh);
        }
        function rh(n) {
          return kd(n, Jr, wl);
        }
        var ih = Qo
          ? function (n) {
              return Qo.get(n);
            }
          : Ah;
        function hc(n) {
          for (
            var o = n.name + "", d = Vs[o], x = Bt.call(Vs, o) ? d.length : 0;
            x--;

          ) {
            var N = d[x],
              D = N.func;
            if (D == null || D == n) return N.name;
          }
          return o;
        }
        function Qs(n) {
          var o = Bt.call(T, "placeholder") ? T : n;
          return o.placeholder;
        }
        function tt() {
          var n = T.iteratee || wh;
          return (
            (n = n === wh ? Ud : n),
            arguments.length ? n(arguments[0], arguments[1]) : n
          );
        }
        function uc(n, o) {
          var d = n.__data__;
          return Z2(o) ? d[typeof o == "string" ? "string" : "hash"] : d.map;
        }
        function nh(n) {
          for (var o = pr(n), d = o.length; d--; ) {
            var x = o[d],
              N = n[x];
            o[d] = [x, N, xl(N)];
          }
          return o;
        }
        function gs(n, o) {
          var d = rb(n, o);
          return $d(d) ? d : t;
        }
        function V2(n) {
          var o = Bt.call(n, hs),
            d = n[hs];
          try {
            n[hs] = t;
            var x = !0;
          } catch {}
          var N = Uo.call(n);
          return x && (o ? (n[hs] = d) : delete n[hs]), N;
        }
        var sh = Of
            ? function (n) {
                return n == null
                  ? []
                  : ((n = jt(n)),
                    $n(Of(n), function (o) {
                      return Sd.call(n, o);
                    }));
              }
            : xh,
          wl = Of
            ? function (n) {
                for (var o = []; n; ) Un(o, sh(n)), (n = Ho(n));
                return o;
              }
            : xh,
          Cr = Tr;
        ((Tf && Cr(new Tf(new ArrayBuffer(1))) != Ae) ||
          (xa && Cr(new xa()) != ce) ||
          (qf && Cr(qf.resolve()) != We) ||
          (Hs && Cr(new Hs()) != Fe) ||
          (Ea && Cr(new Ea()) != me)) &&
          (Cr = function (n) {
            var o = Tr(n),
              d = o == Ee ? n.constructor : t,
              x = d ? vs(d) : "";
            if (x)
              switch (x) {
                case Pb:
                  return Ae;
                case Rb:
                  return ce;
                case Cb:
                  return We;
                case Nb:
                  return Fe;
                case Ob:
                  return me;
              }
            return o;
          });
        function G2(n, o, d) {
          for (var x = -1, N = d.length; ++x < N; ) {
            var D = d[x],
              K = D.size;
            switch (D.type) {
              case "drop":
                n += K;
                break;
              case "dropRight":
                o -= K;
                break;
              case "take":
                o = Rr(o, n + K);
                break;
              case "takeRight":
                n = hr(n, o - K);
                break;
            }
          }
          return { start: n, end: o };
        }
        function J2(n) {
          var o = n.match(Ve);
          return o ? o[1].split(ot) : [];
        }
        function _l(n, o, d) {
          o = Gn(o, n);
          for (var x = -1, N = o.length, D = !1; ++x < N; ) {
            var K = tn(o[x]);
            if (!(D = n != null && d(n, K))) break;
            n = n[K];
          }
          return D || ++x != N
            ? D
            : ((N = n == null ? 0 : n.length),
              !!N && mc(N) && Mn(K, N) && (gt(n) || bs(n)));
        }
        function W2(n) {
          var o = n.length,
            d = new n.constructor(o);
          return (
            o &&
              typeof n[0] == "string" &&
              Bt.call(n, "index") &&
              ((d.index = n.index), (d.input = n.input)),
            d
          );
        }
        function Al(n) {
          return typeof n.constructor == "function" && !Ta(n) ? Gs(Ho(n)) : {};
        }
        function Q2(n, o, d) {
          var x = n.constructor;
          switch (o) {
            case De:
              return Xf(n);
            case $:
            case U:
              return new x(+n);
            case Ae:
              return T2(n, d);
            case Ye:
            case ze:
            case Ce:
            case ct:
            case ht:
            case Be:
            case ft:
            case ut:
            case Le:
              return nl(n, d);
            case ce:
              return new x();
            case ge:
            case we:
              return new x(n);
            case He:
              return q2(n);
            case Fe:
              return new x();
            case $e:
              return D2(n);
          }
        }
        function Y2(n, o) {
          var d = o.length;
          if (!d) return n;
          var x = d - 1;
          return (
            (o[x] = (d > 1 ? "& " : "") + o[x]),
            (o = o.join(d > 2 ? ", " : " ")),
            n.replace(
              Pe,
              `{
/* [wrapped with ` +
                o +
                `] */
`
            )
          );
        }
        function X2(n) {
          return gt(n) || bs(n) || !!(Md && n && n[Md]);
        }
        function Mn(n, o) {
          var d = typeof n;
          return (
            (o = o ?? S),
            !!o &&
              (d == "number" || (d != "symbol" && Pr.test(n))) &&
              n > -1 &&
              n % 1 == 0 &&
              n < o
          );
        }
        function qr(n, o, d) {
          if (!Qt(d)) return !1;
          var x = typeof o;
          return (
            x == "number" ? Gr(d) && Mn(o, d.length) : x == "string" && o in d
          )
            ? ki(d[o], n)
            : !1;
        }
        function ah(n, o) {
          if (gt(n)) return !1;
          var d = typeof n;
          return d == "number" ||
            d == "symbol" ||
            d == "boolean" ||
            n == null ||
            si(n)
            ? !0
            : Ne.test(n) || !Je.test(n) || (o != null && n in jt(o));
        }
        function Z2(n) {
          var o = typeof n;
          return o == "string" ||
            o == "number" ||
            o == "symbol" ||
            o == "boolean"
            ? n !== "__proto__"
            : n === null;
        }
        function oh(n) {
          var o = hc(n),
            d = T[o];
          if (typeof d != "function" || !(o in St.prototype)) return !1;
          if (n === d) return !0;
          var x = ih(d);
          return !!x && n === x[0];
        }
        function em(n) {
          return !!xd && xd in n;
        }
        var tm = zo ? Pn : Eh;
        function Ta(n) {
          var o = n && n.constructor,
            d = (typeof o == "function" && o.prototype) || Ks;
          return n === d;
        }
        function xl(n) {
          return n === n && !Qt(n);
        }
        function El(n, o) {
          return function (d) {
            return d == null ? !1 : d[n] === o && (o !== t || n in jt(d));
          };
        }
        function rm(n) {
          var o = vc(n, function (x) {
              return d.size === h && d.clear(), x;
            }),
            d = o.cache;
          return o;
        }
        function im(n, o) {
          var d = n[1],
            x = o[1],
            N = d | x,
            D = N < (L | j | ne),
            K =
              (x == ne && d == Y) ||
              (x == ne && d == de && n[7].length <= o[8]) ||
              (x == (ne | de) && o[7].length <= o[8] && d == Y);
          if (!(D || K)) return n;
          x & L && ((n[2] = o[2]), (N |= d & L ? 0 : H));
          var V = o[3];
          if (V) {
            var X = n[3];
            (n[3] = X ? al(X, V, o[4]) : V), (n[4] = X ? jn(n[3], y) : o[4]);
          }
          return (
            (V = o[5]),
            V &&
              ((X = n[5]),
              (n[5] = X ? ol(X, V, o[6]) : V),
              (n[6] = X ? jn(n[5], y) : o[6])),
            (V = o[7]),
            V && (n[7] = V),
            x & ne && (n[8] = n[8] == null ? o[8] : Rr(n[8], o[8])),
            n[9] == null && (n[9] = o[9]),
            (n[0] = o[0]),
            (n[1] = N),
            n
          );
        }
        function nm(n) {
          var o = [];
          if (n != null) for (var d in jt(n)) o.push(d);
          return o;
        }
        function sm(n) {
          return Uo.call(n);
        }
        function Il(n, o, d) {
          return (
            (o = hr(o === t ? n.length - 1 : o, 0)),
            function () {
              for (
                var x = arguments, N = -1, D = hr(x.length - o, 0), K = ie(D);
                ++N < D;

              )
                K[N] = x[o + N];
              N = -1;
              for (var V = ie(o + 1); ++N < o; ) V[N] = x[N];
              return (V[o] = d(K)), lr(n, this, V);
            }
          );
        }
        function Sl(n, o) {
          return o.length < 2 ? n : ps(n, mi(o, 0, -1));
        }
        function am(n, o) {
          for (var d = n.length, x = Rr(o.length, d), N = Vr(n); x--; ) {
            var D = o[x];
            n[x] = Mn(D, d) ? N[D] : t;
          }
          return n;
        }
        function ch(n, o) {
          if (
            !(o === "constructor" && typeof n[o] == "function") &&
            o != "__proto__"
          )
            return n[o];
        }
        var Ml = Rl(Qd),
          qa =
            _b ||
            function (n, o) {
              return Rt.setTimeout(n, o);
            },
          fh = Rl(R2);
        function Pl(n, o, d) {
          var x = o + "";
          return fh(n, Y2(x, om(J2(x), d)));
        }
        function Rl(n) {
          var o = 0,
            d = 0;
          return function () {
            var x = Ib(),
              N = c - (x - d);
            if (((d = x), N > 0)) {
              if (++o >= m) return arguments[0];
            } else o = 0;
            return n.apply(t, arguments);
          };
        }
        function dc(n, o) {
          var d = -1,
            x = n.length,
            N = x - 1;
          for (o = o === t ? x : o; ++d < o; ) {
            var D = Hf(d, N),
              K = n[D];
            (n[D] = n[d]), (n[d] = K);
          }
          return (n.length = o), n;
        }
        var Cl = rm(function (n) {
          var o = [];
          return (
            n.charCodeAt(0) === 46 && o.push(""),
            n.replace(at, function (d, x, N, D) {
              o.push(N ? D.replace(Ot, "$1") : x || d);
            }),
            o
          );
        });
        function tn(n) {
          if (typeof n == "string" || si(n)) return n;
          var o = n + "";
          return o == "0" && 1 / n == -1 / 0 ? "-0" : o;
        }
        function vs(n) {
          if (n != null) {
            try {
              return $o.call(n);
            } catch {}
            try {
              return n + "";
            } catch {}
          }
          return "";
        }
        function om(n, o) {
          return (
            pi(se, function (d) {
              var x = "_." + d[0];
              o & d[1] && !Bo(n, x) && n.push(x);
            }),
            n.sort()
          );
        }
        function Nl(n) {
          if (n instanceof St) return n.clone();
          var o = new vi(n.__wrapped__, n.__chain__);
          return (
            (o.__actions__ = Vr(n.__actions__)),
            (o.__index__ = n.__index__),
            (o.__values__ = n.__values__),
            o
          );
        }
        function cm(n, o, d) {
          (d ? qr(n, o, d) : o === t) ? (o = 1) : (o = hr(mt(o), 0));
          var x = n == null ? 0 : n.length;
          if (!x || o < 1) return [];
          for (var N = 0, D = 0, K = ie(Jo(x / o)); N < x; )
            K[D++] = mi(n, N, (N += o));
          return K;
        }
        function fm(n) {
          for (
            var o = -1, d = n == null ? 0 : n.length, x = 0, N = [];
            ++o < d;

          ) {
            var D = n[o];
            D && (N[x++] = D);
          }
          return N;
        }
        function hm() {
          var n = arguments.length;
          if (!n) return [];
          for (var o = ie(n - 1), d = arguments[0], x = n; x--; )
            o[x - 1] = arguments[x];
          return Un(gt(d) ? Vr(d) : [d], wr(o, 1));
        }
        var um = _t(function (n, o) {
            return rr(n) ? Pa(n, wr(o, 1, rr, !0)) : [];
          }),
          dm = _t(function (n, o) {
            var d = yi(o);
            return (
              rr(d) && (d = t), rr(n) ? Pa(n, wr(o, 1, rr, !0), tt(d, 2)) : []
            );
          }),
          lm = _t(function (n, o) {
            var d = yi(o);
            return rr(d) && (d = t), rr(n) ? Pa(n, wr(o, 1, rr, !0), t, d) : [];
          });
        function pm(n, o, d) {
          var x = n == null ? 0 : n.length;
          return x
            ? ((o = d || o === t ? 1 : mt(o)), mi(n, o < 0 ? 0 : o, x))
            : [];
        }
        function gm(n, o, d) {
          var x = n == null ? 0 : n.length;
          return x
            ? ((o = d || o === t ? 1 : mt(o)),
              (o = x - o),
              mi(n, 0, o < 0 ? 0 : o))
            : [];
        }
        function vm(n, o) {
          return n && n.length ? nc(n, tt(o, 3), !0, !0) : [];
        }
        function bm(n, o) {
          return n && n.length ? nc(n, tt(o, 3), !0) : [];
        }
        function mm(n, o, d, x) {
          var N = n == null ? 0 : n.length;
          return N
            ? (d && typeof d != "number" && qr(n, o, d) && ((d = 0), (x = N)),
              h2(n, o, d, x))
            : [];
        }
        function Ol(n, o, d) {
          var x = n == null ? 0 : n.length;
          if (!x) return -1;
          var N = d == null ? 0 : mt(d);
          return N < 0 && (N = hr(x + N, 0)), Fo(n, tt(o, 3), N);
        }
        function Tl(n, o, d) {
          var x = n == null ? 0 : n.length;
          if (!x) return -1;
          var N = x - 1;
          return (
            d !== t && ((N = mt(d)), (N = d < 0 ? hr(x + N, 0) : Rr(N, x - 1))),
            Fo(n, tt(o, 3), N, !0)
          );
        }
        function ql(n) {
          var o = n == null ? 0 : n.length;
          return o ? wr(n, 1) : [];
        }
        function ym(n) {
          var o = n == null ? 0 : n.length;
          return o ? wr(n, I) : [];
        }
        function wm(n, o) {
          var d = n == null ? 0 : n.length;
          return d ? ((o = o === t ? 1 : mt(o)), wr(n, o)) : [];
        }
        function _m(n) {
          for (var o = -1, d = n == null ? 0 : n.length, x = {}; ++o < d; ) {
            var N = n[o];
            x[N[0]] = N[1];
          }
          return x;
        }
        function Dl(n) {
          return n && n.length ? n[0] : t;
        }
        function Am(n, o, d) {
          var x = n == null ? 0 : n.length;
          if (!x) return -1;
          var N = d == null ? 0 : mt(d);
          return N < 0 && (N = hr(x + N, 0)), zs(n, o, N);
        }
        function xm(n) {
          var o = n == null ? 0 : n.length;
          return o ? mi(n, 0, -1) : [];
        }
        var Em = _t(function (n) {
            var o = Wt(n, Qf);
            return o.length && o[0] === n[0] ? zf(o) : [];
          }),
          Im = _t(function (n) {
            var o = yi(n),
              d = Wt(n, Qf);
            return (
              o === yi(d) ? (o = t) : d.pop(),
              d.length && d[0] === n[0] ? zf(d, tt(o, 2)) : []
            );
          }),
          Sm = _t(function (n) {
            var o = yi(n),
              d = Wt(n, Qf);
            return (
              (o = typeof o == "function" ? o : t),
              o && d.pop(),
              d.length && d[0] === n[0] ? zf(d, t, o) : []
            );
          });
        function Mm(n, o) {
          return n == null ? "" : xb.call(n, o);
        }
        function yi(n) {
          var o = n == null ? 0 : n.length;
          return o ? n[o - 1] : t;
        }
        function Pm(n, o, d) {
          var x = n == null ? 0 : n.length;
          if (!x) return -1;
          var N = x;
          return (
            d !== t && ((N = mt(d)), (N = N < 0 ? hr(x + N, 0) : Rr(N, x - 1))),
            o === o ? ob(n, o, N) : Fo(n, gd, N, !0)
          );
        }
        function Rm(n, o) {
          return n && n.length ? Vd(n, mt(o)) : t;
        }
        var Cm = _t(Bl);
        function Bl(n, o) {
          return n && n.length && o && o.length ? Kf(n, o) : n;
        }
        function Nm(n, o, d) {
          return n && n.length && o && o.length ? Kf(n, o, tt(d, 2)) : n;
        }
        function Om(n, o, d) {
          return n && n.length && o && o.length ? Kf(n, o, t, d) : n;
        }
        var Tm = Sn(function (n, o) {
          var d = n == null ? 0 : n.length,
            x = Bf(n, o);
          return (
            Wd(
              n,
              Wt(o, function (N) {
                return Mn(N, d) ? +N : N;
              }).sort(sl)
            ),
            x
          );
        });
        function qm(n, o) {
          var d = [];
          if (!(n && n.length)) return d;
          var x = -1,
            N = [],
            D = n.length;
          for (o = tt(o, 3); ++x < D; ) {
            var K = n[x];
            o(K, x, n) && (d.push(K), N.push(x));
          }
          return Wd(n, N), d;
        }
        function hh(n) {
          return n == null ? n : Mb.call(n);
        }
        function Dm(n, o, d) {
          var x = n == null ? 0 : n.length;
          return x
            ? (d && typeof d != "number" && qr(n, o, d)
                ? ((o = 0), (d = x))
                : ((o = o == null ? 0 : mt(o)), (d = d === t ? x : mt(d))),
              mi(n, o, d))
            : [];
        }
        function Bm(n, o) {
          return ic(n, o);
        }
        function Fm(n, o, d) {
          return Gf(n, o, tt(d, 2));
        }
        function Lm(n, o) {
          var d = n == null ? 0 : n.length;
          if (d) {
            var x = ic(n, o);
            if (x < d && ki(n[x], o)) return x;
          }
          return -1;
        }
        function km(n, o) {
          return ic(n, o, !0);
        }
        function zm(n, o, d) {
          return Gf(n, o, tt(d, 2), !0);
        }
        function $m(n, o) {
          var d = n == null ? 0 : n.length;
          if (d) {
            var x = ic(n, o, !0) - 1;
            if (ki(n[x], o)) return x;
          }
          return -1;
        }
        function Um(n) {
          return n && n.length ? Yd(n) : [];
        }
        function jm(n, o) {
          return n && n.length ? Yd(n, tt(o, 2)) : [];
        }
        function Km(n) {
          var o = n == null ? 0 : n.length;
          return o ? mi(n, 1, o) : [];
        }
        function Hm(n, o, d) {
          return n && n.length
            ? ((o = d || o === t ? 1 : mt(o)), mi(n, 0, o < 0 ? 0 : o))
            : [];
        }
        function Vm(n, o, d) {
          var x = n == null ? 0 : n.length;
          return x
            ? ((o = d || o === t ? 1 : mt(o)),
              (o = x - o),
              mi(n, o < 0 ? 0 : o, x))
            : [];
        }
        function Gm(n, o) {
          return n && n.length ? nc(n, tt(o, 3), !1, !0) : [];
        }
        function Jm(n, o) {
          return n && n.length ? nc(n, tt(o, 3)) : [];
        }
        var Wm = _t(function (n) {
            return Vn(wr(n, 1, rr, !0));
          }),
          Qm = _t(function (n) {
            var o = yi(n);
            return rr(o) && (o = t), Vn(wr(n, 1, rr, !0), tt(o, 2));
          }),
          Ym = _t(function (n) {
            var o = yi(n);
            return (
              (o = typeof o == "function" ? o : t), Vn(wr(n, 1, rr, !0), t, o)
            );
          });
        function Xm(n) {
          return n && n.length ? Vn(n) : [];
        }
        function Zm(n, o) {
          return n && n.length ? Vn(n, tt(o, 2)) : [];
        }
        function e6(n, o) {
          return (
            (o = typeof o == "function" ? o : t),
            n && n.length ? Vn(n, t, o) : []
          );
        }
        function uh(n) {
          if (!(n && n.length)) return [];
          var o = 0;
          return (
            (n = $n(n, function (d) {
              if (rr(d)) return (o = hr(d.length, o)), !0;
            })),
            Pf(o, function (d) {
              return Wt(n, If(d));
            })
          );
        }
        function Fl(n, o) {
          if (!(n && n.length)) return [];
          var d = uh(n);
          return o == null
            ? d
            : Wt(d, function (x) {
                return lr(o, t, x);
              });
        }
        var t6 = _t(function (n, o) {
            return rr(n) ? Pa(n, o) : [];
          }),
          r6 = _t(function (n) {
            return Wf($n(n, rr));
          }),
          i6 = _t(function (n) {
            var o = yi(n);
            return rr(o) && (o = t), Wf($n(n, rr), tt(o, 2));
          }),
          n6 = _t(function (n) {
            var o = yi(n);
            return (o = typeof o == "function" ? o : t), Wf($n(n, rr), t, o);
          }),
          s6 = _t(uh);
        function a6(n, o) {
          return tl(n || [], o || [], Ma);
        }
        function o6(n, o) {
          return tl(n || [], o || [], Na);
        }
        var c6 = _t(function (n) {
          var o = n.length,
            d = o > 1 ? n[o - 1] : t;
          return (d = typeof d == "function" ? (n.pop(), d) : t), Fl(n, d);
        });
        function Ll(n) {
          var o = T(n);
          return (o.__chain__ = !0), o;
        }
        function f6(n, o) {
          return o(n), n;
        }
        function lc(n, o) {
          return o(n);
        }
        var h6 = Sn(function (n) {
          var o = n.length,
            d = o ? n[0] : 0,
            x = this.__wrapped__,
            N = function (D) {
              return Bf(D, n);
            };
          return o > 1 ||
            this.__actions__.length ||
            !(x instanceof St) ||
            !Mn(d)
            ? this.thru(N)
            : ((x = x.slice(d, +d + (o ? 1 : 0))),
              x.__actions__.push({ func: lc, args: [N], thisArg: t }),
              new vi(x, this.__chain__).thru(function (D) {
                return o && !D.length && D.push(t), D;
              }));
        });
        function u6() {
          return Ll(this);
        }
        function d6() {
          return new vi(this.value(), this.__chain__);
        }
        function l6() {
          this.__values__ === t && (this.__values__ = Xl(this.value()));
          var n = this.__index__ >= this.__values__.length,
            o = n ? t : this.__values__[this.__index__++];
          return { done: n, value: o };
        }
        function p6() {
          return this;
        }
        function g6(n) {
          for (var o, d = this; d instanceof Xo; ) {
            var x = Nl(d);
            (x.__index__ = 0),
              (x.__values__ = t),
              o ? (N.__wrapped__ = x) : (o = x);
            var N = x;
            d = d.__wrapped__;
          }
          return (N.__wrapped__ = n), o;
        }
        function v6() {
          var n = this.__wrapped__;
          if (n instanceof St) {
            var o = n;
            return (
              this.__actions__.length && (o = new St(this)),
              (o = o.reverse()),
              o.__actions__.push({ func: lc, args: [hh], thisArg: t }),
              new vi(o, this.__chain__)
            );
          }
          return this.thru(hh);
        }
        function b6() {
          return el(this.__wrapped__, this.__actions__);
        }
        var m6 = sc(function (n, o, d) {
          Bt.call(n, d) ? ++n[d] : En(n, d, 1);
        });
        function y6(n, o, d) {
          var x = gt(n) ? ld : f2;
          return d && qr(n, o, d) && (o = t), x(n, tt(o, 3));
        }
        function w6(n, o) {
          var d = gt(n) ? $n : Fd;
          return d(n, tt(o, 3));
        }
        var _6 = ul(Ol),
          A6 = ul(Tl);
        function x6(n, o) {
          return wr(pc(n, o), 1);
        }
        function E6(n, o) {
          return wr(pc(n, o), I);
        }
        function I6(n, o, d) {
          return (d = d === t ? 1 : mt(d)), wr(pc(n, o), d);
        }
        function kl(n, o) {
          var d = gt(n) ? pi : Hn;
          return d(n, tt(o, 3));
        }
        function zl(n, o) {
          var d = gt(n) ? Kv : Bd;
          return d(n, tt(o, 3));
        }
        var S6 = sc(function (n, o, d) {
          Bt.call(n, d) ? n[d].push(o) : En(n, d, [o]);
        });
        function M6(n, o, d, x) {
          (n = Gr(n) ? n : Xs(n)), (d = d && !x ? mt(d) : 0);
          var N = n.length;
          return (
            d < 0 && (d = hr(N + d, 0)),
            yc(n) ? d <= N && n.indexOf(o, d) > -1 : !!N && zs(n, o, d) > -1
          );
        }
        var P6 = _t(function (n, o, d) {
            var x = -1,
              N = typeof o == "function",
              D = Gr(n) ? ie(n.length) : [];
            return (
              Hn(n, function (K) {
                D[++x] = N ? lr(o, K, d) : Ra(K, o, d);
              }),
              D
            );
          }),
          R6 = sc(function (n, o, d) {
            En(n, d, o);
          });
        function pc(n, o) {
          var d = gt(n) ? Wt : jd;
          return d(n, tt(o, 3));
        }
        function C6(n, o, d, x) {
          return n == null
            ? []
            : (gt(o) || (o = o == null ? [] : [o]),
              (d = x ? t : d),
              gt(d) || (d = d == null ? [] : [d]),
              Gd(n, o, d));
        }
        var N6 = sc(
          function (n, o, d) {
            n[d ? 0 : 1].push(o);
          },
          function () {
            return [[], []];
          }
        );
        function O6(n, o, d) {
          var x = gt(n) ? xf : bd,
            N = arguments.length < 3;
          return x(n, tt(o, 4), d, N, Hn);
        }
        function T6(n, o, d) {
          var x = gt(n) ? Hv : bd,
            N = arguments.length < 3;
          return x(n, tt(o, 4), d, N, Bd);
        }
        function q6(n, o) {
          var d = gt(n) ? $n : Fd;
          return d(n, bc(tt(o, 3)));
        }
        function D6(n) {
          var o = gt(n) ? Od : M2;
          return o(n);
        }
        function B6(n, o, d) {
          (d ? qr(n, o, d) : o === t) ? (o = 1) : (o = mt(o));
          var x = gt(n) ? n2 : P2;
          return x(n, o);
        }
        function F6(n) {
          var o = gt(n) ? s2 : C2;
          return o(n);
        }
        function L6(n) {
          if (n == null) return 0;
          if (Gr(n)) return yc(n) ? Us(n) : n.length;
          var o = Cr(n);
          return o == ce || o == Fe ? n.size : Uf(n).length;
        }
        function k6(n, o, d) {
          var x = gt(n) ? Ef : N2;
          return d && qr(n, o, d) && (o = t), x(n, tt(o, 3));
        }
        var z6 = _t(function (n, o) {
            if (n == null) return [];
            var d = o.length;
            return (
              d > 1 && qr(n, o[0], o[1])
                ? (o = [])
                : d > 2 && qr(o[0], o[1], o[2]) && (o = [o[0]]),
              Gd(n, wr(o, 1), [])
            );
          }),
          gc =
            wb ||
            function () {
              return Rt.Date.now();
            };
        function $6(n, o) {
          if (typeof o != "function") throw new gi(f);
          return (
            (n = mt(n)),
            function () {
              if (--n < 1) return o.apply(this, arguments);
            }
          );
        }
        function $l(n, o, d) {
          return (
            (o = d ? t : o),
            (o = n && o == null ? n.length : o),
            In(n, ne, t, t, t, t, o)
          );
        }
        function Ul(n, o) {
          var d;
          if (typeof o != "function") throw new gi(f);
          return (
            (n = mt(n)),
            function () {
              return (
                --n > 0 && (d = o.apply(this, arguments)), n <= 1 && (o = t), d
              );
            }
          );
        }
        var dh = _t(function (n, o, d) {
            var x = L;
            if (d.length) {
              var N = jn(d, Qs(dh));
              x |= G;
            }
            return In(n, x, o, d, N);
          }),
          jl = _t(function (n, o, d) {
            var x = L | j;
            if (d.length) {
              var N = jn(d, Qs(jl));
              x |= G;
            }
            return In(o, x, n, d, N);
          });
        function Kl(n, o, d) {
          o = d ? t : o;
          var x = In(n, Y, t, t, t, t, t, o);
          return (x.placeholder = Kl.placeholder), x;
        }
        function Hl(n, o, d) {
          o = d ? t : o;
          var x = In(n, Q, t, t, t, t, t, o);
          return (x.placeholder = Hl.placeholder), x;
        }
        function Vl(n, o, d) {
          var x,
            N,
            D,
            K,
            V,
            X,
            he = 0,
            ue = !1,
            pe = !1,
            _e = !0;
          if (typeof n != "function") throw new gi(f);
          (o = wi(o) || 0),
            Qt(d) &&
              ((ue = !!d.leading),
              (pe = "maxWait" in d),
              (D = pe ? hr(wi(d.maxWait) || 0, o) : D),
              (_e = "trailing" in d ? !!d.trailing : _e));
          function ke(ir) {
            var zi = x,
              Cn = N;
            return (x = N = t), (he = ir), (K = n.apply(Cn, zi)), K;
          }
          function nt(ir) {
            return (he = ir), (V = qa(xt, o)), ue ? ke(ir) : K;
          }
          function yt(ir) {
            var zi = ir - X,
              Cn = ir - he,
              u0 = o - zi;
            return pe ? Rr(u0, D - Cn) : u0;
          }
          function st(ir) {
            var zi = ir - X,
              Cn = ir - he;
            return X === t || zi >= o || zi < 0 || (pe && Cn >= D);
          }
          function xt() {
            var ir = gc();
            if (st(ir)) return Ct(ir);
            V = qa(xt, yt(ir));
          }
          function Ct(ir) {
            return (V = t), _e && x ? ke(ir) : ((x = N = t), K);
          }
          function ai() {
            V !== t && rl(V), (he = 0), (x = X = N = V = t);
          }
          function Dr() {
            return V === t ? K : Ct(gc());
          }
          function oi() {
            var ir = gc(),
              zi = st(ir);
            if (((x = arguments), (N = this), (X = ir), zi)) {
              if (V === t) return nt(X);
              if (pe) return rl(V), (V = qa(xt, o)), ke(X);
            }
            return V === t && (V = qa(xt, o)), K;
          }
          return (oi.cancel = ai), (oi.flush = Dr), oi;
        }
        var U6 = _t(function (n, o) {
            return Dd(n, 1, o);
          }),
          j6 = _t(function (n, o, d) {
            return Dd(n, wi(o) || 0, d);
          });
        function K6(n) {
          return In(n, fe);
        }
        function vc(n, o) {
          if (typeof n != "function" || (o != null && typeof o != "function"))
            throw new gi(f);
          var d = function () {
            var x = arguments,
              N = o ? o.apply(this, x) : x[0],
              D = d.cache;
            if (D.has(N)) return D.get(N);
            var K = n.apply(this, x);
            return (d.cache = D.set(N, K) || D), K;
          };
          return (d.cache = new (vc.Cache || xn)()), d;
        }
        vc.Cache = xn;
        function bc(n) {
          if (typeof n != "function") throw new gi(f);
          return function () {
            var o = arguments;
            switch (o.length) {
              case 0:
                return !n.call(this);
              case 1:
                return !n.call(this, o[0]);
              case 2:
                return !n.call(this, o[0], o[1]);
              case 3:
                return !n.call(this, o[0], o[1], o[2]);
            }
            return !n.apply(this, o);
          };
        }
        function H6(n) {
          return Ul(2, n);
        }
        var V6 = O2(function (n, o) {
            o =
              o.length == 1 && gt(o[0])
                ? Wt(o[0], ii(tt()))
                : Wt(wr(o, 1), ii(tt()));
            var d = o.length;
            return _t(function (x) {
              for (var N = -1, D = Rr(x.length, d); ++N < D; )
                x[N] = o[N].call(this, x[N]);
              return lr(n, this, x);
            });
          }),
          lh = _t(function (n, o) {
            var d = jn(o, Qs(lh));
            return In(n, G, t, o, d);
          }),
          Gl = _t(function (n, o) {
            var d = jn(o, Qs(Gl));
            return In(n, ee, t, o, d);
          }),
          G6 = Sn(function (n, o) {
            return In(n, de, t, t, t, o);
          });
        function J6(n, o) {
          if (typeof n != "function") throw new gi(f);
          return (o = o === t ? o : mt(o)), _t(n, o);
        }
        function W6(n, o) {
          if (typeof n != "function") throw new gi(f);
          return (
            (o = o == null ? 0 : hr(mt(o), 0)),
            _t(function (d) {
              var x = d[o],
                N = Jn(d, 0, o);
              return x && Un(N, x), lr(n, this, N);
            })
          );
        }
        function Q6(n, o, d) {
          var x = !0,
            N = !0;
          if (typeof n != "function") throw new gi(f);
          return (
            Qt(d) &&
              ((x = "leading" in d ? !!d.leading : x),
              (N = "trailing" in d ? !!d.trailing : N)),
            Vl(n, o, { leading: x, maxWait: o, trailing: N })
          );
        }
        function Y6(n) {
          return $l(n, 1);
        }
        function X6(n, o) {
          return lh(Yf(o), n);
        }
        function Z6() {
          if (!arguments.length) return [];
          var n = arguments[0];
          return gt(n) ? n : [n];
        }
        function e3(n) {
          return bi(n, R);
        }
        function t3(n, o) {
          return (o = typeof o == "function" ? o : t), bi(n, R, o);
        }
        function r3(n) {
          return bi(n, A | R);
        }
        function i3(n, o) {
          return (o = typeof o == "function" ? o : t), bi(n, A | R, o);
        }
        function n3(n, o) {
          return o == null || qd(n, o, pr(o));
        }
        function ki(n, o) {
          return n === o || (n !== n && o !== o);
        }
        var s3 = fc(kf),
          a3 = fc(function (n, o) {
            return n >= o;
          }),
          bs = zd(
            (function () {
              return arguments;
            })()
          )
            ? zd
            : function (n) {
                return Xt(n) && Bt.call(n, "callee") && !Sd.call(n, "callee");
              },
          gt = ie.isArray,
          o3 = Or ? ii(Or) : g2;
        function Gr(n) {
          return n != null && mc(n.length) && !Pn(n);
        }
        function rr(n) {
          return Xt(n) && Gr(n);
        }
        function c3(n) {
          return n === !0 || n === !1 || (Xt(n) && Tr(n) == $);
        }
        var Wn = Ab || Eh,
          f3 = Bi ? ii(Bi) : v2;
        function h3(n) {
          return Xt(n) && n.nodeType === 1 && !Da(n);
        }
        function u3(n) {
          if (n == null) return !0;
          if (
            Gr(n) &&
            (gt(n) ||
              typeof n == "string" ||
              typeof n.splice == "function" ||
              Wn(n) ||
              Ys(n) ||
              bs(n))
          )
            return !n.length;
          var o = Cr(n);
          if (o == ce || o == Fe) return !n.size;
          if (Ta(n)) return !Uf(n).length;
          for (var d in n) if (Bt.call(n, d)) return !1;
          return !0;
        }
        function d3(n, o) {
          return Ca(n, o);
        }
        function l3(n, o, d) {
          d = typeof d == "function" ? d : t;
          var x = d ? d(n, o) : t;
          return x === t ? Ca(n, o, t, d) : !!x;
        }
        function ph(n) {
          if (!Xt(n)) return !1;
          var o = Tr(n);
          return (
            o == k ||
            o == _ ||
            (typeof n.message == "string" &&
              typeof n.name == "string" &&
              !Da(n))
          );
        }
        function p3(n) {
          return typeof n == "number" && Pd(n);
        }
        function Pn(n) {
          if (!Qt(n)) return !1;
          var o = Tr(n);
          return o == re || o == oe || o == B || o == Ie;
        }
        function Jl(n) {
          return typeof n == "number" && n == mt(n);
        }
        function mc(n) {
          return typeof n == "number" && n > -1 && n % 1 == 0 && n <= S;
        }
        function Qt(n) {
          var o = typeof n;
          return n != null && (o == "object" || o == "function");
        }
        function Xt(n) {
          return n != null && typeof n == "object";
        }
        var Wl = li ? ii(li) : m2;
        function g3(n, o) {
          return n === o || $f(n, o, nh(o));
        }
        function v3(n, o, d) {
          return (d = typeof d == "function" ? d : t), $f(n, o, nh(o), d);
        }
        function b3(n) {
          return Ql(n) && n != +n;
        }
        function m3(n) {
          if (tm(n)) throw new lt(a);
          return $d(n);
        }
        function y3(n) {
          return n === null;
        }
        function w3(n) {
          return n == null;
        }
        function Ql(n) {
          return typeof n == "number" || (Xt(n) && Tr(n) == ge);
        }
        function Da(n) {
          if (!Xt(n) || Tr(n) != Ee) return !1;
          var o = Ho(n);
          if (o === null) return !0;
          var d = Bt.call(o, "constructor") && o.constructor;
          return typeof d == "function" && d instanceof d && $o.call(d) == vb;
        }
        var gh = Xi ? ii(Xi) : y2;
        function _3(n) {
          return Jl(n) && n >= -9007199254740991 && n <= S;
        }
        var Yl = wa ? ii(wa) : w2;
        function yc(n) {
          return typeof n == "string" || (!gt(n) && Xt(n) && Tr(n) == we);
        }
        function si(n) {
          return typeof n == "symbol" || (Xt(n) && Tr(n) == $e);
        }
        var Ys = fs ? ii(fs) : _2;
        function A3(n) {
          return n === t;
        }
        function x3(n) {
          return Xt(n) && Cr(n) == me;
        }
        function E3(n) {
          return Xt(n) && Tr(n) == je;
        }
        var I3 = fc(jf),
          S3 = fc(function (n, o) {
            return n <= o;
          });
        function Xl(n) {
          if (!n) return [];
          if (Gr(n)) return yc(n) ? Fi(n) : Vr(n);
          if (Aa && n[Aa]) return nb(n[Aa]());
          var o = Cr(n),
            d = o == ce ? Cf : o == Fe ? Lo : Xs;
          return d(n);
        }
        function Rn(n) {
          if (!n) return n === 0 ? n : 0;
          if (((n = wi(n)), n === I || n === -1 / 0)) {
            var o = n < 0 ? -1 : 1;
            return o * E;
          }
          return n === n ? n : 0;
        }
        function mt(n) {
          var o = Rn(n),
            d = o % 1;
          return o === o ? (d ? o - d : o) : 0;
        }
        function Zl(n) {
          return n ? ls(mt(n), 0, p) : 0;
        }
        function wi(n) {
          if (typeof n == "number") return n;
          if (si(n)) return l;
          if (Qt(n)) {
            var o = typeof n.valueOf == "function" ? n.valueOf() : n;
            n = Qt(o) ? o + "" : o;
          }
          if (typeof n != "string") return n === 0 ? n : +n;
          n = md(n);
          var d = Ir.test(n);
          return d || Mr.test(n)
            ? pt(n.slice(2), d ? 2 : 8)
            : Er.test(n)
            ? l
            : +n;
        }
        function e0(n) {
          return en(n, Jr(n));
        }
        function M3(n) {
          return n ? ls(mt(n), -9007199254740991, S) : n === 0 ? n : 0;
        }
        function qt(n) {
          return n == null ? "" : ni(n);
        }
        var P3 = Js(function (n, o) {
            if (Ta(o) || Gr(o)) {
              en(o, pr(o), n);
              return;
            }
            for (var d in o) Bt.call(o, d) && Ma(n, d, o[d]);
          }),
          t0 = Js(function (n, o) {
            en(o, Jr(o), n);
          }),
          wc = Js(function (n, o, d, x) {
            en(o, Jr(o), n, x);
          }),
          R3 = Js(function (n, o, d, x) {
            en(o, pr(o), n, x);
          }),
          C3 = Sn(Bf);
        function N3(n, o) {
          var d = Gs(n);
          return o == null ? d : Td(d, o);
        }
        var O3 = _t(function (n, o) {
            n = jt(n);
            var d = -1,
              x = o.length,
              N = x > 2 ? o[2] : t;
            for (N && qr(o[0], o[1], N) && (x = 1); ++d < x; )
              for (var D = o[d], K = Jr(D), V = -1, X = K.length; ++V < X; ) {
                var he = K[V],
                  ue = n[he];
                (ue === t || (ki(ue, Ks[he]) && !Bt.call(n, he))) &&
                  (n[he] = D[he]);
              }
            return n;
          }),
          T3 = _t(function (n) {
            return n.push(t, ml), lr(r0, t, n);
          });
        function q3(n, o) {
          return pd(n, tt(o, 3), Zi);
        }
        function D3(n, o) {
          return pd(n, tt(o, 3), Lf);
        }
        function B3(n, o) {
          return n == null ? n : Ff(n, tt(o, 3), Jr);
        }
        function F3(n, o) {
          return n == null ? n : Ld(n, tt(o, 3), Jr);
        }
        function L3(n, o) {
          return n && Zi(n, tt(o, 3));
        }
        function k3(n, o) {
          return n && Lf(n, tt(o, 3));
        }
        function z3(n) {
          return n == null ? [] : tc(n, pr(n));
        }
        function $3(n) {
          return n == null ? [] : tc(n, Jr(n));
        }
        function vh(n, o, d) {
          var x = n == null ? t : ps(n, o);
          return x === t ? d : x;
        }
        function U3(n, o) {
          return n != null && _l(n, o, u2);
        }
        function bh(n, o) {
          return n != null && _l(n, o, d2);
        }
        var j3 = ll(function (n, o, d) {
            o != null && typeof o.toString != "function" && (o = Uo.call(o)),
              (n[o] = d);
          }, yh(Wr)),
          K3 = ll(function (n, o, d) {
            o != null && typeof o.toString != "function" && (o = Uo.call(o)),
              Bt.call(n, o) ? n[o].push(d) : (n[o] = [d]);
          }, tt),
          H3 = _t(Ra);
        function pr(n) {
          return Gr(n) ? Nd(n) : Uf(n);
        }
        function Jr(n) {
          return Gr(n) ? Nd(n, !0) : A2(n);
        }
        function V3(n, o) {
          var d = {};
          return (
            (o = tt(o, 3)),
            Zi(n, function (x, N, D) {
              En(d, o(x, N, D), x);
            }),
            d
          );
        }
        function G3(n, o) {
          var d = {};
          return (
            (o = tt(o, 3)),
            Zi(n, function (x, N, D) {
              En(d, N, o(x, N, D));
            }),
            d
          );
        }
        var J3 = Js(function (n, o, d) {
            rc(n, o, d);
          }),
          r0 = Js(function (n, o, d, x) {
            rc(n, o, d, x);
          }),
          W3 = Sn(function (n, o) {
            var d = {};
            if (n == null) return d;
            var x = !1;
            (o = Wt(o, function (D) {
              return (D = Gn(D, n)), x || (x = D.length > 1), D;
            })),
              en(n, rh(n), d),
              x && (d = bi(d, A | P | R, j2));
            for (var N = o.length; N--; ) Jf(d, o[N]);
            return d;
          });
        function Q3(n, o) {
          return i0(n, bc(tt(o)));
        }
        var Y3 = Sn(function (n, o) {
          return n == null ? {} : E2(n, o);
        });
        function i0(n, o) {
          if (n == null) return {};
          var d = Wt(rh(n), function (x) {
            return [x];
          });
          return (
            (o = tt(o)),
            Jd(n, d, function (x, N) {
              return o(x, N[0]);
            })
          );
        }
        function X3(n, o, d) {
          o = Gn(o, n);
          var x = -1,
            N = o.length;
          for (N || ((N = 1), (n = t)); ++x < N; ) {
            var D = n == null ? t : n[tn(o[x])];
            D === t && ((x = N), (D = d)), (n = Pn(D) ? D.call(n) : D);
          }
          return n;
        }
        function Z3(n, o, d) {
          return n == null ? n : Na(n, o, d);
        }
        function ey(n, o, d, x) {
          return (
            (x = typeof x == "function" ? x : t), n == null ? n : Na(n, o, d, x)
          );
        }
        var n0 = vl(pr),
          s0 = vl(Jr);
        function ty(n, o, d) {
          var x = gt(n),
            N = x || Wn(n) || Ys(n);
          if (((o = tt(o, 4)), d == null)) {
            var D = n && n.constructor;
            N
              ? (d = x ? new D() : [])
              : Qt(n)
              ? (d = Pn(D) ? Gs(Ho(n)) : {})
              : (d = {});
          }
          return (
            (N ? pi : Zi)(n, function (K, V, X) {
              return o(d, K, V, X);
            }),
            d
          );
        }
        function ry(n, o) {
          return n == null ? !0 : Jf(n, o);
        }
        function iy(n, o, d) {
          return n == null ? n : Zd(n, o, Yf(d));
        }
        function ny(n, o, d, x) {
          return (
            (x = typeof x == "function" ? x : t),
            n == null ? n : Zd(n, o, Yf(d), x)
          );
        }
        function Xs(n) {
          return n == null ? [] : Rf(n, pr(n));
        }
        function sy(n) {
          return n == null ? [] : Rf(n, Jr(n));
        }
        function ay(n, o, d) {
          return (
            d === t && ((d = o), (o = t)),
            d !== t && ((d = wi(d)), (d = d === d ? d : 0)),
            o !== t && ((o = wi(o)), (o = o === o ? o : 0)),
            ls(wi(n), o, d)
          );
        }
        function oy(n, o, d) {
          return (
            (o = Rn(o)),
            d === t ? ((d = o), (o = 0)) : (d = Rn(d)),
            (n = wi(n)),
            l2(n, o, d)
          );
        }
        function cy(n, o, d) {
          if (
            (d && typeof d != "boolean" && qr(n, o, d) && (o = d = t),
            d === t &&
              (typeof o == "boolean"
                ? ((d = o), (o = t))
                : typeof n == "boolean" && ((d = n), (n = t))),
            n === t && o === t
              ? ((n = 0), (o = 1))
              : ((n = Rn(n)), o === t ? ((o = n), (n = 0)) : (o = Rn(o))),
            n > o)
          ) {
            var x = n;
            (n = o), (o = x);
          }
          if (d || n % 1 || o % 1) {
            var N = Rd();
            return Rr(n + N * (o - n + $t("1e-" + ((N + "").length - 1))), o);
          }
          return Hf(n, o);
        }
        var fy = Ws(function (n, o, d) {
          return (o = o.toLowerCase()), n + (d ? a0(o) : o);
        });
        function a0(n) {
          return mh(qt(n).toLowerCase());
        }
        function o0(n) {
          return (n = qt(n)), n && n.replace(Yt, Zv).replace(wf, "");
        }
        function hy(n, o, d) {
          (n = qt(n)), (o = ni(o));
          var x = n.length;
          d = d === t ? x : ls(mt(d), 0, x);
          var N = d;
          return (d -= o.length), d >= 0 && n.slice(d, N) == o;
        }
        function uy(n) {
          return (n = qt(n)), n && Ge.test(n) ? n.replace(It, eb) : n;
        }
        function dy(n) {
          return (n = qt(n)), n && Oe.test(n) ? n.replace(Ze, "\\$&") : n;
        }
        var ly = Ws(function (n, o, d) {
            return n + (d ? "-" : "") + o.toLowerCase();
          }),
          py = Ws(function (n, o, d) {
            return n + (d ? " " : "") + o.toLowerCase();
          }),
          gy = hl("toLowerCase");
        function vy(n, o, d) {
          (n = qt(n)), (o = mt(o));
          var x = o ? Us(n) : 0;
          if (!o || x >= o) return n;
          var N = (o - x) / 2;
          return cc(Wo(N), d) + n + cc(Jo(N), d);
        }
        function by(n, o, d) {
          (n = qt(n)), (o = mt(o));
          var x = o ? Us(n) : 0;
          return o && x < o ? n + cc(o - x, d) : n;
        }
        function my(n, o, d) {
          (n = qt(n)), (o = mt(o));
          var x = o ? Us(n) : 0;
          return o && x < o ? cc(o - x, d) + n : n;
        }
        function yy(n, o, d) {
          return (
            d || o == null ? (o = 0) : o && (o = +o),
            Sb(qt(n).replace(et, ""), o || 0)
          );
        }
        function wy(n, o, d) {
          return (
            (d ? qr(n, o, d) : o === t) ? (o = 1) : (o = mt(o)), Vf(qt(n), o)
          );
        }
        function _y() {
          var n = arguments,
            o = qt(n[0]);
          return n.length < 3 ? o : o.replace(n[1], n[2]);
        }
        var Ay = Ws(function (n, o, d) {
          return n + (d ? "_" : "") + o.toLowerCase();
        });
        function xy(n, o, d) {
          return (
            d && typeof d != "number" && qr(n, o, d) && (o = d = t),
            (d = d === t ? p : d >>> 0),
            d
              ? ((n = qt(n)),
                n &&
                (typeof o == "string" || (o != null && !gh(o))) &&
                ((o = ni(o)), !o && $s(n))
                  ? Jn(Fi(n), 0, d)
                  : n.split(o, d))
              : []
          );
        }
        var Ey = Ws(function (n, o, d) {
          return n + (d ? " " : "") + mh(o);
        });
        function Iy(n, o, d) {
          return (
            (n = qt(n)),
            (d = d == null ? 0 : ls(mt(d), 0, n.length)),
            (o = ni(o)),
            n.slice(d, d + o.length) == o
          );
        }
        function Sy(n, o, d) {
          var x = T.templateSettings;
          d && qr(n, o, d) && (o = t), (n = qt(n)), (o = wc({}, o, x, bl));
          var N = wc({}, o.imports, x.imports, bl),
            D = pr(N),
            K = Rf(N, D),
            V,
            X,
            he = 0,
            ue = o.interpolate || Ur,
            pe = "__p += '",
            _e = Nf(
              (o.escape || Ur).source +
                "|" +
                ue.source +
                "|" +
                (ue === Qe ? it : Ur).source +
                "|" +
                (o.evaluate || Ur).source +
                "|$",
              "g"
            ),
            ke =
              "//# sourceURL=" +
              (Bt.call(o, "sourceURL")
                ? (o.sourceURL + "").replace(/\s/g, " ")
                : "lodash.templateSources[" + ++_f + "]") +
              `
`;
          n.replace(_e, function (st, xt, Ct, ai, Dr, oi) {
            return (
              Ct || (Ct = ai),
              (pe += n.slice(he, oi).replace(Ci, tb)),
              xt &&
                ((V = !0),
                (pe +=
                  `' +
__e(` +
                  xt +
                  `) +
'`)),
              Dr &&
                ((X = !0),
                (pe +=
                  `';
` +
                  Dr +
                  `;
__p += '`)),
              Ct &&
                (pe +=
                  `' +
((__t = (` +
                  Ct +
                  `)) == null ? '' : __t) +
'`),
              (he = oi + st.length),
              st
            );
          }),
            (pe += `';
`);
          var nt = Bt.call(o, "variable") && o.variable;
          if (!nt)
            pe =
              `with (obj) {
` +
              pe +
              `
}
`;
          else if (Nt.test(nt)) throw new lt(g);
          (pe = (X ? pe.replace(wt, "") : pe)
            .replace(dt, "$1")
            .replace(Ke, "$1;")),
            (pe =
              "function(" +
              (nt || "obj") +
              `) {
` +
              (nt
                ? ""
                : `obj || (obj = {});
`) +
              "var __t, __p = ''" +
              (V ? ", __e = _.escape" : "") +
              (X
                ? `, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`
                : `;
`) +
              pe +
              `return __p
}`);
          var yt = f0(function () {
            return Tt(D, ke + "return " + pe).apply(t, K);
          });
          if (((yt.source = pe), ph(yt))) throw yt;
          return yt;
        }
        function My(n) {
          return qt(n).toLowerCase();
        }
        function Py(n) {
          return qt(n).toUpperCase();
        }
        function Ry(n, o, d) {
          if (((n = qt(n)), n && (d || o === t))) return md(n);
          if (!n || !(o = ni(o))) return n;
          var x = Fi(n),
            N = Fi(o),
            D = yd(x, N),
            K = wd(x, N) + 1;
          return Jn(x, D, K).join("");
        }
        function Cy(n, o, d) {
          if (((n = qt(n)), n && (d || o === t))) return n.slice(0, Ad(n) + 1);
          if (!n || !(o = ni(o))) return n;
          var x = Fi(n),
            N = wd(x, Fi(o)) + 1;
          return Jn(x, 0, N).join("");
        }
        function Ny(n, o, d) {
          if (((n = qt(n)), n && (d || o === t))) return n.replace(et, "");
          if (!n || !(o = ni(o))) return n;
          var x = Fi(n),
            N = yd(x, Fi(o));
          return Jn(x, N).join("");
        }
        function Oy(n, o) {
          var d = xe,
            x = F;
          if (Qt(o)) {
            var N = "separator" in o ? o.separator : N;
            (d = "length" in o ? mt(o.length) : d),
              (x = "omission" in o ? ni(o.omission) : x);
          }
          n = qt(n);
          var D = n.length;
          if ($s(n)) {
            var K = Fi(n);
            D = K.length;
          }
          if (d >= D) return n;
          var V = d - Us(x);
          if (V < 1) return x;
          var X = K ? Jn(K, 0, V).join("") : n.slice(0, V);
          if (N === t) return X + x;
          if ((K && (V += X.length - V), gh(N))) {
            if (n.slice(V).search(N)) {
              var he,
                ue = X;
              for (
                N.global || (N = Nf(N.source, qt(bt.exec(N)) + "g")),
                  N.lastIndex = 0;
                (he = N.exec(ue));

              )
                var pe = he.index;
              X = X.slice(0, pe === t ? V : pe);
            }
          } else if (n.indexOf(ni(N), V) != V) {
            var _e = X.lastIndexOf(N);
            _e > -1 && (X = X.slice(0, _e));
          }
          return X + x;
        }
        function Ty(n) {
          return (n = qt(n)), n && Se.test(n) ? n.replace(At, cb) : n;
        }
        var qy = Ws(function (n, o, d) {
            return n + (d ? " " : "") + o.toUpperCase();
          }),
          mh = hl("toUpperCase");
        function c0(n, o, d) {
          return (
            (n = qt(n)),
            (o = d ? t : o),
            o === t ? (ib(n) ? ub(n) : Jv(n)) : n.match(o) || []
          );
        }
        var f0 = _t(function (n, o) {
            try {
              return lr(n, t, o);
            } catch (d) {
              return ph(d) ? d : new lt(d);
            }
          }),
          Dy = Sn(function (n, o) {
            return (
              pi(o, function (d) {
                (d = tn(d)), En(n, d, dh(n[d], n));
              }),
              n
            );
          });
        function By(n) {
          var o = n == null ? 0 : n.length,
            d = tt();
          return (
            (n = o
              ? Wt(n, function (x) {
                  if (typeof x[1] != "function") throw new gi(f);
                  return [d(x[0]), x[1]];
                })
              : []),
            _t(function (x) {
              for (var N = -1; ++N < o; ) {
                var D = n[N];
                if (lr(D[0], this, x)) return lr(D[1], this, x);
              }
            })
          );
        }
        function Fy(n) {
          return c2(bi(n, A));
        }
        function yh(n) {
          return function () {
            return n;
          };
        }
        function Ly(n, o) {
          return n == null || n !== n ? o : n;
        }
        var ky = dl(),
          zy = dl(!0);
        function Wr(n) {
          return n;
        }
        function wh(n) {
          return Ud(typeof n == "function" ? n : bi(n, A));
        }
        function $y(n) {
          return Kd(bi(n, A));
        }
        function Uy(n, o) {
          return Hd(n, bi(o, A));
        }
        var jy = _t(function (n, o) {
            return function (d) {
              return Ra(d, n, o);
            };
          }),
          Ky = _t(function (n, o) {
            return function (d) {
              return Ra(n, d, o);
            };
          });
        function _h(n, o, d) {
          var x = pr(o),
            N = tc(o, x);
          d == null &&
            !(Qt(o) && (N.length || !x.length)) &&
            ((d = o), (o = n), (n = this), (N = tc(o, pr(o))));
          var D = !(Qt(d) && "chain" in d) || !!d.chain,
            K = Pn(n);
          return (
            pi(N, function (V) {
              var X = o[V];
              (n[V] = X),
                K &&
                  (n.prototype[V] = function () {
                    var he = this.__chain__;
                    if (D || he) {
                      var ue = n(this.__wrapped__),
                        pe = (ue.__actions__ = Vr(this.__actions__));
                      return (
                        pe.push({ func: X, args: arguments, thisArg: n }),
                        (ue.__chain__ = he),
                        ue
                      );
                    }
                    return X.apply(n, Un([this.value()], arguments));
                  });
            }),
            n
          );
        }
        function Hy() {
          return Rt._ === this && (Rt._ = bb), this;
        }
        function Ah() {}
        function Vy(n) {
          return (
            (n = mt(n)),
            _t(function (o) {
              return Vd(o, n);
            })
          );
        }
        var Gy = Zf(Wt),
          Jy = Zf(ld),
          Wy = Zf(Ef);
        function h0(n) {
          return ah(n) ? If(tn(n)) : I2(n);
        }
        function Qy(n) {
          return function (o) {
            return n == null ? t : ps(n, o);
          };
        }
        var Yy = pl(),
          Xy = pl(!0);
        function xh() {
          return [];
        }
        function Eh() {
          return !1;
        }
        function Zy() {
          return {};
        }
        function e5() {
          return "";
        }
        function t5() {
          return !0;
        }
        function r5(n, o) {
          if (((n = mt(n)), n < 1 || n > S)) return [];
          var d = p,
            x = Rr(n, p);
          (o = tt(o)), (n -= p);
          for (var N = Pf(x, o); ++d < n; ) o(d);
          return N;
        }
        function i5(n) {
          return gt(n) ? Wt(n, tn) : si(n) ? [n] : Vr(Cl(qt(n)));
        }
        function n5(n) {
          var o = ++gb;
          return qt(n) + o;
        }
        var s5 = oc(function (n, o) {
            return n + o;
          }, 0),
          a5 = eh("ceil"),
          o5 = oc(function (n, o) {
            return n / o;
          }, 1),
          c5 = eh("floor");
        function f5(n) {
          return n && n.length ? ec(n, Wr, kf) : t;
        }
        function h5(n, o) {
          return n && n.length ? ec(n, tt(o, 2), kf) : t;
        }
        function u5(n) {
          return vd(n, Wr);
        }
        function d5(n, o) {
          return vd(n, tt(o, 2));
        }
        function l5(n) {
          return n && n.length ? ec(n, Wr, jf) : t;
        }
        function p5(n, o) {
          return n && n.length ? ec(n, tt(o, 2), jf) : t;
        }
        var g5 = oc(function (n, o) {
            return n * o;
          }, 1),
          v5 = eh("round"),
          b5 = oc(function (n, o) {
            return n - o;
          }, 0);
        function m5(n) {
          return n && n.length ? Mf(n, Wr) : 0;
        }
        function y5(n, o) {
          return n && n.length ? Mf(n, tt(o, 2)) : 0;
        }
        return (
          (T.after = $6),
          (T.ary = $l),
          (T.assign = P3),
          (T.assignIn = t0),
          (T.assignInWith = wc),
          (T.assignWith = R3),
          (T.at = C3),
          (T.before = Ul),
          (T.bind = dh),
          (T.bindAll = Dy),
          (T.bindKey = jl),
          (T.castArray = Z6),
          (T.chain = Ll),
          (T.chunk = cm),
          (T.compact = fm),
          (T.concat = hm),
          (T.cond = By),
          (T.conforms = Fy),
          (T.constant = yh),
          (T.countBy = m6),
          (T.create = N3),
          (T.curry = Kl),
          (T.curryRight = Hl),
          (T.debounce = Vl),
          (T.defaults = O3),
          (T.defaultsDeep = T3),
          (T.defer = U6),
          (T.delay = j6),
          (T.difference = um),
          (T.differenceBy = dm),
          (T.differenceWith = lm),
          (T.drop = pm),
          (T.dropRight = gm),
          (T.dropRightWhile = vm),
          (T.dropWhile = bm),
          (T.fill = mm),
          (T.filter = w6),
          (T.flatMap = x6),
          (T.flatMapDeep = E6),
          (T.flatMapDepth = I6),
          (T.flatten = ql),
          (T.flattenDeep = ym),
          (T.flattenDepth = wm),
          (T.flip = K6),
          (T.flow = ky),
          (T.flowRight = zy),
          (T.fromPairs = _m),
          (T.functions = z3),
          (T.functionsIn = $3),
          (T.groupBy = S6),
          (T.initial = xm),
          (T.intersection = Em),
          (T.intersectionBy = Im),
          (T.intersectionWith = Sm),
          (T.invert = j3),
          (T.invertBy = K3),
          (T.invokeMap = P6),
          (T.iteratee = wh),
          (T.keyBy = R6),
          (T.keys = pr),
          (T.keysIn = Jr),
          (T.map = pc),
          (T.mapKeys = V3),
          (T.mapValues = G3),
          (T.matches = $y),
          (T.matchesProperty = Uy),
          (T.memoize = vc),
          (T.merge = J3),
          (T.mergeWith = r0),
          (T.method = jy),
          (T.methodOf = Ky),
          (T.mixin = _h),
          (T.negate = bc),
          (T.nthArg = Vy),
          (T.omit = W3),
          (T.omitBy = Q3),
          (T.once = H6),
          (T.orderBy = C6),
          (T.over = Gy),
          (T.overArgs = V6),
          (T.overEvery = Jy),
          (T.overSome = Wy),
          (T.partial = lh),
          (T.partialRight = Gl),
          (T.partition = N6),
          (T.pick = Y3),
          (T.pickBy = i0),
          (T.property = h0),
          (T.propertyOf = Qy),
          (T.pull = Cm),
          (T.pullAll = Bl),
          (T.pullAllBy = Nm),
          (T.pullAllWith = Om),
          (T.pullAt = Tm),
          (T.range = Yy),
          (T.rangeRight = Xy),
          (T.rearg = G6),
          (T.reject = q6),
          (T.remove = qm),
          (T.rest = J6),
          (T.reverse = hh),
          (T.sampleSize = B6),
          (T.set = Z3),
          (T.setWith = ey),
          (T.shuffle = F6),
          (T.slice = Dm),
          (T.sortBy = z6),
          (T.sortedUniq = Um),
          (T.sortedUniqBy = jm),
          (T.split = xy),
          (T.spread = W6),
          (T.tail = Km),
          (T.take = Hm),
          (T.takeRight = Vm),
          (T.takeRightWhile = Gm),
          (T.takeWhile = Jm),
          (T.tap = f6),
          (T.throttle = Q6),
          (T.thru = lc),
          (T.toArray = Xl),
          (T.toPairs = n0),
          (T.toPairsIn = s0),
          (T.toPath = i5),
          (T.toPlainObject = e0),
          (T.transform = ty),
          (T.unary = Y6),
          (T.union = Wm),
          (T.unionBy = Qm),
          (T.unionWith = Ym),
          (T.uniq = Xm),
          (T.uniqBy = Zm),
          (T.uniqWith = e6),
          (T.unset = ry),
          (T.unzip = uh),
          (T.unzipWith = Fl),
          (T.update = iy),
          (T.updateWith = ny),
          (T.values = Xs),
          (T.valuesIn = sy),
          (T.without = t6),
          (T.words = c0),
          (T.wrap = X6),
          (T.xor = r6),
          (T.xorBy = i6),
          (T.xorWith = n6),
          (T.zip = s6),
          (T.zipObject = a6),
          (T.zipObjectDeep = o6),
          (T.zipWith = c6),
          (T.entries = n0),
          (T.entriesIn = s0),
          (T.extend = t0),
          (T.extendWith = wc),
          _h(T, T),
          (T.add = s5),
          (T.attempt = f0),
          (T.camelCase = fy),
          (T.capitalize = a0),
          (T.ceil = a5),
          (T.clamp = ay),
          (T.clone = e3),
          (T.cloneDeep = r3),
          (T.cloneDeepWith = i3),
          (T.cloneWith = t3),
          (T.conformsTo = n3),
          (T.deburr = o0),
          (T.defaultTo = Ly),
          (T.divide = o5),
          (T.endsWith = hy),
          (T.eq = ki),
          (T.escape = uy),
          (T.escapeRegExp = dy),
          (T.every = y6),
          (T.find = _6),
          (T.findIndex = Ol),
          (T.findKey = q3),
          (T.findLast = A6),
          (T.findLastIndex = Tl),
          (T.findLastKey = D3),
          (T.floor = c5),
          (T.forEach = kl),
          (T.forEachRight = zl),
          (T.forIn = B3),
          (T.forInRight = F3),
          (T.forOwn = L3),
          (T.forOwnRight = k3),
          (T.get = vh),
          (T.gt = s3),
          (T.gte = a3),
          (T.has = U3),
          (T.hasIn = bh),
          (T.head = Dl),
          (T.identity = Wr),
          (T.includes = M6),
          (T.indexOf = Am),
          (T.inRange = oy),
          (T.invoke = H3),
          (T.isArguments = bs),
          (T.isArray = gt),
          (T.isArrayBuffer = o3),
          (T.isArrayLike = Gr),
          (T.isArrayLikeObject = rr),
          (T.isBoolean = c3),
          (T.isBuffer = Wn),
          (T.isDate = f3),
          (T.isElement = h3),
          (T.isEmpty = u3),
          (T.isEqual = d3),
          (T.isEqualWith = l3),
          (T.isError = ph),
          (T.isFinite = p3),
          (T.isFunction = Pn),
          (T.isInteger = Jl),
          (T.isLength = mc),
          (T.isMap = Wl),
          (T.isMatch = g3),
          (T.isMatchWith = v3),
          (T.isNaN = b3),
          (T.isNative = m3),
          (T.isNil = w3),
          (T.isNull = y3),
          (T.isNumber = Ql),
          (T.isObject = Qt),
          (T.isObjectLike = Xt),
          (T.isPlainObject = Da),
          (T.isRegExp = gh),
          (T.isSafeInteger = _3),
          (T.isSet = Yl),
          (T.isString = yc),
          (T.isSymbol = si),
          (T.isTypedArray = Ys),
          (T.isUndefined = A3),
          (T.isWeakMap = x3),
          (T.isWeakSet = E3),
          (T.join = Mm),
          (T.kebabCase = ly),
          (T.last = yi),
          (T.lastIndexOf = Pm),
          (T.lowerCase = py),
          (T.lowerFirst = gy),
          (T.lt = I3),
          (T.lte = S3),
          (T.max = f5),
          (T.maxBy = h5),
          (T.mean = u5),
          (T.meanBy = d5),
          (T.min = l5),
          (T.minBy = p5),
          (T.stubArray = xh),
          (T.stubFalse = Eh),
          (T.stubObject = Zy),
          (T.stubString = e5),
          (T.stubTrue = t5),
          (T.multiply = g5),
          (T.nth = Rm),
          (T.noConflict = Hy),
          (T.noop = Ah),
          (T.now = gc),
          (T.pad = vy),
          (T.padEnd = by),
          (T.padStart = my),
          (T.parseInt = yy),
          (T.random = cy),
          (T.reduce = O6),
          (T.reduceRight = T6),
          (T.repeat = wy),
          (T.replace = _y),
          (T.result = X3),
          (T.round = v5),
          (T.runInContext = W),
          (T.sample = D6),
          (T.size = L6),
          (T.snakeCase = Ay),
          (T.some = k6),
          (T.sortedIndex = Bm),
          (T.sortedIndexBy = Fm),
          (T.sortedIndexOf = Lm),
          (T.sortedLastIndex = km),
          (T.sortedLastIndexBy = zm),
          (T.sortedLastIndexOf = $m),
          (T.startCase = Ey),
          (T.startsWith = Iy),
          (T.subtract = b5),
          (T.sum = m5),
          (T.sumBy = y5),
          (T.template = Sy),
          (T.times = r5),
          (T.toFinite = Rn),
          (T.toInteger = mt),
          (T.toLength = Zl),
          (T.toLower = My),
          (T.toNumber = wi),
          (T.toSafeInteger = M3),
          (T.toString = qt),
          (T.toUpper = Py),
          (T.trim = Ry),
          (T.trimEnd = Cy),
          (T.trimStart = Ny),
          (T.truncate = Oy),
          (T.unescape = Ty),
          (T.uniqueId = n5),
          (T.upperCase = qy),
          (T.upperFirst = mh),
          (T.each = kl),
          (T.eachRight = zl),
          (T.first = Dl),
          _h(
            T,
            (function () {
              var n = {};
              return (
                Zi(T, function (o, d) {
                  Bt.call(T.prototype, d) || (n[d] = o);
                }),
                n
              );
            })(),
            { chain: !1 }
          ),
          (T.VERSION = i),
          pi(
            [
              "bind",
              "bindKey",
              "curry",
              "curryRight",
              "partial",
              "partialRight",
            ],
            function (n) {
              T[n].placeholder = T;
            }
          ),
          pi(["drop", "take"], function (n, o) {
            (St.prototype[n] = function (d) {
              d = d === t ? 1 : hr(mt(d), 0);
              var x = this.__filtered__ && !o ? new St(this) : this.clone();
              return (
                x.__filtered__
                  ? (x.__takeCount__ = Rr(d, x.__takeCount__))
                  : x.__views__.push({
                      size: Rr(d, p),
                      type: n + (x.__dir__ < 0 ? "Right" : ""),
                    }),
                x
              );
            }),
              (St.prototype[n + "Right"] = function (d) {
                return this.reverse()[n](d).reverse();
              });
          }),
          pi(["filter", "map", "takeWhile"], function (n, o) {
            var d = o + 1,
              x = d == u || d == w;
            St.prototype[n] = function (N) {
              var D = this.clone();
              return (
                D.__iteratees__.push({ iteratee: tt(N, 3), type: d }),
                (D.__filtered__ = D.__filtered__ || x),
                D
              );
            };
          }),
          pi(["head", "last"], function (n, o) {
            var d = "take" + (o ? "Right" : "");
            St.prototype[n] = function () {
              return this[d](1).value()[0];
            };
          }),
          pi(["initial", "tail"], function (n, o) {
            var d = "drop" + (o ? "" : "Right");
            St.prototype[n] = function () {
              return this.__filtered__ ? new St(this) : this[d](1);
            };
          }),
          (St.prototype.compact = function () {
            return this.filter(Wr);
          }),
          (St.prototype.find = function (n) {
            return this.filter(n).head();
          }),
          (St.prototype.findLast = function (n) {
            return this.reverse().find(n);
          }),
          (St.prototype.invokeMap = _t(function (n, o) {
            return typeof n == "function"
              ? new St(this)
              : this.map(function (d) {
                  return Ra(d, n, o);
                });
          })),
          (St.prototype.reject = function (n) {
            return this.filter(bc(tt(n)));
          }),
          (St.prototype.slice = function (n, o) {
            n = mt(n);
            var d = this;
            return d.__filtered__ && (n > 0 || o < 0)
              ? new St(d)
              : (n < 0 ? (d = d.takeRight(-n)) : n && (d = d.drop(n)),
                o !== t &&
                  ((o = mt(o)), (d = o < 0 ? d.dropRight(-o) : d.take(o - n))),
                d);
          }),
          (St.prototype.takeRightWhile = function (n) {
            return this.reverse().takeWhile(n).reverse();
          }),
          (St.prototype.toArray = function () {
            return this.take(p);
          }),
          Zi(St.prototype, function (n, o) {
            var d = /^(?:filter|find|map|reject)|While$/.test(o),
              x = /^(?:head|last)$/.test(o),
              N = T[x ? "take" + (o == "last" ? "Right" : "") : o],
              D = x || /^find/.test(o);
            N &&
              (T.prototype[o] = function () {
                var K = this.__wrapped__,
                  V = x ? [1] : arguments,
                  X = K instanceof St,
                  he = V[0],
                  ue = X || gt(K),
                  pe = function (xt) {
                    var Ct = N.apply(T, Un([xt], V));
                    return x && _e ? Ct[0] : Ct;
                  };
                ue &&
                  d &&
                  typeof he == "function" &&
                  he.length != 1 &&
                  (X = ue = !1);
                var _e = this.__chain__,
                  ke = !!this.__actions__.length,
                  nt = D && !_e,
                  yt = X && !ke;
                if (!D && ue) {
                  K = yt ? K : new St(this);
                  var st = n.apply(K, V);
                  return (
                    st.__actions__.push({ func: lc, args: [pe], thisArg: t }),
                    new vi(st, _e)
                  );
                }
                return nt && yt
                  ? n.apply(this, V)
                  : ((st = this.thru(pe)),
                    nt ? (x ? st.value()[0] : st.value()) : st);
              });
          }),
          pi(
            ["pop", "push", "shift", "sort", "splice", "unshift"],
            function (n) {
              var o = ko[n],
                d = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
                x = /^(?:pop|shift)$/.test(n);
              T.prototype[n] = function () {
                var N = arguments;
                if (x && !this.__chain__) {
                  var D = this.value();
                  return o.apply(gt(D) ? D : [], N);
                }
                return this[d](function (K) {
                  return o.apply(gt(K) ? K : [], N);
                });
              };
            }
          ),
          Zi(St.prototype, function (n, o) {
            var d = T[o];
            if (d) {
              var x = d.name + "";
              Bt.call(Vs, x) || (Vs[x] = []), Vs[x].push({ name: o, func: d });
            }
          }),
          (Vs[ac(t, j).name] = [{ name: "wrapper", func: t }]),
          (St.prototype.clone = Tb),
          (St.prototype.reverse = qb),
          (St.prototype.value = Db),
          (T.prototype.at = h6),
          (T.prototype.chain = u6),
          (T.prototype.commit = d6),
          (T.prototype.next = l6),
          (T.prototype.plant = g6),
          (T.prototype.reverse = v6),
          (T.prototype.toJSON = T.prototype.valueOf = T.prototype.value = b6),
          (T.prototype.first = T.prototype.head),
          Aa && (T.prototype[Aa] = p6),
          T
        );
      },
      js = db();
    tr ? (((tr.exports = js)._ = js), (Ut._ = js)) : (Rt._ = js);
  }.call(Va));
})(Uu, Uu.exports);
var mS = Object.defineProperty,
  yS = Object.defineProperties,
  wS = Object.getOwnPropertyDescriptors,
  k1 = Object.getOwnPropertySymbols,
  _S = Object.prototype.hasOwnProperty,
  AS = Object.prototype.propertyIsEnumerable,
  z1 = (r, e, t) =>
    e in r
      ? mS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Nc = (r, e) => {
    for (var t in e || (e = {})) _S.call(e, t) && z1(r, t, e[t]);
    if (k1) for (var t of k1(e)) AS.call(e, t) && z1(r, t, e[t]);
    return r;
  },
  xS = (r, e) => yS(r, wS(e));
function Ji(r, e, t) {
  var i;
  const s = Xa(r);
  return (
    ((i = e.rpcMap) == null ? void 0 : i[s.reference]) ||
    `${zv}?chainId=${s.namespace}:${s.reference}&projectId=${t}`
  );
}
function Ds(r) {
  return r.includes(":") ? r.split(":")[1] : r;
}
function $v(r) {
  return r.map((e) => `${e.split(":")[0]}:${e.split(":")[1]}`);
}
function ES(r, e) {
  const t = Object.keys(e.namespaces).filter((s) => s.includes(r));
  if (!t.length) return [];
  const i = [];
  return (
    t.forEach((s) => {
      const a = e.namespaces[s].accounts;
      i.push(...a);
    }),
    i
  );
}
function Eu(r = {}, e = {}) {
  const t = $1(r),
    i = $1(e);
  return Uu.exports.merge(t, i);
}
function $1(r) {
  var e, t, i, s;
  const a = {};
  if (!ao(r)) return a;
  for (const [f, g] of Object.entries(r)) {
    const v = sd(f) ? [f] : g.chains,
      h = g.methods || [],
      y = g.events || [],
      A = g.rpcMap || {},
      P = Qa(f);
    a[P] = xS(Nc(Nc({}, a[P]), g), {
      chains: Lc(v, (e = a[P]) == null ? void 0 : e.chains),
      methods: Lc(h, (t = a[P]) == null ? void 0 : t.methods),
      events: Lc(y, (i = a[P]) == null ? void 0 : i.events),
      rpcMap: Nc(Nc({}, A), (s = a[P]) == null ? void 0 : s.rpcMap),
    });
  }
  return a;
}
function IS(r) {
  return r.includes(":") ? r.split(":")[2] : r;
}
function U1(r) {
  const e = {};
  for (const [t, i] of Object.entries(r)) {
    const s = i.methods || [],
      a = i.events || [],
      f = i.accounts || [],
      g = sd(t) ? [t] : i.chains ? i.chains : $v(i.accounts);
    e[t] = { chains: g, methods: s, events: a, accounts: f };
  }
  return e;
}
function Iu(r) {
  return typeof r == "number"
    ? r
    : r.includes("0x")
    ? parseInt(r, 16)
    : ((r = r.includes(":") ? r.split(":")[1] : r),
      isNaN(Number(r)) ? r : Number(r));
}
const Uv = {},
  Dt = (r) => Uv[r],
  Su = (r, e) => {
    Uv[r] = e;
  };
class SS {
  constructor(e) {
    (this.name = "polkadot"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Ds(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
var MS = Object.defineProperty,
  PS = Object.defineProperties,
  RS = Object.getOwnPropertyDescriptors,
  j1 = Object.getOwnPropertySymbols,
  CS = Object.prototype.hasOwnProperty,
  NS = Object.prototype.propertyIsEnumerable,
  K1 = (r, e, t) =>
    e in r
      ? MS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  H1 = (r, e) => {
    for (var t in e || (e = {})) CS.call(e, t) && K1(r, t, e[t]);
    if (j1) for (var t of j1(e)) NS.call(e, t) && K1(r, t, e[t]);
    return r;
  },
  V1 = (r, e) => PS(r, RS(e));
class OS {
  constructor(e) {
    (this.name = "eip155"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.httpProviders = this.createHttpProviders()),
      (this.chainId = parseInt(this.getDefaultChain()));
  }
  async request(e) {
    switch (e.request.method) {
      case "eth_requestAccounts":
        return this.getAccounts();
      case "eth_accounts":
        return this.getAccounts();
      case "wallet_switchEthereumChain":
        return await this.handleSwitchChain(e);
      case "eth_chainId":
        return parseInt(this.getDefaultChain());
      case "wallet_getCapabilities":
        return await this.getCapabilities(e);
      case "wallet_getCallsStatus":
        return await this.getCallStatus(e);
    }
    return this.namespace.methods.includes(e.request.method)
      ? await this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(parseInt(e), t),
      (this.chainId = parseInt(e)),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId.toString();
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  createHttpProvider(e, t) {
    const i =
      t || Ji(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = parseInt(Ds(t));
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  getHttpProvider() {
    const e = this.chainId,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  async handleSwitchChain(e) {
    var t, i;
    let s = e.request.params
      ? (t = e.request.params[0]) == null
        ? void 0
        : t.chainId
      : "0x0";
    s = s.startsWith("0x") ? s : `0x${s}`;
    const a = parseInt(s, 16);
    if (this.isChainApproved(a)) this.setDefaultChain(`${a}`);
    else if (this.namespace.methods.includes("wallet_switchEthereumChain"))
      await this.client.request({
        topic: e.topic,
        request: { method: e.request.method, params: [{ chainId: s }] },
        chainId: (i = this.namespace.chains) == null ? void 0 : i[0],
      }),
        this.setDefaultChain(`${a}`);
    else
      throw new Error(
        `Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`
      );
    return null;
  }
  isChainApproved(e) {
    return this.namespace.chains.includes(`${this.name}:${e}`);
  }
  async getCapabilities(e) {
    var t, i, s;
    const a =
      (i = (t = e.request) == null ? void 0 : t.params) == null ? void 0 : i[0];
    if (!a)
      throw new Error(
        "Missing address parameter in `wallet_getCapabilities` request"
      );
    const f = this.client.session.get(e.topic),
      g =
        ((s = f == null ? void 0 : f.sessionProperties) == null
          ? void 0
          : s.capabilities) || {};
    if (g != null && g[a]) return g == null ? void 0 : g[a];
    const v = await this.client.request(e);
    try {
      await this.client.session.update(e.topic, {
        sessionProperties: V1(H1({}, f.sessionProperties || {}), {
          capabilities: V1(H1({}, g || {}), { [a]: v }),
        }),
      });
    } catch (h) {
      console.warn("Failed to update session with capabilities", h);
    }
    return v;
  }
  async getCallStatus(e) {
    var t, i;
    const s = this.client.session.get(e.topic),
      a = (t = s.sessionProperties) == null ? void 0 : t.bundler_name;
    if (a) {
      const g = this.getBundlerUrl(e.chainId, a);
      try {
        return await this.getUserOperationReceipt(g, e);
      } catch (v) {
        console.warn("Failed to fetch call status from bundler", v, g);
      }
    }
    const f = (i = s.sessionProperties) == null ? void 0 : i.bundler_url;
    if (f)
      try {
        return await this.getUserOperationReceipt(f, e);
      } catch (g) {
        console.warn("Failed to fetch call status from custom bundler", g, f);
      }
    if (this.namespace.methods.includes(e.request.method))
      return await this.client.request(e);
    throw new Error("Fetching call status not approved by the wallet.");
  }
  async getUserOperationReceipt(e, t) {
    var i;
    const s = new URL(e),
      a = await fetch(s, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(
          rs("eth_getUserOperationReceipt", [
            (i = t.request.params) == null ? void 0 : i[0],
          ])
        ),
      });
    if (!a.ok)
      throw new Error(`Failed to fetch user operation receipt - ${a.status}`);
    return await a.json();
  }
  getBundlerUrl(e, t) {
    return `${bS}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`;
  }
}
class TS {
  constructor(e) {
    (this.name = "solana"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Ds(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class qS {
  constructor(e) {
    (this.name = "cosmos"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        Qi.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Ds(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class DS {
  constructor(e) {
    (this.name = "algorand"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (!this.httpProviders[e]) {
      const i =
        t ||
        Ji(`${this.name}:${e}`, this.namespace, this.client.core.projectId);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    (this.chainId = e),
      this.events.emit(
        Qi.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    return typeof i > "u"
      ? void 0
      : new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class BS {
  constructor(e) {
    (this.name = "cip34"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(
        Qi.DEFAULT_CHAIN_CHANGED,
        `${this.name}:${this.chainId}`
      );
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        const i = this.getCardanoRPCUrl(t),
          s = Ds(t);
        e[s] = this.createHttpProvider(s, i);
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  getCardanoRPCUrl(e) {
    const t = this.namespace.rpcMap;
    if (t) return t[e];
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || this.getCardanoRPCUrl(e);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class FS {
  constructor(e) {
    (this.name = "elrond"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Ds(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class LS {
  constructor(e) {
    (this.name = "multiversx"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        const s = Ds(t);
        e[s] = this.createHttpProvider(
          s,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class kS {
  constructor(e) {
    (this.name = "near"),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    this.namespace = Object.assign(this.namespace, e);
  }
  requestAccounts() {
    return this.getAccounts();
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider().request(e.request);
  }
  setDefaultChain(e, t) {
    if (((this.chainId = e), !this.httpProviders[e])) {
      const i = t || Ji(`${this.name}:${e}`, this.namespace);
      if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
      this.setHttpProvider(e, i);
    }
    this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${this.chainId}`);
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? e
          .filter((t) => t.split(":")[1] === this.chainId.toString())
          .map((t) => t.split(":")[2]) || []
      : [];
  }
  createHttpProviders() {
    const e = {};
    return (
      this.namespace.chains.forEach((t) => {
        var i;
        e[t] = this.createHttpProvider(
          t,
          (i = this.namespace.rpcMap) == null ? void 0 : i[t]
        );
      }),
      e
    );
  }
  getHttpProvider() {
    const e = `${this.name}:${this.chainId}`,
      t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace);
    return typeof i > "u"
      ? void 0
      : new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
class zS {
  constructor(e) {
    (this.name = ta),
      (this.namespace = e.namespace),
      (this.events = Dt("events")),
      (this.client = Dt("client")),
      (this.chainId = this.getDefaultChain()),
      (this.httpProviders = this.createHttpProviders());
  }
  updateNamespace(e) {
    (this.namespace.chains = [
      ...new Set((this.namespace.chains || []).concat(e.chains || [])),
    ]),
      (this.namespace.accounts = [
        ...new Set((this.namespace.accounts || []).concat(e.accounts || [])),
      ]),
      (this.namespace.methods = [
        ...new Set((this.namespace.methods || []).concat(e.methods || [])),
      ]),
      (this.namespace.events = [
        ...new Set((this.namespace.events || []).concat(e.events || [])),
      ]),
      (this.httpProviders = this.createHttpProviders());
  }
  requestAccounts() {
    return this.getAccounts();
  }
  request(e) {
    return this.namespace.methods.includes(e.request.method)
      ? this.client.request(e)
      : this.getHttpProvider(e.chainId).request(e.request);
  }
  setDefaultChain(e, t) {
    this.httpProviders[e] || this.setHttpProvider(e, t),
      (this.chainId = e),
      this.events.emit(Qi.DEFAULT_CHAIN_CHANGED, `${this.name}:${e}`);
  }
  getDefaultChain() {
    if (this.chainId) return this.chainId;
    if (this.namespace.defaultChain) return this.namespace.defaultChain;
    const e = this.namespace.chains[0];
    if (!e) throw new Error("ChainId not found");
    return e.split(":")[1];
  }
  getAccounts() {
    const e = this.namespace.accounts;
    return e
      ? [
          ...new Set(
            e
              .filter((t) => t.split(":")[1] === this.chainId.toString())
              .map((t) => t.split(":")[2])
          ),
        ]
      : [];
  }
  createHttpProviders() {
    var e, t;
    const i = {};
    return (
      (t = (e = this.namespace) == null ? void 0 : e.accounts) == null ||
        t.forEach((s) => {
          const a = Xa(s);
          i[`${a.namespace}:${a.reference}`] = this.createHttpProvider(s);
        }),
      i
    );
  }
  getHttpProvider(e) {
    const t = this.httpProviders[e];
    if (typeof t > "u") throw new Error(`JSON-RPC provider for ${e} not found`);
    return t;
  }
  setHttpProvider(e, t) {
    const i = this.createHttpProvider(e, t);
    i && (this.httpProviders[e] = i);
  }
  createHttpProvider(e, t) {
    const i = t || Ji(e, this.namespace, this.client.core.projectId);
    if (!i) throw new Error(`No RPC url provided for chainId: ${e}`);
    return new Wi(new mn(i, Dt("disableProviderPing")));
  }
}
var $S = Object.defineProperty,
  US = Object.defineProperties,
  jS = Object.getOwnPropertyDescriptors,
  G1 = Object.getOwnPropertySymbols,
  KS = Object.prototype.hasOwnProperty,
  HS = Object.prototype.propertyIsEnumerable,
  J1 = (r, e, t) =>
    e in r
      ? $S(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Oc = (r, e) => {
    for (var t in e || (e = {})) KS.call(e, t) && J1(r, t, e[t]);
    if (G1) for (var t of G1(e)) HS.call(e, t) && J1(r, t, e[t]);
    return r;
  },
  Mu = (r, e) => US(r, jS(e));
class ud {
  constructor(e) {
    (this.events = new Hu()),
      (this.rpcProviders = {}),
      (this.shouldAbortPairingAttempt = !1),
      (this.maxPairingAttempts = 10),
      (this.disableProviderPing = !1),
      (this.providerOpts = e),
      (this.logger =
        typeof (e == null ? void 0 : e.logger) < "u" &&
        typeof (e == null ? void 0 : e.logger) != "string"
          ? e.logger
          : oo(of({ level: (e == null ? void 0 : e.logger) || F1 }))),
      (this.disableProviderPing =
        (e == null ? void 0 : e.disableProviderPing) || !1);
  }
  static async init(e) {
    const t = new ud(e);
    return await t.initialize(), t;
  }
  async request(e, t, i) {
    const [s, a] = this.validateChain(t);
    if (!this.session)
      throw new Error("Please call connect() before request()");
    return await this.getProvider(s).request({
      request: Oc({}, e),
      chainId: `${s}:${a}`,
      topic: this.session.topic,
      expiry: i,
    });
  }
  sendAsync(e, t, i, s) {
    const a = new Date().getTime();
    this.request(e, i, s)
      .then((f) => t(null, ff(a, f)))
      .catch((f) => t(f, void 0));
  }
  async enable() {
    if (!this.client) throw new Error("Sign Client not initialized");
    return (
      this.session ||
        (await this.connect({
          namespaces: this.namespaces,
          optionalNamespaces: this.optionalNamespaces,
          sessionProperties: this.sessionProperties,
        })),
      await this.requestAccounts()
    );
  }
  async disconnect() {
    var e;
    if (!this.session) throw new Error("Please call connect() before enable()");
    await this.client.disconnect({
      topic: (e = this.session) == null ? void 0 : e.topic,
      reason: Ft("USER_DISCONNECTED"),
    }),
      await this.cleanup();
  }
  async connect(e) {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (
      (this.setNamespaces(e),
      await this.cleanupPendingPairings(),
      !e.skipPairing)
    )
      return await this.pair(e.pairingTopic);
  }
  async authenticate(e, t) {
    if (!this.client) throw new Error("Sign Client not initialized");
    this.setNamespaces(e), await this.cleanupPendingPairings();
    const { uri: i, response: s } = await this.client.authenticate(e, t);
    i && ((this.uri = i), this.events.emit("display_uri", i));
    const a = await s();
    if (((this.session = a.session), this.session)) {
      const f = U1(this.session.namespaces);
      (this.namespaces = Eu(this.namespaces, f)),
        this.persist("namespaces", this.namespaces),
        this.onConnect();
    }
    return a;
  }
  on(e, t) {
    this.events.on(e, t);
  }
  once(e, t) {
    this.events.once(e, t);
  }
  removeListener(e, t) {
    this.events.removeListener(e, t);
  }
  off(e, t) {
    this.events.off(e, t);
  }
  get isWalletConnect() {
    return !0;
  }
  async pair(e) {
    this.shouldAbortPairingAttempt = !1;
    let t = 0;
    do {
      if (this.shouldAbortPairingAttempt) throw new Error("Pairing aborted");
      if (t >= this.maxPairingAttempts)
        throw new Error("Max auto pairing attempts reached");
      const { uri: i, approval: s } = await this.client.connect({
        pairingTopic: e,
        requiredNamespaces: this.namespaces,
        optionalNamespaces: this.optionalNamespaces,
        sessionProperties: this.sessionProperties,
      });
      i && ((this.uri = i), this.events.emit("display_uri", i)),
        await s()
          .then((a) => {
            this.session = a;
            const f = U1(a.namespaces);
            (this.namespaces = Eu(this.namespaces, f)),
              this.persist("namespaces", this.namespaces);
          })
          .catch((a) => {
            if (a.message !== kv) throw a;
            t++;
          });
    } while (!this.session);
    return this.onConnect(), this.session;
  }
  setDefaultChain(e, t) {
    try {
      if (!this.session) return;
      const [i, s] = this.validateChain(e),
        a = this.getProvider(i);
      a.name === ta
        ? a.setDefaultChain(`${i}:${s}`, t)
        : a.setDefaultChain(s, t);
    } catch (i) {
      if (!/Please call connect/.test(i.message)) throw i;
    }
  }
  async cleanupPendingPairings(e = {}) {
    this.logger.info("Cleaning up inactive pairings...");
    const t = this.client.pairing.getAll();
    if (vn(t)) {
      for (const i of t)
        e.deletePairings
          ? this.client.core.expirer.set(i.topic, 0)
          : await this.client.core.relayer.subscriber.unsubscribe(i.topic);
      this.logger.info(`Inactive pairings cleared: ${t.length}`);
    }
  }
  abortPairingAttempt() {
    this.shouldAbortPairingAttempt = !0;
  }
  async checkStorage() {
    if (
      ((this.namespaces = await this.getFromStore("namespaces")),
      (this.optionalNamespaces =
        (await this.getFromStore("optionalNamespaces")) || {}),
      this.client.session.length)
    ) {
      const e = this.client.session.keys.length - 1;
      (this.session = this.client.session.get(this.client.session.keys[e])),
        this.createProviders();
    }
  }
  async initialize() {
    this.logger.trace("Initialized"),
      await this.createClient(),
      await this.checkStorage(),
      this.registerEventListeners();
  }
  async createClient() {
    (this.client =
      this.providerOpts.client ||
      (await hd.init({
        core: this.providerOpts.core,
        logger: this.providerOpts.logger || F1,
        relayUrl: this.providerOpts.relayUrl || pS,
        projectId: this.providerOpts.projectId,
        metadata: this.providerOpts.metadata,
        storageOptions: this.providerOpts.storageOptions,
        storage: this.providerOpts.storage,
        name: this.providerOpts.name,
        customStoragePrefix: this.providerOpts.customStoragePrefix,
        telemetryEnabled: this.providerOpts.telemetryEnabled,
      }))),
      this.logger.trace("SignClient Initialized");
  }
  createProviders() {
    if (!this.client) throw new Error("Sign Client not initialized");
    if (!this.session)
      throw new Error(
        "Session not initialized. Please call connect() before enable()"
      );
    const e = [
      ...new Set(Object.keys(this.session.namespaces).map((t) => Qa(t))),
    ];
    Su("client", this.client),
      Su("events", this.events),
      Su("disableProviderPing", this.disableProviderPing),
      e.forEach((t) => {
        if (!this.session) return;
        const i = ES(t, this.session),
          s = $v(i),
          a = Eu(this.namespaces, this.optionalNamespaces),
          f = Mu(Oc({}, a[t]), { accounts: i, chains: s });
        switch (t) {
          case "eip155":
            this.rpcProviders[t] = new OS({ namespace: f });
            break;
          case "algorand":
            this.rpcProviders[t] = new DS({ namespace: f });
            break;
          case "solana":
            this.rpcProviders[t] = new TS({ namespace: f });
            break;
          case "cosmos":
            this.rpcProviders[t] = new qS({ namespace: f });
            break;
          case "polkadot":
            this.rpcProviders[t] = new SS({ namespace: f });
            break;
          case "cip34":
            this.rpcProviders[t] = new BS({ namespace: f });
            break;
          case "elrond":
            this.rpcProviders[t] = new FS({ namespace: f });
            break;
          case "multiversx":
            this.rpcProviders[t] = new LS({ namespace: f });
            break;
          case "near":
            this.rpcProviders[t] = new kS({ namespace: f });
            break;
          default:
            this.rpcProviders[ta]
              ? this.rpcProviders[ta].updateNamespace(f)
              : (this.rpcProviders[ta] = new zS({ namespace: f }));
        }
      });
  }
  registerEventListeners() {
    if (typeof this.client > "u")
      throw new Error("Sign Client is not initialized");
    this.client.on("session_ping", (e) => {
      this.events.emit("session_ping", e);
    }),
      this.client.on("session_event", (e) => {
        const { params: t } = e,
          { event: i } = t;
        if (i.name === "accountsChanged") {
          const s = i.data;
          s && vn(s) && this.events.emit("accountsChanged", s.map(IS));
        } else if (i.name === "chainChanged") {
          const s = t.chainId,
            a = t.event.data,
            f = Qa(s),
            g = Iu(s) !== Iu(a) ? `${f}:${Iu(a)}` : s;
          this.onChainChanged(g);
        } else this.events.emit(i.name, i.data);
        this.events.emit("session_event", e);
      }),
      this.client.on("session_update", ({ topic: e, params: t }) => {
        var i;
        const { namespaces: s } = t,
          a = (i = this.client) == null ? void 0 : i.session.get(e);
        (this.session = Mu(Oc({}, a), { namespaces: s })),
          this.onSessionUpdate(),
          this.events.emit("session_update", { topic: e, params: t });
      }),
      this.client.on("session_delete", async (e) => {
        await this.cleanup(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            Mu(Oc({}, Ft("USER_DISCONNECTED")), { data: e.topic })
          );
      }),
      this.on(Qi.DEFAULT_CHAIN_CHANGED, (e) => {
        this.onChainChanged(e, !0);
      });
  }
  getProvider(e) {
    return this.rpcProviders[e] || this.rpcProviders[ta];
  }
  onSessionUpdate() {
    Object.keys(this.rpcProviders).forEach((e) => {
      var t;
      this.getProvider(e).updateNamespace(
        (t = this.session) == null ? void 0 : t.namespaces[e]
      );
    });
  }
  setNamespaces(e) {
    const { namespaces: t, optionalNamespaces: i, sessionProperties: s } = e;
    t && Object.keys(t).length && (this.namespaces = t),
      i && Object.keys(i).length && (this.optionalNamespaces = i),
      (this.sessionProperties = s),
      this.persist("namespaces", t),
      this.persist("optionalNamespaces", i);
  }
  validateChain(e) {
    const [t, i] = (e == null ? void 0 : e.split(":")) || ["", ""];
    if (!this.namespaces || !Object.keys(this.namespaces).length) return [t, i];
    if (
      t &&
      !Object.keys(this.namespaces || {})
        .map((f) => Qa(f))
        .includes(t)
    )
      throw new Error(
        `Namespace '${t}' is not configured. Please call connect() first with namespace config.`
      );
    if (t && i) return [t, i];
    const s = Qa(Object.keys(this.namespaces)[0]),
      a = this.rpcProviders[s].getDefaultChain();
    return [s, a];
  }
  async requestAccounts() {
    const [e] = this.validateChain();
    return await this.getProvider(e).requestAccounts();
  }
  onChainChanged(e, t = !1) {
    if (!this.namespaces) return;
    const [i, s] = this.validateChain(e);
    s &&
      (t || this.getProvider(i).setDefaultChain(s),
      this.namespaces[i]
        ? (this.namespaces[i].defaultChain = s)
        : this.namespaces[`${i}:${s}`]
        ? (this.namespaces[`${i}:${s}`].defaultChain = s)
        : (this.namespaces[`${i}:${s}`] = { defaultChain: s }),
      this.persist("namespaces", this.namespaces),
      this.events.emit("chainChanged", s));
  }
  onConnect() {
    this.createProviders(),
      this.events.emit("connect", { session: this.session });
  }
  async cleanup() {
    (this.session = void 0),
      (this.namespaces = void 0),
      (this.optionalNamespaces = void 0),
      (this.sessionProperties = void 0),
      this.persist("namespaces", void 0),
      this.persist("optionalNamespaces", void 0),
      this.persist("sessionProperties", void 0),
      await this.cleanupPendingPairings({ deletePairings: !0 });
  }
  persist(e, t) {
    this.client.core.storage.setItem(`${L1}/${e}`, t);
  }
  async getFromStore(e) {
    return await this.client.core.storage.getItem(`${L1}/${e}`);
  }
}
const VS = ud,
  GS = "wc",
  JS = "ethereum_provider",
  WS = `${GS}@2:${JS}:`,
  QS = "https://rpc.walletconnect.org/v1/",
  ju = ["eth_sendTransaction", "personal_sign"],
  YS = [
    "eth_accounts",
    "eth_requestAccounts",
    "eth_sendRawTransaction",
    "eth_sign",
    "eth_signTransaction",
    "eth_signTypedData",
    "eth_signTypedData_v3",
    "eth_signTypedData_v4",
    "eth_sendTransaction",
    "personal_sign",
    "wallet_switchEthereumChain",
    "wallet_addEthereumChain",
    "wallet_getPermissions",
    "wallet_requestPermissions",
    "wallet_registerOnboarding",
    "wallet_watchAsset",
    "wallet_scanQRCode",
    "wallet_sendCalls",
    "wallet_getCapabilities",
    "wallet_getCallsStatus",
    "wallet_showCallsStatus",
  ],
  Ku = ["chainChanged", "accountsChanged"],
  XS = ["chainChanged", "accountsChanged", "message", "disconnect", "connect"];
var ZS = Object.defineProperty,
  eM = Object.defineProperties,
  tM = Object.getOwnPropertyDescriptors,
  W1 = Object.getOwnPropertySymbols,
  rM = Object.prototype.hasOwnProperty,
  iM = Object.prototype.propertyIsEnumerable,
  Q1 = (r, e, t) =>
    e in r
      ? ZS(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ra = (r, e) => {
    for (var t in e || (e = {})) rM.call(e, t) && Q1(r, t, e[t]);
    if (W1) for (var t of W1(e)) iM.call(e, t) && Q1(r, t, e[t]);
    return r;
  },
  Pu = (r, e) => eM(r, tM(e));
function nf(r) {
  return Number(r[0].split(":")[1]);
}
function Tc(r) {
  return `0x${r.toString(16)}`;
}
function nM(r) {
  const {
    chains: e,
    optionalChains: t,
    methods: i,
    optionalMethods: s,
    events: a,
    optionalEvents: f,
    rpcMap: g,
  } = r;
  if (!vn(e)) throw new Error("Invalid chains");
  const v = {
      chains: e,
      methods: i || ju,
      events: a || Ku,
      rpcMap: ra({}, e.length ? { [nf(e)]: g[nf(e)] } : {}),
    },
    h = a == null ? void 0 : a.filter((R) => !Ku.includes(R)),
    y = i == null ? void 0 : i.filter((R) => !ju.includes(R));
  if (!t && !f && !s && !(h != null && h.length) && !(y != null && y.length))
    return { required: e.length ? v : void 0 };
  const A =
      ((h == null ? void 0 : h.length) && (y == null ? void 0 : y.length)) ||
      !t,
    P = {
      chains: [...new Set(A ? v.chains.concat(t || []) : t)],
      methods: [...new Set(v.methods.concat(s != null && s.length ? s : YS))],
      events: [...new Set(v.events.concat(f != null && f.length ? f : XS))],
      rpcMap: g,
    };
  return { required: e.length ? v : void 0, optional: t.length ? P : void 0 };
}
class dd {
  constructor() {
    (this.events = new Pi.EventEmitter()),
      (this.namespace = "eip155"),
      (this.accounts = []),
      (this.chainId = 1),
      (this.STORAGE_KEY = WS),
      (this.on = (e, t) => (this.events.on(e, t), this)),
      (this.once = (e, t) => (this.events.once(e, t), this)),
      (this.removeListener = (e, t) => (
        this.events.removeListener(e, t), this
      )),
      (this.off = (e, t) => (this.events.off(e, t), this)),
      (this.parseAccount = (e) =>
        this.isCompatibleChainId(e) ? this.parseAccountId(e).address : e),
      (this.signer = {}),
      (this.rpc = {});
  }
  static async init(e) {
    const t = new dd();
    return await t.initialize(e), t;
  }
  async request(e, t) {
    return await this.signer.request(e, this.formatChainId(this.chainId), t);
  }
  sendAsync(e, t, i) {
    this.signer.sendAsync(e, t, this.formatChainId(this.chainId), i);
  }
  get connected() {
    return this.signer.client ? this.signer.client.core.relayer.connected : !1;
  }
  get connecting() {
    return this.signer.client ? this.signer.client.core.relayer.connecting : !1;
  }
  async enable() {
    return (
      this.session || (await this.connect()),
      await this.request({ method: "eth_requestAccounts" })
    );
  }
  async connect(e) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts(e);
    const { required: t, optional: i } = nM(this.rpc);
    try {
      const s = await new Promise(async (f, g) => {
        var v;
        this.rpc.showQrModal &&
          ((v = this.modal) == null ||
            v.subscribeModal((h) => {
              !h.open &&
                !this.signer.session &&
                (this.signer.abortPairingAttempt(),
                g(new Error("Connection request reset. Please try again.")));
            })),
          await this.signer
            .connect(
              Pu(
                ra(
                  { namespaces: ra({}, t && { [this.namespace]: t }) },
                  i && { optionalNamespaces: { [this.namespace]: i } }
                ),
                { pairingTopic: e == null ? void 0 : e.pairingTopic }
              )
            )
            .then((h) => {
              f(h);
            })
            .catch((h) => {
              g(new Error(h.message));
            });
      });
      if (!s) return;
      const a = _p(s.namespaces, [this.namespace]);
      this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
        this.setAccounts(a),
        this.events.emit("connect", { chainId: Tc(this.chainId) });
    } catch (s) {
      throw (this.signer.logger.error(s), s);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async authenticate(e, t) {
    if (!this.signer.client)
      throw new Error("Provider not initialized. Call init() first");
    this.loadConnectOpts({ chains: e == null ? void 0 : e.chains });
    try {
      const i = await new Promise(async (a, f) => {
          var g;
          this.rpc.showQrModal &&
            ((g = this.modal) == null ||
              g.subscribeModal((v) => {
                !v.open &&
                  !this.signer.session &&
                  (this.signer.abortPairingAttempt(),
                  f(new Error("Connection request reset. Please try again.")));
              })),
            await this.signer
              .authenticate(Pu(ra({}, e), { chains: this.rpc.chains }), t)
              .then((v) => {
                a(v);
              })
              .catch((v) => {
                f(new Error(v.message));
              });
        }),
        s = i.session;
      if (s) {
        const a = _p(s.namespaces, [this.namespace]);
        this.setChainIds(this.rpc.chains.length ? this.rpc.chains : a),
          this.setAccounts(a),
          this.events.emit("connect", { chainId: Tc(this.chainId) });
      }
      return i;
    } catch (i) {
      throw (this.signer.logger.error(i), i);
    } finally {
      this.modal && this.modal.closeModal();
    }
  }
  async disconnect() {
    this.session && (await this.signer.disconnect()), this.reset();
  }
  get isWalletConnect() {
    return !0;
  }
  get session() {
    return this.signer.session;
  }
  registerEventListeners() {
    this.signer.on("session_event", (e) => {
      const { params: t } = e,
        { event: i } = t;
      i.name === "accountsChanged"
        ? ((this.accounts = this.parseAccounts(i.data)),
          this.events.emit("accountsChanged", this.accounts))
        : i.name === "chainChanged"
        ? this.setChainId(this.formatChainId(i.data))
        : this.events.emit(i.name, i.data),
        this.events.emit("session_event", e);
    }),
      this.signer.on("chainChanged", (e) => {
        const t = parseInt(e);
        (this.chainId = t),
          this.events.emit("chainChanged", Tc(this.chainId)),
          this.persist();
      }),
      this.signer.on("session_update", (e) => {
        this.events.emit("session_update", e);
      }),
      this.signer.on("session_delete", (e) => {
        this.reset(),
          this.events.emit("session_delete", e),
          this.events.emit(
            "disconnect",
            Pu(ra({}, Ft("USER_DISCONNECTED")), {
              data: e.topic,
              name: "USER_DISCONNECTED",
            })
          );
      }),
      this.signer.on("display_uri", (e) => {
        var t, i;
        this.rpc.showQrModal &&
          ((t = this.modal) == null || t.closeModal(),
          (i = this.modal) == null || i.openModal({ uri: e })),
          this.events.emit("display_uri", e);
      });
  }
  switchEthereumChain(e) {
    this.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: e.toString(16) }],
    });
  }
  isCompatibleChainId(e) {
    return typeof e == "string" ? e.startsWith(`${this.namespace}:`) : !1;
  }
  formatChainId(e) {
    return `${this.namespace}:${e}`;
  }
  parseChainId(e) {
    return Number(e.split(":")[1]);
  }
  setChainIds(e) {
    const t = e
      .filter((i) => this.isCompatibleChainId(i))
      .map((i) => this.parseChainId(i));
    t.length &&
      ((this.chainId = t[0]),
      this.events.emit("chainChanged", Tc(this.chainId)),
      this.persist());
  }
  setChainId(e) {
    if (this.isCompatibleChainId(e)) {
      const t = this.parseChainId(e);
      (this.chainId = t), this.switchEthereumChain(t);
    }
  }
  parseAccountId(e) {
    const [t, i, s] = e.split(":");
    return { chainId: `${t}:${i}`, address: s };
  }
  setAccounts(e) {
    (this.accounts = e
      .filter(
        (t) =>
          this.parseChainId(this.parseAccountId(t).chainId) === this.chainId
      )
      .map((t) => this.parseAccountId(t).address)),
      this.events.emit("accountsChanged", this.accounts);
  }
  getRpcConfig(e) {
    var t, i;
    const s = (t = e == null ? void 0 : e.chains) != null ? t : [],
      a = (i = e == null ? void 0 : e.optionalChains) != null ? i : [],
      f = s.concat(a);
    if (!f.length)
      throw new Error(
        "No chains specified in either `chains` or `optionalChains`"
      );
    const g = s.length ? (e == null ? void 0 : e.methods) || ju : [],
      v = s.length ? (e == null ? void 0 : e.events) || Ku : [],
      h = (e == null ? void 0 : e.optionalMethods) || [],
      y = (e == null ? void 0 : e.optionalEvents) || [],
      A = (e == null ? void 0 : e.rpcMap) || this.buildRpcMap(f, e.projectId),
      P = (e == null ? void 0 : e.qrModalOptions) || void 0;
    return {
      chains: s == null ? void 0 : s.map((R) => this.formatChainId(R)),
      optionalChains: a.map((R) => this.formatChainId(R)),
      methods: g,
      events: v,
      optionalMethods: h,
      optionalEvents: y,
      rpcMap: A,
      showQrModal: !!(e != null && e.showQrModal),
      qrModalOptions: P,
      projectId: e.projectId,
      metadata: e.metadata,
    };
  }
  buildRpcMap(e, t) {
    const i = {};
    return (
      e.forEach((s) => {
        i[s] = this.getRpcUrl(s, t);
      }),
      i
    );
  }
  async initialize(e) {
    if (
      ((this.rpc = this.getRpcConfig(e)),
      (this.chainId = this.rpc.chains.length
        ? nf(this.rpc.chains)
        : nf(this.rpc.optionalChains)),
      (this.signer = await VS.init({
        projectId: this.rpc.projectId,
        metadata: this.rpc.metadata,
        disableProviderPing: e.disableProviderPing,
        relayUrl: e.relayUrl,
        storageOptions: e.storageOptions,
        customStoragePrefix: e.customStoragePrefix,
        telemetryEnabled: e.telemetryEnabled,
      })),
      this.registerEventListeners(),
      await this.loadPersistedSession(),
      this.rpc.showQrModal)
    ) {
      let t;
      try {
        const { WalletConnectModal: i } = await A5(
          () => import("./index-BfRf43q7.js").then((s) => s.i),
          __vite__mapDeps([0, 1, 2]),
          import.meta.url
        );
        t = i;
      } catch {
        throw new Error(
          "To use QR modal, please install @walletconnect/modal package"
        );
      }
      if (t)
        try {
          this.modal = new t(
            ra({ projectId: this.rpc.projectId }, this.rpc.qrModalOptions)
          );
        } catch (i) {
          throw (
            (this.signer.logger.error(i),
            new Error("Could not generate WalletConnectModal Instance"))
          );
        }
    }
  }
  loadConnectOpts(e) {
    if (!e) return;
    const { chains: t, optionalChains: i, rpcMap: s } = e;
    t &&
      vn(t) &&
      ((this.rpc.chains = t.map((a) => this.formatChainId(a))),
      t.forEach((a) => {
        this.rpc.rpcMap[a] = (s == null ? void 0 : s[a]) || this.getRpcUrl(a);
      })),
      i &&
        vn(i) &&
        ((this.rpc.optionalChains = []),
        (this.rpc.optionalChains =
          i == null ? void 0 : i.map((a) => this.formatChainId(a))),
        i.forEach((a) => {
          this.rpc.rpcMap[a] = (s == null ? void 0 : s[a]) || this.getRpcUrl(a);
        }));
  }
  getRpcUrl(e, t) {
    var i;
    return (
      ((i = this.rpc.rpcMap) == null ? void 0 : i[e]) ||
      `${QS}?chainId=eip155:${e}&projectId=${t || this.rpc.projectId}`
    );
  }
  async loadPersistedSession() {
    if (this.session)
      try {
        const e = await this.signer.client.core.storage.getItem(
            `${this.STORAGE_KEY}/chainId`
          ),
          t = this.session.namespaces[`${this.namespace}:${e}`]
            ? this.session.namespaces[`${this.namespace}:${e}`]
            : this.session.namespaces[this.namespace];
        this.setChainIds(
          e ? [this.formatChainId(e)] : t == null ? void 0 : t.accounts
        ),
          this.setAccounts(t == null ? void 0 : t.accounts);
      } catch (e) {
        this.signer.logger.error(
          "Failed to load persisted session, clearing state..."
        ),
          this.signer.logger.error(e),
          await this.disconnect().catch((t) => this.signer.logger.warn(t));
      }
  }
  reset() {
    (this.chainId = 1), (this.accounts = []);
  }
  persist() {
    this.session &&
      this.signer.client.core.storage.setItem(
        `${this.STORAGE_KEY}/chainId`,
        this.chainId
      );
  }
  parseAccounts(e) {
    return typeof e == "string" || e instanceof String
      ? [this.parseAccount(e)]
      : e.map((t) => this.parseAccount(t));
  }
}
const MM = dd;
export {
  MM as EthereumProvider,
  XS as OPTIONAL_EVENTS,
  YS as OPTIONAL_METHODS,
  Ku as REQUIRED_EVENTS,
  ju as REQUIRED_METHODS,
  dd as default,
};
